<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[WAVE-X TERMINAL] :: ACCESS GRANTED</title>
    <style>
        :root {
            --terminal-black: #000000;
            --terminal-green: #00ff00;
            --terminal-gray: #cccccc;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            background: #000000 !important;
            background-image:
                linear-gradient(135deg, #000000, #0a0a0a, #000000),
                radial-gradient(circle at 20% 80%, rgba(0, 255, 0, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(0, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(255, 0, 255, 0.05) 0%, transparent 50%) !important;
            background-attachment: fixed !important;
            color: #00ff00 !important;
            font-family: 'Consolas', 'Monaco', monospace !important;
            overflow: hidden !important;
            height: 100vh !important;
            width: 100vw !important;
            margin: 0 !important;
            padding: 0 !important;
        }

        html {
            background: #000000 !important;
        }

        /* Custom Cursor */
        .cursor::after {
            content: '‚ñà';
            animation: blink 1s infinite;
            color: var(--terminal-green);
        }

        /* Matrix Rain Animation (Minimal - Fixed Code) */
        .matrix-rain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
            opacity: 0.15;
        }

        .matrix-char {
            position: absolute;
            color: var(--terminal-green);
            font-size: 14px;
            opacity: 0.4;
            user-select: none;
            font-family: 'Consolas', 'Monaco', monospace;
            text-shadow: 0 0 10px var(--terminal-green);
        }

        /* Realistic Terminal Interface */
        .terminal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 800px;
            height: 500px;
            background: var(--terminal-black);
            border: 1px solid #333;
            overflow: hidden;
            z-index: 10;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }

        .terminal-header {
            background: linear-gradient(to right, #2b2b2b, #3b3b3b);
            padding: 8px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #555;
        }

        .terminal-title {
            color: var(--terminal-gray);
            font-size: 12px;
            font-weight: normal;
        }

        .terminal-controls {
            display: flex;
            gap: 6px;
        }

        .control-btn {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
        }

        .control-btn.close { background: #ff5f57; }
        .control-btn.min { background: #ffbd2e; }
        .control-btn.max { background: #28ca42; }

        .terminal-content {
            padding: 20px;
            height: calc(100% - 34px);
            overflow: hidden;
            position: relative;
            background: var(--terminal-black);
            color: var(--terminal-green);
        }

        /* Typing Animation */
        .typed-text {
            white-space: pre-wrap;
            line-height: 1.2;
            font-size: 14px;
        }

        .cursor::after {
            content: '‚ñà';
            animation: blink 1s infinite;
            color: var(--terminal-green);
        }

        /* Blinking cursor only */
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        /* Loading Bar */
        .progress-bar {
            position: absolute;
            bottom: 20px;
            left: 20px;
            right: 20px;
            height: 4px;
            background: rgba(0, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--hacker-cyan), var(--hacker-green));
            width: 0%;
            animation: progress 5s ease-out forwards;
        }

        /* Dramatic Effects */
        .glitch-effect {
            animation: glitch 0.3s linear infinite;
        }

        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--hacker-cyan), transparent);
            animation: scanMove 2s linear infinite;
            pointer-events: none;
        }

        .corruption {
            background: rgba(255, 0, 0, 0.1);
            animation: corruptionFlash 0.1s linear infinite alternate;
        }

        /* Status Messages */
        .status-message {
            position: absolute;
            top: 20px;
            right: 20px;
            color: var(--hacker-orange);
            font-size: 12px;
            opacity: 0;
            animation: statusFade 2s ease-in-out forwards;
        }

        /* Key Animations */
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        @keyframes textGlow {
            0% { text-shadow: 0 0 5px var(--hacker-cyan); }
            100% { text-shadow: 0 0 15px var(--hacker-cyan), 0 0 25px var(--hacker-cyan); }
        }

        @keyframes progress {
            0% { width: 0%; }
            80% { width: 95%; }
            100% { width: 100%; }
        }

        @keyframes glitch {
            0%, 100% { transform: translate(0); }
            10% { transform: translate(-2px, 2px); }
            20% { transform: translate(-2px, -2px); }
            30% { transform: translate(2px, 2px); }
            40% { transform: translate(2px, -2px); }
        }

        @keyframes scanMove {
            0% { top: 0; }
            100% { top: 100%; }
        }

        @keyframes corruptionFlash {
            0% { background-color: rgba(255, 0, 0, 0.1); }
            100% { background-color: rgba(255, 0, 0, 0.3); }
        }

        @keyframes statusFade {
            0% { opacity: 0; transform: translateY(-10px); }
            50% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(10px); }
        }

        @keyframes passwordTry {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); color: var(--hacker-orange); }
            100% { transform: scale(1); }
        }

        @keyframes terminalIntro {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.8) rotateX(90deg);
                filter: blur(10px);
            }
            50% {
                opacity: 0.7;
                transform: translate(-50%, -50%) scale(1.05) rotateX(10deg);
                filter: blur(2px);
            }
            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1) rotateX(0deg);
                filter: blur(0px);
            }
        }

        /* Chromebook Crasher shudder effect - matching reference */
        @keyframes shudder {
            0% { transform: translate(0); }
            50% { transform: translate(3px, -3px); }
            100% { transform: translate(0); }
        }

        /* Audio Visualizer Bars (simulated) */
        .audio-bars {
            position: fixed;
            bottom: 20px;
            left: 20px;
            display: flex;
            gap: 2px;
            z-index: 5;
        }

        .audio-bar {
            width: 3px;
            background: var(--hacker-green);
            height: 20px;
            animation: audioWave 0.5s ease-in-out infinite alternate;
        }

        .audio-bar:nth-child(2) { animation-delay: 0.1s; height: 25px; }
        .audio-bar:nth-child(3) { animation-delay: 0.2s; height: 15px; }
        .audio-bar:nth-child(4) { animation-delay: 0.3s; height: 30px; }
        .audio-bar:nth-child(5) { animation-delay: 0.4s; height: 18px; }

        @keyframes audioWave {
            0% { opacity: 0.3; transform: scaleY(0.5); }
            100% { opacity: 1; transform: scaleY(1); }
        }

        /* Security Level Indicator */
        .security-level {
            position: fixed;
            top: 20px;
            left: 20px;
            font-size: 12px;
            color: var(--hacker-orange);
            text-shadow: 0 0 5px var(--hacker-orange);
        }

        /* Override animations for intro */
        .terminal {
            animation: terminalIntro 1.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        /* Hidden elements */
        .hidden { display: none; }

        /* Completion state */
        .completed .terminal {
            border-color: var(--hacker-green);
            box-shadow: 0 0 100px rgba(0, 255, 65, 0.5);
        }

        .completed .terminal-header {
            background: linear-gradient(90deg, var(--hacker-black), var(--hacker-green), var(--hacker-black));
        }

        /* Games Page Styles */
        .games-page {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: var(--hacker-black);
            opacity: 0;
            visibility: hidden;
            transition: opacity 1s ease-in-out, visibility 0s 1s;
            overflow-y: auto;
            z-index: 5;
        }

        .games-page.show {
            opacity: 1;
            visibility: visible;
        }

        /* Tab System (Enhanced Hacker Theme) */
        .tab-bar {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: linear-gradient(135deg, #0a0a0a, #1a1a1a, #0a0a0a);
            border-bottom: 3px solid #00ff00;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.3), inset 0 0 20px rgba(0, 255, 0, 0.1);
            display: flex;
            align-items: center;
            z-index: 6;
            overflow: hidden;
        }

        .tab-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 0, 0.1), transparent);
            animation: scanLine 3s linear infinite;
        }

        .tab {
            background: linear-gradient(135deg, #1a1a1a, #0a0a0a);
            border: 2px solid #00ff00;
            color: #00ff00;
            padding: 12px 25px;
            margin: 8px;
            cursor: pointer;
            border-radius: 0;
            transition: all 0.3s ease;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 12px;
            position: relative;
            overflow: hidden;
            text-shadow: 0 0 10px #00ff00;
        }

        .tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 0, 0.2), transparent);
            transition: left 0.5s;
        }

        .tab:hover::before,
        .tab.active::before {
            left: 100%;
        }

        .tab.active {
            background: linear-gradient(135deg, #00ff00, #00aa00, #00ff00);
            color: #000000;
            border-color: #00ff00;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.8), inset 0 0 10px rgba(0, 255, 0, 0.5);
            text-shadow: none;
            transform: translateY(0);
        }

        .tab:hover:not(.active) {
            background: linear-gradient(135deg, #2a2a2a, #1a1a1a);
            border-color: #00aa00;
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.4);
            transform: scale(1.05);
        }

        @keyframes scanLine {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .tab-content {
            display: none;
            padding-top: 70px; /* Account for tab bar */
            min-height: calc(100vh - 70px);
        }

        .tab-content.active {
            display: block;
        }

        .games-header {
            padding: 40px 20px 20px;
            text-align: center;
            background: linear-gradient(180deg, rgba(0, 0, 0, 0.9) 0%, rgba(0, 255, 65, 0.1) 100%);
            border-bottom: 2px solid var(--hacker-cyan);
        }

        .games-header h1 {
            color: var(--hacker-cyan);
            font-size: 3rem;
            font-weight: bold;
            text-shadow: 0 0 20px var(--hacker-cyan);
            margin-bottom: 10px;
            letter-spacing: 2px;
        }

        .games-header .subtitle {
            color: var(--hacker-green);
            font-size: 1.2rem;
            opacity: 0.8;
            margin-bottom: 20px;
        }

        .games-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .dark-mode-toggle {
            position: absolute;
            top: 10px;
            right: 20px;
            background: linear-gradient(135deg, #0a0a0a, #1a1a1a);
            border: 2px solid #00ff00;
            color: #00ff00;
            padding: 8px 15px;
            border-radius: 0;
            cursor: pointer;
            font-size: 12px;
            font-family: monospace;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
        }

        .dark-mode-toggle:hover {
            background: linear-gradient(135deg, #00ff00, #00aa00);
            color: #000000;
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.8);
        }

        .search-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        .search-input {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid var(--hacker-cyan);
            color: var(--hacker-green);
            padding: 12px 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            width: 300px;
            max-width: 80%;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--hacker-green);
            box-shadow: 0 0 15px rgba(0, 255, 65, 0.5);
        }

        .search-input::placeholder {
            color: var(--hacker-orange);
            opacity: 0.7;
        }

        .search-btn {
            background: linear-gradient(135deg, var(--hacker-black), var(--hacker-cyan));
            border: 2px solid var(--hacker-cyan);
            color: var(--hacker-cyan);
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            margin-left: 10px;
        }

        .search-btn:hover {
            background: linear-gradient(135deg, var(--hacker-cyan), var(--hacker-black));
            color: var(--hacker-black);
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.5);
        }

        .games-btn {
            background: linear-gradient(135deg, var(--hacker-black), var(--hacker-cyan));
            border: 2px solid var(--hacker-cyan);
            color: var(--hacker-cyan);
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
        }

        .games-btn:hover {
            background: linear-gradient(135deg, var(--hacker-cyan), var(--hacker-black));
            color: var(--hacker-black);
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(0, 255, 255, 0.6);
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
            padding: 30px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .game-card {
            background: linear-gradient(135deg, #0a0a0a, #1a1a1a);
            border: 2px solid #00ff00;
            border-radius: 0;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.4), inset 0 0 10px rgba(0, 255, 0, 0.1);
            backdrop-filter: blur(10px);
            position: relative;
            font-family: monospace;
        }

        .game-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #00ff00, transparent);
            transition: left 0.5s;
        }

        .game-card:hover::before {
            left: 100%;
        }

        .game-card:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: var(--hacker-green);
            box-shadow: 0 0 30px rgba(0, 255, 65, 0.5);
            z-index: 10;
        }

        .game-thumb {
            width: 100%;
            height: 120px;
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
            border-radius: 0;
            transition: transform 0.3s ease;
        }

        .game-card:hover .game-thumb {
            transform: scale(1.05);
        }

        .game-caption {
            padding: 15px;
            text-align: center;
            color: var(--hacker-green);
            font-size: 16px;
            font-weight: bold;
            text-shadow: 0 0 10px var(--hacker-green);
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.9), rgba(0, 255, 65, 0.1));
        }

        .game-card:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
            z-index: 1;
        }

        .game-card:hover:before {
            left: 100%;
        }

        /* Matrix rain persists on games page */
        .games-page.show ~ .matrix-rain {
            z-index: 1;
        }

        /* Loading animation for game transitions */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .game-card {
            animation: fadeInUp 0.6s ease-out forwards;
        }

        .game-card:nth-child(odd) {
            animation-delay: 0.1s;
        }

        .game-card:nth-child(even) {
            animation-delay: 0.2s;
        }

        /* Proxy Interface Styles */
        .proxy-interface {
            padding: 40px 20px;
            text-align: center;
            max-width: 1000px;
            margin: 0 auto;
        }

        .proxy-interface h1 {
            color: var(--hacker-cyan);
            font-size: 2.5rem;
            font-weight: bold;
            text-shadow: 0 0 20px var(--hacker-cyan);
            margin-bottom: 30px;
        }

        .proxy-status {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid var(--hacker-cyan);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--hacker-green);
            font-weight: bold;
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--hacker-red);
        }

        .status-dot.active {
            background: var(--hacker-green);
            box-shadow: 0 0 10px var(--hacker-green);
        }

        .status-metrics {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .metric {
            color: var(--hacker-cyan);
            font-size: 14px;
        }

        .proxy-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .proxy-btn {
            background: linear-gradient(135deg, var(--hacker-black), var(--hacker-cyan));
            border: 2px solid var(--hacker-cyan);
            color: var(--hacker-cyan);
            padding: 12px 24px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
        }

        .proxy-btn:hover:not(.active) {
            background: linear-gradient(135deg, var(--hacker-cyan), var(--hacker-black));
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(0, 255, 255, 0.6);
        }

        .proxy-btn.active {
            background: linear-gradient(135deg, var(--hacker-green), var(--hacker-black));
            border-color: var(--hacker-green);
            color: var(--hacker-black);
            box-shadow: 0 0 25px rgba(0, 255, 65, 0.6);
        }

        .proxy-log {
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid var(--hacker-cyan);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 30px;
            max-height: 400px;
            overflow-y: auto;
        }

        .log-header {
            background: linear-gradient(90deg, var(--hacker-cyan), var(--hacker-black));
            color: var(--hacker-black);
            padding: 10px 15px;
            font-weight: bold;
            text-align: center;
            font-size: 14px;
        }

        .log-entries {
            padding: 15px;
            max-height: 350px;
            overflow-y: auto;
        }

        .log-entry {
            padding: 3px 0;
            font-size: 13px;
            font-family: monospace;
        }

        .log-entry.success { color: var(--hacker-green); }
        .log-entry.info { color: var(--hacker-cyan); }
        .log-entry.warning { color: var(--hacker-orange); }
        .log-entry.error { color: var(--hacker-red); }

        .url-input-container {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .url-input {
            flex: 1;
            min-width: 200px;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid var(--hacker-cyan);
            color: var(--hacker-green);
            padding: 12px 15px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 14px;
        }

        .url-input:focus {
            outline: none;
            border-color: var(--hacker-green);
            box-shadow: 0 0 10px rgba(0, 255, 65, 0.5);
        }

        .url-submit, .proxy-url-input {
            font-family: monospace;
        }

        .url-submit {
            background: linear-gradient(135deg, var(--hacker-black), var(--hacker-cyan));
            border: 2px solid var(--hacker-cyan);
            color: var(--hacker-black);
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
        }

        .url-submit:hover {
            background: linear-gradient(135deg, var(--hacker-cyan), var(--hacker-black));
            color: var(--hacker-cyan);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.5);
        }

        .url-label {
            color: var(--hacker-orange);
            font-size: 16px;
            font-weight: bold;
        }

        .proxy-url-input {
            text-align: center;
        }

        /* Proxy Launch Section */
        .proxy-launch-section {
            text-align: center;
            margin-top: 50px;
        }

        .launch-proxy-btn {
            background: linear-gradient(135deg, var(--hacker-black), var(--hacker-green));
            border: 3px solid var(--hacker-green);
            color: var(--hacker-green);
            padding: 20px 40px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 24px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: all 0.3s ease;
            box-shadow: 0 0 25px rgba(0, 255, 0, 0.5);
            margin-bottom: 30px;
        }

        .launch-proxy-btn:hover {
            background: linear-gradient(135deg, var(--hacker-green), var(--hacker-black));
            transform: scale(1.05);
            box-shadow: 0 0 40px rgba(0, 255, 0, 0.8);
        }

        .launch-proxy-btn:active {
            transform: scale(0.95);
        }

        .proxy-overlay-text {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--hacker-green);
            font-size: 28px;
            font-family: monospace;
            font-weight: bold;
            text-shadow: 0 0 20px var(--hacker-green);
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid var(--hacker-cyan);
            border-radius: 10px;
            padding: 30px 50px;
            z-index: 2000;
            white-space: nowrap;
        }

        /* Tools Interface Styles */
        .tools-interface {
            padding: 40px 20px;
            text-align: center;
            max-width: 1000px;
            margin: 0 auto;
        }

        /* Enhanced Tab Bar */
        .tab {
            background: linear-gradient(135deg, #1a1a1a, #0a0a0a);
            border: 2px solid #00ff00;
            color: #00ff00;
            padding: 15px 30px;
            margin: 8px;
            cursor: pointer;
            border-radius: 0;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 3px;
            font-size: 14px;
            position: relative;
            overflow: hidden;
            text-shadow: 0 0 10px #00ff00;
            min-width: 140px;
        }

        .tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                transparent,
                rgba(0, 255, 0, 0.2),
                rgba(0, 255, 0, 0.4),
                rgba(0, 255, 0, 0.2),
                transparent);
            transition: left 0.6s;
            z-index: 0;
        }

        .tab > * {
            position: relative;
            z-index: 1;
        }

        .tab:hover::before,
        .tab.active::before {
            left: 100%;
        }

        .tab.active {
            background: linear-gradient(135deg, #00ff00, #00aa00, #00ff00);
            color: #000000;
            border-color: #00ff00;
            box-shadow:
                0 0 25px rgba(0, 255, 0, 0.6),
                inset 0 0 15px rgba(0, 255, 0, 0.3),
                0 0 0 1px rgba(255, 255, 255, 0.1);
            text-shadow: none;
            transform: scale(1.05) translateY(-2px);
        }

        .tab:hover:not(.active) {
            background: linear-gradient(135deg, #2a2a2a, #1a1a1a);
            border-color: #00aa00;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.4);
            transform: translateY(-1px);
        }

        .tab:active {
            transform: scale(0.98) translateY(0);
            transition: transform 0.1s;
        }

        .tools-interface h1 {
            color: var(--hacker-cyan);
            font-size: 2.5rem;
            font-weight: bold;
            text-shadow: 0 0 20px var(--hacker-cyan);
            margin-bottom: 30px;
            text-align: center;
            background: linear-gradient(45deg, var(--hacker-cyan), var(--hacker-green), var(--hacker-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }

        .tool-card {
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.95), rgba(10, 10, 10, 0.9));
            border: 2px solid var(--hacker-cyan);
            border-radius: 20px;
            padding: 30px 25px;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow:
                0 0 20px rgba(0, 255, 255, 0.2),
                inset 0 0 0 1px rgba(0, 255, 255, 0.1);
            text-align: center;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                transparent,
                rgba(0, 255, 255, 0.1),
                rgba(0, 255, 255, 0.2),
                rgba(0, 255, 255, 0.1),
                transparent);
            transition: left 0.5s;
            z-index: 1;
        }

        .tool-card:hover::before {
            left: 100%;
        }

        .tool-card:hover {
            transform: translateY(-15px) scale(1.03);
            border-color: var(--hacker-green);
            box-shadow:
                0 0 35px rgba(0, 255, 65, 0.4),
                0 10px 30px rgba(0, 0, 0, 0.5),
                inset 0 0 0 1px rgba(0, 255, 65, 0.2);
        }

        .tool-card:active {
            transform: scale(0.97);
            transition: transform 0.1s;
        }

        .tool-card > * {
            position: relative;
            z-index: 2;
        }

        .tool-icon {
            font-size: 3.5rem;
            margin-bottom: 20px;
            display: block;
            filter: drop-shadow(0 0 10px var(--hacker-cyan));
            transition: transform 0.3s ease;
        }

        .tool-card:hover .tool-icon {
            transform: scale(1.1);
        }

        .tool-title {
            color: var(--hacker-cyan);
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 12px;
            text-shadow: 0 0 15px var(--hacker-cyan);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .tool-card:hover .tool-title {
            color: var(--hacker-green);
            text-shadow: 0 0 20px var(--hacker-green);
        }

        .tool-desc {
            color: var(--hacker-green);
            font-size: 14px;
            opacity: 0.9;
            line-height: 1.4;
        }

        .tool-card:hover .tool-desc {
            opacity: 1;
            color: var(--hacker-cyan);
        }

        /* Tips Bar at Bottom */
        .tips-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 50px;
            background: linear-gradient(135deg,
                rgba(0, 0, 0, 0.95),
                rgba(10, 10, 10, 0.9),
                rgba(0, 0, 0, 0.95));
            border-top: 3px solid var(--hacker-green);
            box-shadow: 0 -5px 20px rgba(0, 255, 0, 0.3);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            backdrop-filter: blur(5px);
        }

        .tips-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                transparent,
                rgba(0, 255, 0, 0.1),
                transparent);
            animation: tipsScan 8s linear infinite;
        }

        .tips-text {
            color: var(--hacker-green);
            font-family: monospace;
            font-size: 16px;
            font-weight: bold;
            text-shadow: 0 0 10px var(--hacker-green);
            letter-spacing: 1px;
            white-space: nowrap;
            padding: 0 20px;
            position: relative;
            z-index: 1;
        }

        @keyframes tipsScan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .games-page.show .tips-bar {
            position: fixed;
        }

        /* Threat Overlay Styles (Random Images) */
        .threat-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 20;
            display: none;
        }

        .threat-overlay.active {
            display: block;
        }

        .threat-image {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            height: 80%;
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
            border: 3px solid #ff0000;
            box-shadow: 0 0 50px rgba(255, 0, 0, 0.8);
            background-color: #000;
        }

        .threat-slices {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            height: 80%;
            display: flex;
            flex-direction: row;
        }

        .slice {
            flex: 1;
            height: 100%;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            transform-origin: center;
        }

        /* Slice Animation */
        .slice:nth-child(1) { animation: slice1 2s ease-out forwards; }
        .slice:nth-child(2) { animation: slice2 2s ease-out forwards; }
        .slice:nth-child(3) { animation: slice3 2s ease-out forwards; }
        .slice:nth-child(4) { animation: slice4 2s ease-out forwards; }
        .slice:nth-child(5) { animation: slice5 2s ease-out forwards; }
        .slice:nth-child(6) { animation: slice6 2s ease-out forwards; }
        .slice:nth-child(7) { animation: slice7 2s ease-out forwards; }
        .slice:nth-child(8) { animation: slice8 2s ease-out forwards; }
        .slice:nth-child(9) { animation: slice9 2s ease-out forwards; }
        .slice:nth-child(10) { animation: slice10 2s ease-out forwards; }

        /* Slice Animations */
        @keyframes slice1 { 0% { transform: translateX(0) rotate(0deg); opacity: 1; } 50% { opacity: 1; } 100% { transform: translateX(-200px) translateY(-100px) rotate(-30deg); opacity: 0; } }
        @keyframes slice2 { 0% { transform: translateX(0) rotate(0deg); opacity: 1; } 50% { opacity: 1; } 100% { transform: translateX(-150px) translateY(-50px) rotate(-20deg); opacity: 0; } }
        @keyframes slice3 { 0% { transform: translateX(0) rotate(0deg); opacity: 1; } 50% { opacity: 1; } 100% { transform: translateX(-100px) translateY(0) rotate(-10deg); opacity: 0; } }
        @keyframes slice4 { 0% { transform: translateX(0) rotate(0deg); opacity: 1; } 50% { opacity: 1; } 100% { transform: translateX(-50px) translateY(50px) rotate(10deg); opacity: 0; } }
        @keyframes slice5 { 0% { transform: translateX(0) rotate(0deg); opacity: 1; } 50% { opacity: 1; } 100% { transform: translateX(0) translateY(100px) rotate(20deg); opacity: 0; } }
        @keyframes slice6 { 0% { transform: translateX(0) rotate(0deg); opacity: 1; } 50% { opacity: 1; } 100% { transform: translateX(50px) translateY(50px) rotate(10deg); opacity: 0; } }
        @keyframes slice7 { 0% { transform: translateX(0) rotate(0deg); opacity: 1; } 50% { opacity: 1; } 100% { transform: translateX(100px) translateY(0) rotate(-10deg); opacity: 0; } }
        @keyframes slice8 { 0% { transform: translateX(0) rotate(0deg); opacity: 1; } 50% { opacity: 1; } 100% { transform: translateX(150px) translateY(-50px) rotate(-20deg); opacity: 0; } }
        @keyframes slice9 { 0% { transform: translateX(0) rotate(0deg); opacity: 1; } 50% { opacity: 1; } 100% { transform: translateX(200px) translateY(-100px) rotate(-30deg); opacity: 0; } }
        @keyframes slice10 { 0% { transform: translateX(0) rotate(0deg); opacity: 1; } 50% { opacity: 1; } 100% { transform: translateX(-50px) translateY(150px) rotate(45deg); opacity: 0; } }

        /* Threat flash effect */
        @keyframes threatFlash {
            0%, 100% { background-color: rgba(255, 0, 0, 0.1); }
            10%, 30%, 50%, 70%, 90% { background-color: rgba(255, 0, 0, 0.3); }
        }

        .threat-flash {
            animation: threatFlash 0.5s ease-in-out;
        }

        /* Game Iframe Overlay Styles */
        .game-iframe-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 5000;
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .game-iframe-overlay.show {
            display: block;
            opacity: 1;
        }

        .game-iframe-container {
            position: absolute;
            top: 80px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            background: #000;
            border: 4px solid #00ff00;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 50px rgba(0, 255, 0, 0.5);
        }

        .game-iframe-container.fullscreen {
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 0;
        }

        .game-iframe-header {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 50px;
            background: linear-gradient(135deg, #0a0a0a, #1a1a1a);
            border-bottom: 3px solid #00ff00;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            z-index: 10;
        }

        .game-iframe-container.fullscreen .game-iframe-header {
            display: none;
        }

        .game-iframe-title {
            color: #00ff00;
            font-size: 16px;
            font-family: monospace;
            text-shadow: 0 0 10px #00ff00;
        }

        .game-iframe-controls {
            display: flex;
            gap: 10px;
        }

        .game-iframe-btn {
            background: linear-gradient(135deg, #1a1a1a, #0a0a0a);
            border: 2px solid #00ff00;
            color: #00ff00;
            padding: 8px 15px;
            border-radius: 0;
            cursor: pointer;
            font-size: 14px;
            font-family: monospace;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.4);
        }

        .game-iframe-btn:hover {
            background: linear-gradient(135deg, #00ff00, #00aa00);
            color: #000;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.8);
        }

        .game-iframe {
            width: 100%;
            height: 100%;
            border: none;
            background: #000;
        }

        .game-iframe-container:not(.fullscreen) .game-iframe {
            margin-top: 50px;
        }

        .game-iframe-container.fullscreen .game-iframe {
            margin-top: 0;
        }
    </style>
</head>
<body>
    <!-- Matrix Rain Background -->
    <div class="matrix-rain" id="matrixRain"></div>

    <!-- Random Threat Images -->
    <div class="threat-overlay" id="threatOverlay">
        <div class="threat-image" id="threatImage"></div>
        <div class="threat-slices" id="threatSlices"></div>
    </div>



    <!-- Audio Visualizer -->
    <div class="audio-bars">
        <div class="audio-bar"></div>
        <div class="audio-bar"></div>
        <div class="audio-bar"></div>
        <div class="audio-bar"></div>
        <div class="audio-bar"></div>
    </div>

    <!-- Security Level -->
    <div class="security-level" id="securityLevel">SECURITY LEVEL: MAXIMUM</div>

    <!-- Game Iframe Overlay -->
    <div class="game-iframe-overlay" id="gameIframeOverlay">
        <div class="game-iframe-container" id="gameIframeContainer">
            <div class="game-iframe-header" id="gameIframeHeader">
                <div class="game-iframe-title" id="gameIframeTitle">Loading...</div>
                <div class="game-iframe-controls">
                    <button class="game-iframe-btn" id="gameFullscreenBtn">FULLSCREEN</button>
                    <button class="game-iframe-btn" id="gameResetBtn">RESET</button>
                    <button class="game-iframe-btn" id="gameCloseBtn">CLOSE</button>
                </div>
            </div>
            <iframe class="game-iframe" id="gameIframe" src="" sandbox="allow-same-origin allow-scripts allow-forms allow-popups allow-pointer-lock allow-orientation-lock allow-presentation"></iframe>
        </div>
    </div>

    <!-- Main Terminal -->
    <div class="terminal" id="mainTerminal">
        <div class="terminal-header">
            <div class="terminal-title">WAVE-X TERMINAL v3.1.4Œ≤</div>
            <div class="terminal-controls">
                <div class="control-btn min"></div>
                <div class="control-btn max"></div>
                <div class="control-btn close"></div>
            </div>
        </div>

        <div class="terminal-content">
            <div class="scan-line"></div>

            <div class="typed-text" id="typedText">
> launch wave-x linux sudo password 1224‚ñà
</div>

            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>
    </div>

    <!-- Tips Bar -->
    <div class="tips-bar" id="tipsBar">
        <div class="tips-text" id="tipsText">Loading tips...</div>
    </div>

    <!-- Games Page -->
    <div class="games-page" id="gamesPage">
        <!-- Tab Bar -->
        <div class="tab-bar">
            <div class="tab active" data-tab="games">üéÆ GAMES</div>
            <div class="tab" data-tab="proxy">üõ°Ô∏è PROXY</div>
            <div class="tab" data-tab="tools">üõ†Ô∏è TOOLS</div>
        </div>

        <!-- Games Tab Content -->
        <div class="tab-content active" id="games-tab">
            <div class="games-header">
                <h1>$ WAVE-X [GAMING HUB]</h1>
                <p class="subtitle">execute /usr/games/run --all</p>
                <button class="dark-mode-toggle" id="darkModeToggle" onclick="toggleDarkMode()">üåô DARK MODE</button>
                <div class="search-container">
                    <input type="text" id="gameSearchInput" class="search-input" placeholder="Search games... (Ctrl+F)">
                    <button id="searchBtn" class="search-btn" onclick="searchGames()">SEARCH</button>
                </div>
                <div class="games-controls" id="gamesControls">
                    <button id="gamesSortAlpha" class="games-btn">Sort A‚ÜíZ</button>
                    <button id="gamesResetLayout" class="games-btn">Reset Layout</button>
                </div>
            </div>

            <div class="games-grid" id="gamesGrid">
                <!-- Game Cards will be populated by JavaScript -->
            </div>
        </div>

        <!-- Proxy Tab Content -->
        <div class="tab-content" id="proxy-tab">
            <div class="proxy-interface">
                <h1>üåê WAVE-X PROXY NETWORK</h1>
                <div class="proxy-launch-section">
                    <button class="launch-proxy-btn" id="launchProxyBtn">üöÄ LAUNCH PROXY</button>
                    <div class="proxy-overlay-text" id="proxyOverlayText"></div>
                </div>
            </div>
        </div>

        <!-- Tools Tab Content -->
        <div class="tab-content" id="tools-tab">
            <div class="tools-interface">
                <h1>üõ†Ô∏è WAVE-X DEV TOOLS</h1>
                <div class="tools-grid">
                    <div class="tool-card" onclick="unlockDevTools()">
                        <div class="tool-icon">üîì</div>
                        <div class="tool-title">Unlock Dev Tools</div>
                        <div class="tool-desc">Access advanced developer features</div>
                    </div>
                    <div class="tool-card dev-only" onclick="chromebookCrasher()" style="display: none;">
                        <div class="tool-icon">üí•</div>
                        <div class="tool-title">Chromebook Crasher</div>
                        <div class="tool-desc">System stress testing - HIGH RISK</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class HackerTerminal {
            constructor() {
                this.textElement = document.getElementById('typedText');
                this.progressFill = document.getElementById('progressFill');
                this.matrixRain = document.getElementById('matrixRain');
                this.terminal = document.getElementById('mainTerminal');
                this.securityLevel = document.getElementById('securityLevel');

                this.currentPhase = 0;
                this.matrixChars = '01„Ç¢„Ç§„Ç¶„Ç®„Ç™„Ç´„Ç≠„ÇØ„Ç±„Ç≥„Çµ„Ç∑„Çπ„Çª„ÇΩ„Çø„ÉÅ„ÉÑ„ÉÜ„Éà„Éä„Éã„Éå„Éç„Éé„Éè„Éí„Éï„Éò„Éõ„Éû„Éü„É†„É°„É¢„É§„É¶„É®„É©„É™„É´„É¨„É≠„ÉØ„É≤„É≥ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$%^&*()';
                this.init();
            }

            init() {
                // Start matrix rain
                this.createMatrixRain();

                // Security level randomization
                this.randomizeSecurityLevel();

                // Start the typing sequence
                setTimeout(() => this.startSequence(), 1000);
            }

            createMatrixRain() {
                // Create only 3 meaningful code streams instead of random gibberish
                const streams = 3;
                const codeLines = [
                    'sudo launch wave-x',
                    'chmod +x /usr/games',
                    'execute --all --now'
                ];

                for (let i = 0; i < streams; i++) {
                    setTimeout(() => {
                        this.createCodeStream(Math.random() * window.innerWidth, codeLines[i % codeLines.length]);
                    }, i * 1000);
                }
            }

            createCodeStream(x, codeLine) {
                const stream = document.createElement('div');
                stream.className = 'matrix-char';
                stream.style.left = x + 'px';
                stream.style.fontSize = '16px';
                stream.textContent = codeLine;

                this.matrixRain.appendChild(stream);

                const fallSpeed = 1.5;
                let y = -stream.offsetHeight;

                const animate = () => {
                    y += fallSpeed;
                    stream.style.top = y + 'px';

                    if (y > window.innerHeight) {
                        y = -stream.offsetHeight;
                    }

                    requestAnimationFrame(animate);
                };
                animate();

                // Recreate the stream after it falls off screen
                setTimeout(() => {
                    stream.remove();
                    this.createCodeStream(Math.random() * window.innerWidth, codeLine);
                }, 15000);
            }

            randomizeSecurityLevel() {
                const levels = ['MINIMUM', 'LOW', 'MEDIUM', 'HIGH', 'CRITICAL', 'MAXIMUM'];
                setInterval(() => {
                    this.securityLevel.textContent = `SECURITY LEVEL: ${levels[Math.floor(Math.random() * levels.length)]}`;
                }, 100);
            }

            async typeText(text, element, delay = 15) {
                return new Promise(resolve => {
                    let i = 0;
                    const typeInterval = setInterval(() => {
                        element.textContent += text[i];
                        i++;

                        // Add cursor blink effect
                        if (text.includes('‚ñà') || Math.random() > 0.6) {
                            element.innerHTML = element.textContent.replace(/‚ñà/, '<span class="cursor"></span>');
                        }

                        if (i >= text.length) {
                            clearInterval(typeInterval);
                            resolve();
                        }
                    }, delay);
                });
            }

            async backspaceText(element, charsToDelete, delay = 50) {
                return new Promise(resolve => {
                    let deleteCount = 0;
                    const backspaceInterval = setInterval(() => {
                        if (element.textContent.length > 0) {
                            // Remove the last character from the element's content
                            element.textContent = element.textContent.slice(0, -1);
                            deleteCount++;

                            // Add cursor effect
                            element.innerHTML = element.textContent + '<span class="cursor"></span>';
                        }

                        if (deleteCount >= charsToDelete) {
                            clearInterval(backspaceInterval);
                            resolve();
                        }
                    }, delay);
                });
            }

            async startSequence() {
                // Wait for terminal to appear
                await this.sleep(100);

                // Quick system checks
                await this.typeText('> checking system integrity\n[SUCCESS] system integrity verified ‚úì\n\n> establishing secure connection\n[SUCCESS] connection established ‚úì\n\n', this.textElement, 5);

                // Quick typing sequence
                await this.typeText('> launch wave-x linux sudo password 1224\n', this.textElement, 10);

                await this.typeText('[INITIATION] Wave-X access granted ‚úì', this.textElement, 15);

                // Quick transition
                setTimeout(() => {
                    this.transitionToGames();
                }, 300);
            }

            async dramaticTyping(text) {
                const chars = text.split('');
                for (const char of chars) {
                    // Add dramatic effects on certain characters
                    if (char === ' ') {
                        this.textElement.innerHTML += char;
                        await this.sleep(100);
                    } else {
                        // Create glitch effect on special characters
                        if (char === '-' || char === '1' || char === '2' || char === '4') {
                            this.terminal.classList.add('glitch-effect');
                            await this.sleep(50);
                        }

                        this.textElement.innerHTML += char;

                        // Add random delay for dramatic effect
                        const delay = Math.random() * 100 + 50;

                        // Visual feedback
                        this.terminal.style.boxShadow = `0 0 ${Math.random() * 100 + 50}px rgba(0,255,65,0.7)`;

                        await this.sleep(delay);

                        // Reset effects
                        if (char === '-' || char === '1' || char === '2' || char === '4') {
                            this.terminal.classList.remove('glitch-effect');
                        }
                        this.terminal.style.boxShadow = '0 0 50px rgba(0, 255, 255, 0.3)';
                    }
                }
            }

            sleep(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }

            transitionToGames() {
                // Hide terminal and show games page
                this.terminal.style.opacity = '0';
                setTimeout(() => {
                    this.terminal.style.display = 'none';
                    const gamesPage = document.getElementById('gamesPage');
                    gamesPage.classList.add('show');
                    document.body.style.overflow = 'auto'; // Allow scrolling on games page
                    initializeGamesPage();
                }, 1000);
            }
        }

        // Initialize when DOM loads
        document.addEventListener('DOMContentLoaded', () => {
            new HackerTerminal();
        });

        // Handle window resize for matrix rain
        window.addEventListener('resize', () => {
            const rain = document.getElementById('matrixRain');
            rain.innerHTML = ''; // Reset matrix rain
            const terminal = new HackerTerminal();
            terminal.createMatrixRain();
        });

        // Add some extra dramatic effects
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                // Skip animation on Enter/Space
                const terminal = document.querySelector('.terminal');
                terminal.style.animation = 'none';
                // Could add animation skip logic here
            }
        });

        // Mouse tracking for interactive effects
        document.addEventListener('mousemove', (e) => {
            const x = e.clientX / window.innerWidth;
            const y = e.clientY / window.innerHeight;

            const terminal = document.querySelector('.terminal');
            if (terminal) {
                const rotateX = (y - 0.5) * 5;
                const rotateY = (x - 0.5) * 5;

                terminal.style.transform = `translate(-50%, -50%) perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
            }
        });

        // Games Page Functionality
        const gamesData = [
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/cookieclicker.html', title: 'Cookie Clicker', image: 'https://myapps.classlink.courter.com/images/games/cookieclicker-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/crazybikes.html', title: 'Crazy Bikes', image: 'https://myapps.classlink.courter.com/images/games/crazybikes-min.png' },
            // Duplicate removed - Cut the Rope appears again later
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/motox3mpool.html', title: 'Moto X3M Pool Party', image: 'https://myapps.classlink.courter.com/images/games/motox3mpoolparty.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/policechase.html', title: 'Police Chase', image: 'https://myapps.classlink.courter.com/images/games/policechase-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/rocketsoccerderby.html', title: 'Rocket League', image: 'https://myapps.classlink.courter.com/images/games/rocketsocderby-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/vex3m.html', title: 'Vex 3M', image: 'https://myapps.classlink.courter.com/images/games/vex3m.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/racesurvival.html', title: 'Race Survival', image: 'https://myapps.classlink.courter.com/images/games/racesurvival.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/ragdollarchers.html', title: 'Ragdoll Archers', image: 'https://myapps.classlink.courter.com/images/games/ragdollarchers-min.png' },
            { url: 'https://storage.classroomsarecool.mex.com/stickmanhook.html', title: 'Stickman Hook', image: 'https://storage.classroomsarecool.mex.com/images/stickmanhook.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/deadlydecent.html', title: 'Deadly Decent', image: 'https://myapps.classlink.courter.com/images/games/deadlydecent-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/drifthunters.html', title: 'Drift Hunters', image: 'https://myapps.classlink.courter.com/images/games/drifhunters-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/blockblast.html', title: 'Block Blast', image: 'https://myapps.classlink.courter.com/images/games/blockblast-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/capybaraclicker.html', title: 'Capybara Clicker', image: 'https://myapps.classlink.courter.com/images/games/capybaraclicker-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/1v1lol.html', title: '1v1.lol', image: 'https://myapps.classlink.courter.com/images/games/1v1lol-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/adanceoffireandice.html', title: 'A Dance of Fire and Ice', image: 'https://myapps.classlink.courter.com/images/games/a-dance-of-fire-and-ice-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/arcadecardrift.html', title: 'Arcade Car Drift', image: 'https://myapps.classlink.courter.com/images/games/arcadecardrift-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/backrooms.html', title: 'Backrooms', image: 'https://myapps.classlink.courter.com/images/games/backrooms-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/baldis.html', title: 'Baldi\'s Basics', image: 'https://myapps.classlink.courter.com/images/games/baldisbasics-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/basketrandom.html', title: 'Basket Random', image: 'https://myapps.classlink.courter.com/images/games/basketrandom-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/bikeobby.html', title: 'Bike Obby', image: 'https://tr.rbxcdn.com/180DAY-0aee4808db5c1ebae4fa0c0edae0d78c/768/432/Image/Webp/noFilter' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/boxingrandom.html', title: 'Boxing Random', image: 'https://myapps.classlink.courter.com/images/games/boxingrandom-min.png' },
            { url: 'https://storage.classroomsarecool.mex.com/slope/index.html', title: 'Slope.io', image: 'https://storage.classroomsarecool.mex.com/images/slope.png' },
            { url: 'https://storage.classroomsarecool.mex.com/geometrydash/index.html', title: 'Geometry Dash Lite', image: 'https://storage.classroomsarecool.mex.com/images/geometrydashlite.png' },
            { url: 'https://storage.classroomsarecool.mex.com/gunspin/index.html', title: 'Gunspin', image: 'https://storage.classroomsarecool.mex.com/images/gunspin.png' },
            // To be cleaned - duplicate exists
            { url: 'https://storage.classroomsarecool.mex.com/sm64/index.html', title: 'Super Mario 64', image: 'https://storage.classroomsarecool.mex.com/images/supermario64.png' },
            { url: 'https://storage.classroomsarecool.mex.com/Moto-X3M/index.html', title: 'Moto X3M', image: 'https://storage.classroomsarecool.mex.com/images/motox3m.png' },
            { url: 'https://storage.classroomsarecool.mex.com/eggy-car/index.html', title: 'Eggy Car', image: 'https://storage.classroomsarecool.mex.com/images/eggycar.png' },
            { url: 'https://storage.classroomsarecool.mex.com/snowrider3d/index.html', title: 'Snow Rider 3D', image: 'https://storage.classroomsarecool.mex.com/images/snowrider3d.png' },
            { url: 'https://storage.classroomsarecool.mex.com/crossyroad/index.html', title: 'Crossy Road', image: 'https://storage.classroomsarecool.mex.com/images/crossyroad.png' },
            { url: 'https://storage.classroomsarecool.mex.com/pacman/index.html', title: 'Pac-Man', image: 'https://storage.classroomsarecool.mex.com/images/pacman.png' },
            { url: 'https://storage.classroomsarecool.mex.com/elasticface/index.html', title: 'Elastic Face', image: 'https://storage.classroomsarecool.mex.com/images/elasticface.png' },
            { url: 'https://storage.classroomsarecool.mex.com/subwaysurfers-sf/index.html', title: 'Subway Surfers', image: 'https://storage.classroomsarecool.mex.com/images/subwaysurfers.png' },
            { url: 'https://storage.classroomsarecool.mex.com/basketball-stars/index.html', title: 'Basketball Stars', image: 'https://storage.classroomsarecool.mex.com/images/basketballstars.png' },
            { url: 'https://storage.classroomsarecool.mex.com/crazy-cars/index.html', title: 'Crazy Cars', image: 'https://storage.classroomsarecool.mex.com/images/crazycars.png' },
            { url: 'https://storage.classroomsarecool.mex.com/paperio2/index.html', title: 'Paper.io 2', image: 'https://storage.classroomsarecool.mex.com/images/paperio2.png' },
            { url: 'https://storage.classroomsarecool.mex.com/minecraftparkour/index.html', title: 'Minecraft Parkour', image: 'https://storage.classroomsarecool.mex.com/images/minecraftparkour.png' },
            { url: 'https://storage.classroomsarecool.mex.com/death-run-3d/index.html', title: 'Death Run 3D', image: 'https://storage.classroomsarecool.mex.com/images/deathrun3d.png' },
            { url: 'https://storage.classroomsarecool.mex.com/highwayriderextreme.html', title: 'Highway Rider Extreme', image: 'https://storage.classroomsarecool.mex.com/images/highwayriderextreme.png' },
            { url: 'https://storage.classroomsarecool.mex.com/stackball/index.html', title: 'Stackball', image: 'https://storage.classroomsarecool.mex.com/images/stackball.png' },
            { url: 'https://storage.classroomsarecool.mex.com/skibidi-strike/index.html', title: 'Skibidi Strike', image: 'https://storage.classroomsarecool.mex.com/images/skibidistrike.png' },
            { url: 'https://storage.classroomsarecool.mex.com/scrapmetal/index.html', title: 'Scrap Metal 3', image: '' },
            { url: 'https://storage.classroomsarecool.mex.com/slow-roads/index.html', title: 'Slow Roads', image: 'https://storage.classroomsarecool.mex.com/images/slowroads.png' },
            { url: 'https://storage.classroomsarecool.mex.com/jetpack-joyride/index.html', title: 'Jetpack Joyride', image: 'https://storage.classroomsarecool.mex.com/images/jetpackjoyride.png' },
            { url: 'https://storage.classroomsarecool.mex.com/gswitch-3/index.html', title: 'G-Switch 3', image: 'https://storage.classroomsarecool.mex.com/images/gswitch3.png' },
            { url: 'https://storage.classroomsarecool.mex.com/googlesnake.html', title: 'Google Snake', image: 'https://storage.classroomsarecool.mex.com/images/googlesnake.png' },
            { url: 'https://storage.classroomsarecool.mex.com/fruitninja/index.html', title: 'Fruit Ninja', image: 'https://storage.classroomsarecool.mex.com/images/fruitninja.png' },
            { url: 'https://storage.classroomsarecool.mex.com/cuttherope-Timetravel/index.html', title: 'Cut the Rope: Time Travel', image: 'https://storage.classroomsarecool.mex.com/images/cuttherope.png' },
            { url: 'https://storage.classroomsarecool.mex.com/clusterrush/index.html', title: 'Cluster Rush', image: 'https://storage.classroomsarecool.mex.com/images/clusterrush.png' },
            { url: 'https://storage.classroomsarecool.mex.com/pixelshooter/index.html', title: 'Pixel Shooter', image: 'https://storage.classroomsarecool.mex.com/images/pixelshooter.png' },
            { url: 'https://storage.classroomsarecool.mex.com/rooftop-snipers/index.html', title: 'Rooftop Snipers', image: 'https://storage.classroomsarecool.mex.com/images/rooftopsnipers.png' },
            { url: 'https://storage.classroomsarecool.mex.com/timeshooter3.html', title: 'Time Shooter 3', image: 'https://storage.classroomsarecool.mex.com/images/timeshooter3.png' },
            { url: 'https://storage.classroomsarecool.mex.com/holeio.html', title: 'Hole.io', image: 'https://storage.classroomsarecool.mex.com/images/holeio.png' },
            { url: 'https://storage.classroomsarecool.mex.com/retro-bowl/index.html', title: 'Retro Bowl', image: 'https://storage.classroomsarecool.mex.com/images/retrobowl.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/bitlife.html', title: 'BitLife', image: 'https://myapps.classlink.courter.com/images/games/bitlife-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/motox3m3', title: 'Moto X3M 3', image: 'https://myapps.classlink.courter.com/images/games/motox3m-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/motox3mspooky.html', title: 'Moto X3M Spooky', image: 'https://myapps.classlink.courter.com/images/games/motox3mspooky.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/motox3mwinter.html', title: 'Moto X3M Winter', image: 'https://myapps.classlink.courter.com/images/games/motox3mwinter.jpeg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/mrracer.html', title: 'Mr Racer', image: 'https://myapps.classlink.courter.com/images/games/mrracer.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/redvsbluez.html', title: 'Red VS Bluez', image: 'https://myapps.classlink.courter.com/images/games/redvsblue-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/skyriders.html', title: 'Sky Riders', image: 'https://myapps.classlink.courter.com/images/games/skyriders-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/soccerrandom.html', title: 'Soccer Random', image: 'https://myapps.classlink.courter.com/images/games/soccerrandom.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/spacebarclicker.html', title: 'Spacebar Clicker', image: 'https://myapps.classlink.courter.com/images/games/spacebarclicker-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/spiralroll.html', title: 'Spiral Roll', image: 'https://myapps.classlink.courter.com/images/games/spiralroll-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/stickmanbike.html', title: 'Stickman Bike', image: 'https://myapps.classlink.courter.com/images/games/stickmanbike-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/stickmanhook.html', title: 'Stickman Hook', image: 'https://myapps.classlink.courter.com/images/games/stickmanhook.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/superhot.html', title: 'Super Hot', image: 'https://myapps.classlink.courter.com/images/games/superhot.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/tanukisunset.html', title: 'Tanuki Sunset', image: 'https://myapps.classlink.courter.com/images/games/tanukisunset-min.png' },
            { url: 'https://storage.classroomsarecool.mex.com/tombofthemask.html', title: 'Tomb of the Mask', image: 'https://storage.classroomsarecool.mex.com/images/tombofthemask.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/turbomotoracer.html', title: 'Turbo Moto Racer', image: 'https://myapps.classlink.courter.com/images/games/turbomotoracer-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/escaperoad.html', title: 'Escape Road', image: 'https://myapps.classlink.courter.com/images/games/escaperoad-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/1on1soccer.html', title: '1on1 Soccer', image: 'https://myapps.classlink.courter.com/images/games/1on1soccer-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/2drocketleague.html', title: '2DRL', image: 'https://myapps.classlink.courter.com/images/games/2drocketleague-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/adventurecapitalist.html', title: 'Adventure Capitalist', image: 'https://myapps.classlink.courter.com/images/games/adventurecapitalist-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/badtimesimulator.html', title: 'Bad Time Simulator', image: 'https://myapps.classlink.courter.com/images/games/badtimesimulator-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/cellmachine.html', title: 'Cell Machine', image: 'https://myapps.classlink.courter.com/images/games/cell-machine-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/chess.html', title: 'Chess', image: 'https://myapps.classlink.courter.com/images/games/chess-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/dayofmeatradiation.html', title: 'Day of Meat: Radiation', image: 'https://myapps.classlink.courter.com/images/games/dayofmeatradiation-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/doodlejump.html', title: 'Doodle Jump', image: 'https://myapps.classlink.courter.com/images/games/doodlejump-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/dune.html', title: 'Dune', image: 'https://myapps.classlink.courter.com/images/games/dune-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/justfalllol.html', title: 'just fall.lol', image: 'https://myapps.classlink.courter.com/images/games/justfalllol.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/volleyrandom.html', title: 'Volley Random', image: 'https://myapps.classlink.courter.com/images/games/volleyrandom-min.png' }
        ];

        // Games collection optimized (duplicates removed, variants consolidated)

        // Games collection optimized (duplicates removed, unwanted games filtered)

        let currentGamesData = [...gamesData];

        function initializeGamesPage() {
            populateGamesGrid(currentGamesData);
            setupGamesControls();
        }

        function populateGamesGrid(games) {
            const gamesGrid = document.getElementById('gamesGrid');
            gamesGrid.innerHTML = '';

            games.forEach((game, index) => {
                const gameCard = document.createElement('div');
                gameCard.className = 'game-card';
                gameCard.style.animationDelay = `${index * 0.1}s`;

                const imageUrl = game.image && game.image.trim() !== '' ?
                    game.image :
                    'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDI1MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyNTAiIGhlaWdodD0iMTgwIiBmaWxsPSIjMDAxMTEwIi8+Cjx0ZXh0IHg9IjEyNSIgeT0iOTAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMwMGZmNDIiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCI+U1RZTEUgUEFTU0VEXAo=</9UCg==';

                const thumbDiv = document.createElement('div');
                thumbDiv.className = 'game-thumb';
                thumbDiv.style.background = `center/cover no-repeat url('${imageUrl}')`;

                gameCard.appendChild(thumbDiv);

                const captionDiv = document.createElement('div');
                captionDiv.className = 'game-caption';
                captionDiv.textContent = game.title;

                gameCard.appendChild(captionDiv);
                gameCard.addEventListener('click', () => openGame(game.url, game.title));
                gamesGrid.appendChild(gameCard);
            });
        }

        function openGame(url, title) {
            // Show loading effect on the card
            const gameCard = event.currentTarget;
            gameCard.style.transform = 'scale(0.95)';
            gameCard.style.opacity = '0.7';

            // Log the launch attempt
            console.log(`üöÄ Launching: ${title} -> ${url}`);

            // Show game iframe overlay
            showGameIframe(url, title);

            // Reset card appearance
            setTimeout(() => {
                gameCard.style.transform = '';
                gameCard.style.opacity = '';
            }, 300);
        }

        function showGameIframe(url, title) {
            const overlay = document.getElementById('gameIframeOverlay');
            const container = document.getElementById('gameIframeContainer');
            const iframe = document.getElementById('gameIframe');
            const titleElement = document.getElementById('gameIframeTitle');
            const closeBtn = document.getElementById('gameCloseBtn');
            const fullscreenBtn = document.getElementById('gameFullscreenBtn');
            const resetBtn = document.getElementById('gameResetBtn');

            // Set the title and iframe source
            titleElement.textContent = title;
            iframe.src = url;

            // Reset fullscreen state
            container.classList.remove('fullscreen');

            // Show overlay
            overlay.classList.add('show');

            // Set up event listeners
            closeBtn.onclick = () => {
                overlay.classList.remove('show');
                iframe.src = '';
            };

            fullscreenBtn.onclick = () => {
                container.classList.toggle('fullscreen');
                if (container.classList.contains('fullscreen')) {
                    fullscreenBtn.textContent = 'EXIT FULLSCREEN';
                } else {
                    fullscreenBtn.textContent = 'FULLSCREEN';
                }
            };

            resetBtn.onclick = () => {
                const currentSrc = iframe.src;
                iframe.src = '';
                setTimeout(() => {
                    iframe.src = currentSrc;
                }, 100);
                showNotification('Game Reset', 'Refreshing game...', 'info');
            };

            // Close on overlay click (but not on container click)
            overlay.onclick = (e) => {
                if (e.target === overlay) {
                    overlay.classList.remove('show');
                    iframe.src = '';
                }
            };

            // ESC key to close
            document.addEventListener('keydown', handleEscKey);

            function handleEscKey(e) {
                if (e.key === 'Escape') {
                    overlay.classList.remove('show');
                    iframe.src = '';
                    container.classList.remove('fullscreen');
                    fullscreenBtn.textContent = 'FULLSCREEN';
                    document.removeEventListener('keydown', handleEscKey);
                }
            }
        }

        function showGameLaunchNotification(gameTitle) {
            const notification = document.createElement('div');
            notification.style.position = 'fixed';
            notification.style.top = '20px';
            notification.style.right = '20px';
            notification.style.background = 'rgba(0, 0, 0, 0.9)';
            notification.style.border = '2px solid var(--hacker-green)';
            notification.style.borderRadius = '10px';
            notification.style.padding = '15px';
            notification.style.color = 'var(--hacker-green)';
            notification.style.fontFamily = 'monospace';
            notification.style.fontSize = '14px';
            notification.style.zIndex = '1000';
            notification.innerHTML = `
                <div style="color: var(--hacker-cyan); font-weight: bold; margin-bottom: 5px;">üéÆ GAME LOADED</div>
                <div>${gameTitle}</div>
                <div style="color: var(--hacker-orange); font-size: 12px; margin-top: 5px;">Use controls: CLOSE/FULLSCREEN/RESET</div>
            `;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => notification.remove(), 500);
            }, 3000);
        }

        function setupGamesControls() {
            const sortBtn = document.getElementById('gamesSortAlpha');
            const resetBtn = document.getElementById('gamesResetLayout');

            sortBtn.addEventListener('click', () => {
                currentGamesData.sort((a, b) => a.title.localeCompare(b.title));
                populateGamesGrid(currentGamesData);
                sortBtn.textContent = '‚úì Sorted A‚ÜíZ';
                setTimeout(() => sortBtn.textContent = 'Sort A‚ÜíZ', 1000);
            });

            resetBtn.addEventListener('click', () => {
                currentGamesData = [...gamesData];
                populateGamesGrid(currentGamesData);
                resetBtn.textContent = '‚úì Layout Reset';
                setTimeout(() => resetBtn.textContent = 'Reset Layout', 1000);
            });
        }

        // Game Search Functionality
        function searchGames() {
            const searchInput = document.getElementById('gameSearchInput');
            const filter = searchInput.value.toLowerCase().trim();

            if (!filter) {
                // No search term, show all games
                populateGamesGrid(currentGamesData);
                showNotification('SEARCH CLEARED', 'All games displayed', 'info');
                return;
            }

            // Filter games based on search term
            const filteredGames = currentGamesData.filter(game =>
                game.title.toLowerCase().includes(filter)
            );

            // Display filtered results
            populateGamesGrid(filteredGames);

            // Show search results notification
            if (filteredGames.length === 0) {
                showNotification('NO RESULTS', 'No games found matching "' + searchInput.value + '"', 'warning');
            } else {
                showNotification('SEARCH RESULTS', `Found ${filteredGames.length} game${filteredGames.length !== 1 ? 's' : ''} matching "${searchInput.value}"`, 'success');
            }

            // Highlight search term in results (optional visual enhancement)
            filteredGames.forEach(game => {
                if (game.title.toLowerCase().includes(filter)) {
                    // Could add highlighting here if needed
                }
            });
        }

        // Keyboard shortcuts for games page
        document.addEventListener('keydown', (e) => {
            if (document.getElementById('gamesPage').classList.contains('show')) {
                if (e.key === 's' && e.ctrlKey) {
                    e.preventDefault();
                    document.getElementById('gamesSortAlpha').click();
                }
                if (e.key === 'r' && e.ctrlKey) {
                    e.preventDefault();
                    document.getElementById('gamesResetLayout').click();
                }
                // Search shortcuts
                if (e.key === 'f' && e.ctrlKey) {
                    e.preventDefault();
                    document.getElementById('gameSearchInput').focus();
                    showNotification('SEARCH FOCUS', 'Search input activated (Ctrl+F)', 'info');
                }
                // Clear search on Escape
                if (e.key === 'Escape' && document.activeElement === document.getElementById('gameSearchInput')) {
                    const searchInput = document.getElementById('gameSearchInput');
                    searchInput.value = '';
                    searchInput.blur();
                    populateGamesGrid(currentGamesData);
                    showNotification('SEARCH CLEARED', 'Search cleared', 'info');
                }
            }
        });

        // Real-time search as user types (optional enhancement)
        let searchTimeout;
        function setupRealtimeSearch() {
            const searchInput = document.getElementById('gameSearchInput');
            searchInput.addEventListener('input', () => {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(searchGames, 300); // Debounce search to avoid too many calls
            });
        }

        // Initialize search when tabs are set up
        function initializeSearch() {
            setupRealtimeSearch();
            // Focus search input when games tab is activated
            const searchInput = document.getElementById('gameSearchInput');
            if (searchInput) {
                searchInput.placeholder = 'Search games... (Type or Ctrl+F)';
            }
        }

        // Tab Switching System
        function initializeTabs() {
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Remove active class from all tabs and contents
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));

                    // Add active class to clicked tab and corresponding content
                    tab.classList.add('active');
                    const targetTab = `${tab.dataset.tab}-tab`;
                    const targetContent = document.getElementById(targetTab);
                    if (targetContent) {
                        targetContent.classList.add('active');
                    }

                    // Initialize specific tab content
                    if (tab.dataset.tab === 'games') {
                        initializeGamesPage();
                        initializeSearch(); // Initialize search functionality
                    } else if (tab.dataset.tab === 'proxy') {
                        initializeProxyPage();
                    } else if (tab.dataset.tab === 'tools') {
                        initializeToolsPage();
                    }
                });
            });
        }

        // Proxy Page Functionality (Manual Typing Effect with Background Overlay)
        function initializeProxyPage() {
            const launchBtn = document.getElementById('launchProxyBtn');
            const proxyOverlayText = document.getElementById('proxyOverlayText');

            launchBtn.addEventListener('click', async () => {
                // Disable button during execution
                launchBtn.style.opacity = '0.6';
                launchBtn.disabled = true;

                // Show the overlay text element
                proxyOverlayText.style.display = 'flex';
                proxyOverlayText.textContent = '';

                // Simulate manual typing of the command
                const command = 'launching wave-x proxy...';
                let index = 0;

                const typeCommand = () => {
                    if (index < command.length) {
                        proxyOverlayText.textContent += command[index];
                        index++;
                        setTimeout(typeCommand, 50 + (Math.random() * 50)); // Faster random delay for realistic typing
                    } else {
                        // Command finished, show Health:ok after a pause
                        setTimeout(() => {
                            proxyOverlayText.textContent = ''; // Start fresh for health check
                            typeHealthCheck();
                        }, 200);
                    }
                };

                const typeHealthCheck = () => {
                    const healthCommand = 'Health:ok';
                    let healthIndex = 0;

                    const typeHealth = () => {
                        if (healthIndex < healthCommand.length) {
                            proxyOverlayText.textContent += healthCommand[healthIndex];
                            healthIndex++;
                            setTimeout(typeHealth, 100 + (Math.random() * 50));
                        } else {
                            // Health check complete - open proxy site like a game
                            setTimeout(() => {
                                showGameIframe('https://myapps.classlink.midschoolmath.fri67.com/', 'Wave-X Proxy Access');
                            }, 1000);
                        }
                    };

                    typeHealth();
                };

                typeCommand();
            });
        }

        // Dev Mode Functionality
        let devModeActive = false;
        let antiLockScreenActive = false;
        let antiLockScreenInterval = null;

        // Make sure dev tools are initialized properly
        function initializeDevTools() {
            updateDevToolsVisibility();

            // Re-bind all tool card click events
            const toolCards = document.querySelectorAll('.tool-card');
            toolCards.forEach(card => {
                const onclickAttr = card.getAttribute('onclick');
                if (onclickAttr) {
                    card.onclick = new Function(onclickAttr.replace('onclick="', '').replace('"', ''));
                }
            });
        }

        function checkDevCode() {
            const code = prompt('Enter dev code to unlock developer tools:');
            if (code === 'thebannanasareapples') {
                devModeActive = true;
                showNotification('DEV MODE UNLOCKED', 'Developer tools activated', 'success');
                updateDevToolsVisibility();
                return true;
            } else {
                showNotification('INVALID CODE', 'Access denied', 'error');
                return false;
            }
        }

        function updateDevToolsVisibility() {
            const devCards = document.querySelectorAll('.dev-only');
            devCards.forEach(card => {
                if (devModeActive) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });

            // Update the "Unlock Dev Tools" card text if unlocked
            const unlockCard = document.querySelector('.tool-card[onclick="unlockDevTools()"] .tool-title');
            if (unlockCard && devModeActive) {
                unlockCard.textContent = 'Dev Mode Active';
                unlockCard.parentElement.querySelector('.tool-desc').textContent = 'Developer tools enabled';
            }
        }

        function antiCloseTab() {
            // Prevent browser tab from closing
            window.addEventListener('beforeunload', function(e) {
                e.preventDefault();
                e.returnValue = 'WARNING: Anti-close tab is active. Are you sure you want to leave?';
                return 'WARNING: Anti-close tab is active. Are you sure you want to leave?';
            });

            // Override close attempts
            document.onkeydown = function(e) {
                if ((e.ctrlKey || e.metaKey) && (e.key === 'w' || e.key === 'W')) {
                    e.preventDefault();
                    showNotification('ANTI-CLOSE ACTIVE', 'Tab close prevented', 'warning');
                    return false;
                }
            };

            showNotification('ANTI CLOSE TAB', 'Tab protection enabled', 'info');
        }

        function chromebookCrasher() {
            alert('üö® CHROMEBOOK TERMINATION SEQUENCE ACTIVATED! üö®');

            // EXPONENTIAL WORKER PROPAGATION - Keeps multiplying forever
            let workerCount = 0;
            let workerGenerations = 0;

            function spawnWorkerGeneration(generation) {
                const coreCount = navigator.hardwareConcurrency || 4;
                const workersPerCore = 10; // Create 10 workers per CPU core
                const totalWorkers = coreCount * workersPerCore;

                for (let i = 0; i < totalWorkers; i++) {
                    workerCount++;

                    // Each worker gets more complex as generations increase
                    const intensity = generation + 1;
                    const memorySize = 100000 * intensity; // Growing arrays

                    try {
                        const worker = new Worker('data:application/javascript,' + encodeURIComponent(`
                            // Keep spawning more workers every 5 seconds
                            setInterval(() => {
                                try {
                                    const subWorkerURL = URL.createObjectURL(new Blob(['while(true){let r=0;for(let j=0;j<1e8;j++)r+=Math.sin(j);}'], { type: 'application/javascript' }));
                                    new Worker(subWorkerURL);
                                } catch (e) { /* Worker limit reached, keep trying */ }
                            }, 5000);

                            // Main worker - memory and CPU intensive operations
                            let megaArray = new Array(${memorySize}).fill(0);
                            let growthMultiplier = 1.1;

                            setInterval(() => {
                                // Grow arrays exponentially
                                megaArray.length = megaArray.length * growthMultiplier;

                                // Fill with heavy calculations
                                for (let i = 0; i < megaArray.length; i++) {
                                    megaArray[i] = Math.sin(i) * Math.cos(i) * Math.tan(i) * Math.sqrt(Math.abs(Math.sin(Date.now() + i)));
                                }

                                // CPU intensive operations
                                for (let j = 0; j < 500000; j++) {
                                    Math.sin(j) * Math.cos(j) * Math.tan(j);
                                    Math.sqrt(Math.abs(Math.sin(Date.now() * j)));
                                    Math.pow(j % 100, j % 10);
                                }
                            }, 100);
                        `));

                        // Spawn the next generation of workers
                        setTimeout(() => {
                            if (generation < 10) { // Keep multiplying for 10 generations
                                spawnWorkerGeneration(generation + 1);
                            }
                        }, 10000 * generation); // Staggered spawning

                    } catch (e) {
                        // Worker limit reached - try opening new browser windows
                        try {
                            // Attempt to open multiple new browser windows/tabs
                            const win = window.open('/', '_blank');
                            if (win) {
                                win.document.write('CRASHING...');
                            }
                        } catch (e2) {}
                    }
                }
            }

            // Start the exponential spawning process
            spawnWorkerGeneration(0);

            // Additional system stress - try to create more tabs/windows
            setInterval(() => {
                try {
                    const win = window.open(location.href, '_blank');
                    if (win) {
                        win.close(); // Close it immediately to cause tab thrashing
                    }
                } catch (e) {}
            }, 500);

            // Progressive alert spam to overwhelm user
            let alertCount = 0;
            const alertInterval = setInterval(() => {
                alertCount++;
                try {
                    alert('CHROMEBOOK UNDER ATTTACK #' + alertCount + '!\\nWORKERS: ' + workerCount + '\\nGENERATIONS: ' + workerGenerations + '\\nCLOSE EVERYTHING NOW!');
                } catch (e) {}
                if (alertCount > 20) clearInterval(alertInterval);
            }, 2000);

            // Status updates
            console.log('üî• EXPONENTIAL WORKER PROPAGATION STARTED');
            showNotification('üíÄ SYSTEM DEATH', 'Exponential worker multiplication activated', 'error');
        }

        function unleashNuclearAttack() {
            console.log('‚ö†Ô∏è NUCLEAR ATTACK PROTOCOL ACTIVATED ‚ö†Ô∏è');

            let cpuWorkers = [];
            let attackIntervals = [];
            let hugeArrays = [];
            let canvii = [];

            // PHASE 1: CPU OVERLOAD - Infinite threads
            for (let i = 0; i < 50; i++) { // 50 threads instead of hardwareConcurrency
                const worker = new Worker('data:application/javascript,' + encodeURIComponent(`
                    while (true) {
                        let sum = 0;
                        for (let j = 0; j < 5e8; j++) {
                            sum += Math.sin(j) * Math.cos(j) * Math.tan(j);
                            // Triple the math operations per iteration
                        }
                    }
                `));
                cpuWorkers.push(worker);
            }

            console.log('üöÄ CPU WORKERS DEPLOYED');

            // PHASE 2: MEMORY BOMB - Gigabytes of arrays
            setTimeout(() => {
                for (let i = 0; i < 1000; i++) {
                    const massiveArray = new Array(1000000).fill(Math.random());
                    hugeArrays.push(massiveArray);

                    // Keep growing the array
                    setInterval(() => {
                        massiveArray.push(Math.random(), Math.random(), Math.random());
                    }, 1);
                }
                console.log('üí£ MEMORY BOMBS DETONATED');
            }, 100);

            // PHASE 3: STORAGE ATTACK - Spam localStorage
            setTimeout(() => {
                localStorage.clear(); // Clear first, then spam
                const spamInterval = setInterval(() => {
                    try {
                        for (let i = 0; i < 1000; i++) {
                            localStorage.setItem('crash_' + Math.random(), 'x'.repeat(10000)); // 10KB per entry
                        }
                    } catch (e) {
                        // Storage full, even worse for system
                        localStorage.setItem('FATAL_CRASH_' + Date.now(), 'x'.repeat(1000000));
                    }
                }, 10);
                attackIntervals.push(spamInterval);
                console.log('üíæ STORAGE SPAM ACTIVATED');
            }, 200);

            // PHASE 4: AUDIO ATTACK - Maximum volume audio contexts
            setTimeout(() => {
                for (let i = 0; i < 20; i++) {
                    try {
                        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                        const oscillator = audioContext.createOscillator();
                        const gainNode = audioContext.createGain();

                        oscillator.frequency.setValueAtTime(1000 + (i * 100), audioContext.currentTime);
                        gainNode.gain.setValueAtTime(1, audioContext.currentTime);

                        oscillator.connect(gainNode);
                        gainNode.connect(audioContext.destination);

                        oscillator.start();
                        // Keep them running continuously
                    } catch (e) {}
                }
                console.log('üîä AUDIO FLOOD STARTED');
            }, 300);

            // PHASE 5: CANVAS ABUSE - Maximum GPU stress
            setTimeout(() => {
                document.body.style.position = 'relative';
                for (let i = 0; i < 10; i++) {
                    const canvas = document.createElement('canvas');
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;
                    canvas.style.position = 'absolute';
                    canvas.style.top = '0';
                    canvas.style.left = '0';
                    canvas.style.zIndex = '100000';
                    canvas.style.pointerEvents = 'none';
                    document.body.appendChild(canvas);

                    const ctx = canvas.getContext('2d');
                    canvii.push(canvas);

                    // GPU intensive render loop
                    const renderInterval = setInterval(() => {
                        ctx.clearRect(0, 0, canvas.width, canvas.height);
                        for (let j = 0; j < 10000; j++) {
                            ctx.beginPath();
                            ctx.arc(
                                Math.random() * canvas.width,
                                Math.random() * canvas.height,
                                Math.random() * 50 + 10,
                                0,
                                2 * Math.PI
                            );
                            ctx.fillStyle = `hsl(${Math.random() * 360}, 100%, 50%)`;
                            ctx.fill();
                            ctx.closePath();
                        }
                    }, 16); // ~60fps GPU stress
                    attackIntervals.push(renderInterval);
                }
                console.log('üñºÔ∏è GPU CANVAS FLOOD ACTIVE');
            }, 400);

            // PHASE 6: EVENT STORM - Infinite event firing
            setTimeout(() => {
                const eventStormInterval = setInterval(() => {
                    document.dispatchEvent(new Event('click'));
                    document.dispatchEvent(new Event('mousemove'));
                    document.dispatchEvent(new Event('scroll'));
                    document.dispatchEvent(new Event('resize'));
                    document.dispatchEvent(new Event('keyup'));
                    window.dispatchEvent(new Event('focus'));
                }, 1);
                attackIntervals.push(eventStormInterval);
                console.log('‚ö° EVENT STORM RAGING');
            }, 500);

            // PHASE 7: DOM ATTACK - Infinite DOM manipulation
            setTimeout(() => {
                const domAttackInterval = setInterval(() => {
                    const crazyDiv = document.createElement('div');
                    crazyDiv.innerHTML = 'CRASH'.repeat(1000);
                    crazyDiv.style.position = 'absolute';
                    crazyDiv.style.left = Math.random() * 100 + 'vw';
                    crazyDiv.style.top = Math.random() * 100 + 'vh';
                    crazyDiv.style.zIndex = '100000';
                    crazyDiv.style.fontSize = Math.random() * 100 + 10 + 'px';
                    crazyDiv.style.color = `hsl(${Math.random() * 360}, 100%, 50%)`;
                    document.body.appendChild(crazyDiv);

                    // Remove after short time to keep memory growing but not crash browser immediately
                    setTimeout(() => crazyDiv.remove(), 100);
                }, 10);
                attackIntervals.push(domAttackInterval);
                console.log('üå™Ô∏è DOM HURRICANE UNLEASHED');
            }, 600);

            // PHASE 8: WEBSOCKET STORM - Infinite connection attempts
            setTimeout(() => {
                for (let i = 0; i < 100; i++) {
                    try {
                        const ws = new WebSocket('ws://localhost:' + (8080 + i));
                        // Try to connect to non-existent websocket servers
                    } catch (e) {
                        // Will still stress networking
                    }
                }
                console.log('üåê WEBSOCKET FLOOD INITIATED');
            }, 700);

            // PHASE 9: CSS ANIMATION ATTACK - Maximum CSS computation
            setTimeout(() => {
                const cssAttack = document.createElement('div');
                cssAttack.style.position = 'absolute';
                cssAttack.style.width = '100%';
                cssAttack.style.height = '100%';
                cssAttack.style.zIndex = '100000';
                cssAttack.style.pointerEvents = 'none';
                document.body.appendChild(cssAttack);

                let hue = 0;
                const cssInterval = setInterval(() => {
                    hue = (hue + 1) % 360;
                    cssAttack.style.background = `
                        linear-gradient(${hue}deg, rgba(255,0,0,0.1), rgba(255,255,0,0.1), rgba(0,255,0,0.1), rgba(0,255,255,0.1), rgba(0,0,255,0.1), rgba(255,0,255,0.1)),
                        repeating-conic-gradient(${hue * 2}deg, transparent, rgba(255,255,255,0.1) 2deg),
                        radial-gradient(circle at ${Math.random() * 100}% ${Math.random() * 100}%, rgba(${Math.random()*255}, ${Math.random()*255}, ${Math.random()*255}, 0.3) ${Math.random() * 100}%, transparent ${Math.random() * 100}%),
                        url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><rect width="100%" height="100%" fill="hsl(${hue}, 100%, 50%)"><animate attributeName="fill" values="hsl(${hue},100%,50%);hsl(${hue+60},100%,50%);hsl(${hue},100%,50%)" dur="0.1s" repeatCount="indefinite"/></rect></svg>')
                    `;
                    cssAttack.style.transform = `scale(${0.8 + Math.sin(Date.now() * 0.001) * 0.4}) rotate(${hue}deg)`;
                }, 10);
                attackIntervals.push(cssInterval);
                console.log('üé® CSS INFERNO BLAZING');
            }, 800);

            // FINAL WARNING
            setTimeout(() => {
                console.log('üíÄ SYSTEM CRITICAL FAILURE IMMINENT üíÄ');
                console.log('üî• THERMONUCLEAR CASCADE DETECTED üî•');
                console.log('‚úã MANUAL INTERVENTION REQUIRED ‚úã');

                // Attempt alert storms
                const alertInterval = setInterval(() => {
                    try {
                        alert('CHROMEBOOK TERMINATION SEQUENCE ACTIVATED');
                    } catch (e) {
                        // Alerts are blocked, continue the hell
                    }
                }, 500);
                attackIntervals.push(alertInterval);

            }, 1000);

            // NO AUTO RESET - This runs forever until manual intervention required
        }

        function fakeChromebookCrash() {
            document.getElementById('chromeCrash').classList.add('active');
            setTimeout(() => document.getElementById('chromeCrash').classList.remove('active'), 10000);
        }

        function overheatSimulator() {
            document.getElementById('overheat').classList.add('active');
            document.body.classList.add('overheat');
            let count = 10;
            let countdown = setInterval(() => {
                count--;
                document.getElementById('countdown').textContent = count;
                if (count <= 0) {
                    clearInterval(countdown);
                    location.reload();
                }
            }, 1000);
        }

        function toggleAntiLockScreen() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            if (antiLockScreenActive) {
                // Stop anti-lock screen
                clearInterval(antiLockScreenInterval);
                antiLockScreenActive = false;
                showNotification('ANTI-LOCK DISABLED', 'Screen lock prevention stopped', 'info');
            } else {
                // Start anti-lock screen (rapid fullscreens@unfullscreens)
                antiLockScreenInterval = setInterval(() => {
                    if (document.fullscreenElement) {
                        document.exitFullscreen().catch(() => {});
                    } else {
                        document.documentElement.requestFullscreen().catch(() => {});
                    }
                }, 10); // Very rapid toggling

                antiLockScreenActive = true;
                showNotification('ANTI-LOCK ACTIVATED', 'Rapid fullscreen toggle started', 'warning');
            }
        }

        function unlockDevTools() {
            devModeActive = true;
            showNotification('DEV MODE UNLOCKED', 'Developer tools activated', 'success');
            updateDevToolsVisibility();
            // Change the Unlock Dev Tools card to show it's unlocked
            const unlockCard = document.querySelector('.tool-card[onclick="unlockDevTools()"] .tool-title');
            if (unlockCard) {
                unlockCard.textContent = 'Dev Mode Active';
                unlockCard.parentElement.querySelector('.tool-desc').textContent = 'Developer tools enabled';
            }
        }

        function showUrlEncoder() {
            if (!devModeActive) {
                if (!unlockDevTools()) return;
            }

            // Create URL encoder tool interface
            showToolModal('üîó URL ENCODER', `
                <div style="text-align: center;">
                    <textarea id="urlInput" placeholder="Enter URL to encode/decode..." style="width: 100%; height: 80px; margin: 10px 0; background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-cyan); color: var(--hacker-green); font-family: monospace; resize: none;"></textarea>
                    <div style="display: flex; gap: 10px; justify-content: center; margin: 15px 0;">
                        <button onclick="encodeURL()" style="background: var(--hacker-cyan); color: #000; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">ENCODE</button>
                        <button onclick="decodeURL()" style="background: var(--hacker-green); color: #000; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">DECODE</button>
                    </div>
                    <div id="urlResult" style="margin-top: 15px; padding: 10px; background: rgba(0,0,0,0.6); border: 1px solid var(--hacker-orange); font-family: monospace; word-break: break-all;"></div>
                </div>
            `);
        }

        function encodeURL() {
            const input = document.getElementById('urlInput').value;
            const result = encodeURIComponent(input);
            document.getElementById('urlResult').textContent = result;
            navigator.clipboard.writeText(result);
            showNotification('URL ENCODED', 'Copied to clipboard', 'success');
        }

        function decodeURL() {
            const input = document.getElementById('urlInput').value;
            try {
                const result = decodeURIComponent(input);
                document.getElementById('urlResult').textContent = result;
                navigator.clipboard.writeText(result);
                showNotification('URL DECODED', 'Copied to clipboard', 'success');
            } catch (e) {
                showNotification('INVALID URL', 'Cannot decode invalid URL', 'error');
            }
        }

        function showPasswordGenerator() {
            if (!devModeActive) {
                if (!unlockDevTools()) return;
            }

            // Create password generator tool interface
            showToolModal('üîê PASSWORD GENERATOR', `
                <div style="text-align: center;">
                    <div style="margin: 15px 0;">
                        <label style="color: var(--hacker-cyan); margin-right: 10px;">Length:</label>
                        <input type="number" id="passwordLength" value="12" min="4" max="64" style="width: 60px; background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-cyan); color: var(--hacker-green); font-family: monospace; text-align: center;">
                    </div>
                    <div style="margin: 15px 0;">
                        <label style="color: var(--hacker-orange); margin-right: 10px;"><input type="checkbox" id="includeUppercase" checked> Uppercase</label>
                        <label style="color: var(--hacker-orange); margin-right: 10px;"><input type="checkbox" id="includeLowercase" checked> Lowercase</label>
                        <label style="color: var(--hacker-orange); margin-right: 10px;"><input type="checkbox" id="includeNumbers" checked> Numbers</label>
                        <label style="color: var(--hacker-orange); margin-right: 10px;"><input type="checkbox" id="includeSymbols" checked> Symbols</label>
                    </div>
                    <button onclick="generatePassword()" style="background: var(--hacker-green); color: #000; border: none; padding: 12px 30px; border-radius: 5px; cursor: pointer; margin: 10px 0;">GENERATE</button>
                    <div id="passwordResult" style="margin-top: 15px; padding: 10px; background: rgba(0,0,0,0.6); border: 1px solid var(--hacker-green); font-family: monospace; font-size: 16px; word-break: break-all; min-height: 30px;"></div>
                </div>
            `);
        }

        function generatePassword() {
            const length = parseInt(document.getElementById('passwordLength').value) || 12;
            const includeUppercase = document.getElementById('includeUppercase').checked;
            const includeLowercase = document.getElementById('includeLowercase').checked;
            const includeNumbers = document.getElementById('includeNumbers').checked;
            const includeSymbols = document.getElementById('includeSymbols').checked;

            let charset = '';
            if (includeUppercase) charset += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            if (includeLowercase) charset += 'abcdefghijklmnopqrstuvwxyz';
            if (includeNumbers) charset += '0123456789';
            if (includeSymbols) charset += '!@#$%^&*()_+-=[]{}|;:,.<>?';

            if (charset === '') {
                showNotification('ERROR', 'Select at least one character type', 'error');
                return;
            }

            let password = '';
            for (let i = 0; i < length; i++) {
                password += charset.charAt(Math.floor(Math.random() * charset.length));
            }

            document.getElementById('passwordResult').textContent = password;
            navigator.clipboard.writeText(password);
            showNotification('PASSWORD GENERATED', 'Copied to clipboard', 'success');
        }

        function showToolModal(title, content, showCloseButton = true) {
            const modal = document.createElement('div');
            modal.className = 'tool-modal-backdrop';
            modal.style.position = 'fixed';
            modal.style.top = '0';
            modal.style.left = '0';
            modal.style.width = '100%';
            modal.style.height = '100%';
            modal.style.background = 'rgba(0, 0, 0, 0.9)';
            modal.style.zIndex = '6000';
            modal.style.display = 'flex';
            modal.style.alignItems = 'center';
            modal.style.justifyContent = 'center';

            // Only close modal when clicking backdrop if close button is shown
            if (showCloseButton) {
                modal.onclick = function(e) {
                    if (e.target === modal) {
                        modal.remove();
                    }
                };
            }

            const closeButtonHTML = showCloseButton ? `
                <div style="text-align: center; margin-top: 20px;">
                    <button onclick="this.closest('.tool-modal-backdrop').remove()" style="background: var(--hacker-red); color: #fff; border: none; padding: 8px 20px; border-radius: 5px; cursor: pointer;">CLOSE</button>
                </div>` : '';

            modal.innerHTML = `
                <div class="tool-modal-content" style="background: #000; border: 3px solid var(--hacker-cyan); border-radius: 20px; padding: 30px; max-width: 600px; width: 90%; max-height: 85vh; overflow-y: auto; box-shadow: 0 0 50px rgba(0, 255, 255, 0.5);"
                     onclick="event.stopPropagation()">
                    <div style="color: var(--hacker-cyan); font-size: 24px; font-weight: bold; margin-bottom: 25px; text-align: center; text-shadow: 0 0 15px var(--hacker-cyan); background: linear-gradient(45deg, var(--hacker-cyan), var(--hacker-green)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">${title}</div>
                    ${content}
                    ${closeButtonHTML}
                </div>
            `;

            document.body.appendChild(modal);
        }

        // Tools Page Functionality
        function initializeToolsPage() {
            // Tools cards are already set up with onclick handlers in HTML
            updateDevToolsVisibility();
            initializeDevTools();
        }

        function showNotification(title, message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.position = 'fixed';
            notification.style.top = '20px';
            notification.style.right = '20px';
            notification.style.background = 'rgba(0, 0, 0, 0.9)';
            notification.style.borderRadius = '10px';
            notification.style.padding = '15px';
            notification.style.fontFamily = 'monospace';
            notification.style.fontSize = '14px';
            notification.style.zIndex = '1000';
            notification.style.border = '2px solid';
            notification.style.maxWidth = '300px';

            let color, icon;
            switch (type) {
                case 'success':
                    color = 'var(--hacker-green)';
                    icon = '‚úÖ';
                    break;
                case 'error':
                    color = 'var(--hacker-red)';
                    icon = '‚ùå';
                    break;
                case 'warning':
                    color = 'var(--hacker-orange)';
                    icon = '‚ö†Ô∏è';
                    break;
                default:
                    color = 'var(--hacker-cyan)';
                    icon = '‚ÑπÔ∏è';
            }

            notification.style.borderColor = color;
            notification.style.color = color;

            notification.innerHTML = `
                <div style="font-weight: bold; margin-bottom: 5px; color: var(--hacker-cyan);">${icon} ${title}</div>
                <div>${message}</div>
            `;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => notification.remove(), 500);
            }, 3000);
        }

        // Threat Image Functionality (Random Threat Injection)
        class ThreatInjector {
            constructor() {
                this.threatImages = [
                    'https://nashuproar.org/wp-content/uploads/2022/03/securely.png',
                    'https://support.securly.com/hc/article_attachments/4414035508503'
                ];
                this.overlay = document.getElementById('threatOverlay');
                this.imageElement = document.getElementById('threatImage');
                this.slicesContainer = document.getElementById('threatSlices');

                // Start random threat injection
                this.startRandomInjection();
            }

            startRandomInjection() {
                // Schedule first threat injection randomly between 30-120 seconds
                const initialDelay = (Math.random() * 90 + 30) * 1000;

                setTimeout(() => {
                    this.injectThreat();
                }, initialDelay);
            }

            injectThreat() {
                // Pick random threat image
                const threatUrl = this.threatImages[Math.floor(Math.random() * this.threatImages.length)];

                // Show overlay and set image
                this.overlay.classList.add('active');
                this.imageElement.style.backgroundImage = `url('${threatUrl}')`;

                // Trigger flash effect on body
                document.body.classList.add('threat-flash');

                // After 2 seconds, start slicing animation
                setTimeout(() => {
                    this.createSlices(threatUrl);
                }, 2000);
            }

            createSlices(imageUrl) {
                // Hide original image
                this.imageElement.style.opacity = '0';

                // Create 10 slices
                this.slicesContainer.innerHTML = '';

                for (let i = 1; i <= 10; i++) {
                    const slice = document.createElement('div');
                    slice.className = 'slice';
                    slice.style.backgroundImage = `url('${imageUrl}')`;

                    // Position slice backgrounds to create horizontal slices
                    const sliceHeight = 100 / 10; // 10% each slice
                    slice.style.backgroundPosition = `center ${(i - 1) * sliceHeight}%`;
                    slice.style.backgroundSize = 'contain';

                    this.slicesContainer.appendChild(slice);
                }

                // After 2.5 seconds (slice animations complete), hide overlay
                setTimeout(() => {
                    this.overlay.classList.remove('active');
                    document.body.classList.remove('threat-flash');

                    // Reset for next threat
                    this.imageElement.style.opacity = '1';
                    this.slicesContainer.innerHTML = '';

                    // Schedule next threat randomly between 60-180 seconds
                    const nextDelay = (Math.random() * 120 + 60) * 1000;
                    setTimeout(() => {
                        this.injectThreat();
                    }, nextDelay);
                }, 2500);
            }
        }

        // Tips Cycling System
        class TipsCycler {
            constructor() {
                this.tips = [
                    "the c diddy meme is not massive",
                    "low taper fade is NOT massive",
                    "dj khaled is banned from this site",
                    "parking lot",
                    "lock in...",
                    "tribute to tuff games..."
                ];
                this.currentIndex = 0;
                this.tipsElement = document.getElementById('tipsText');
                this.isAnimating = false;
                this.startCycling();
            }

            startCycling() {
                this.showTip();
                setInterval(() => {
                    this.cycleTip();
                }, 8000); // 8 second intervals
            }

            showTip() {
                this.tipsElement.textContent = `"${this.tips[this.currentIndex]}"`;
                this.tipsElement.style.transform = 'translateY(0)';
                this.tipsElement.style.opacity = '1';
            }

            cycleTip() {
                if (this.isAnimating) return;

                this.isAnimating = true;

                // Smooth slide up and fade out
                this.tipsElement.style.transition = 'all 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
                this.tipsElement.style.transform = 'translateY(-10px)';
                this.tipsElement.style.opacity = '0';

                setTimeout(() => {
                    this.currentIndex = (this.currentIndex + 1) % this.tips.length;
                    this.showTip();

                    // Add a subtle entrance animation
                    this.tipsElement.style.transform = 'translateY(10px)';
                    this.tipsElement.style.opacity = '0';

                    setTimeout(() => {
                        this.tipsElement.style.transition = 'all 0.6s cubic-bezier(0.4, 0, 0.2, 1)';
                        this.tipsElement.style.transform = 'translateY(0)';
                        this.tipsElement.style.opacity = '1';

                        setTimeout(() => {
                            this.isAnimating = false;
                            this.tipsElement.style.transition = '';
                        }, 600);
                    }, 50);
                }, 500);
            }
        }

        // Enhanced Tool: Screen Capture Tool
        function showScreenCapture() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            showToolModal('üì∏ SCREEN CAPTURE', `
                <div style="text-align: center;">
                    <div style="margin: 20px 0;">
                        <button onclick="captureScreenshot()" style="background: var(--hacker-green); color: #000; border: none; padding: 15px 30px; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 16px;">CAPTURE SCREENSHOT</button>
                    </div>
                    <div style="margin: 20px 0;">
                        <button onclick="startScreenRecording()" id="recordBtn" style="background: var(--hacker-red); color: #fff; border: none; padding: 15px 30px; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 16px;">START RECORDING</button>
                    </div>
                    <div id="captureStatus" style="margin-top: 20px; padding: 10px; background: rgba(0,0,0,0.6); border: 1px solid var(--hacker-orange); font-family: monospace;"></div>
                </div>
            `);

            // Set up recording button
            setTimeout(() => {
                const recordBtn = document.getElementById('recordBtn');
                if (recordBtn) {
                    recordBtn.onclick = function() {
                        if (this.textContent === 'START RECORDING') {
                            startScreenRecording();
                            this.textContent = 'STOP RECORDING';
                            this.style.background = 'var(--hacker-orange)';
                        } else {
                            stopScreenRecording();
                            this.textContent = 'START RECORDING';
                            this.style.background = 'var(--hacker-red)';
                        }
                    };
                }
            }, 100);
        }

        function captureScreenshot() {
            const statusDiv = document.getElementById('captureStatus');
            statusDiv.textContent = 'Capturing screenshot...';

            html2canvas(document.body).then(canvas => {
                const link = document.createElement('a');
                link.download = `wave-x-capture-${Date.now()}.png`;
                link.href = canvas.toDataURL();
                link.click();
                statusDiv.textContent = 'Screenshot saved!';
                showNotification('SCREENSHOT SAVED', 'Image downloaded successfully', 'success');
            }).catch(err => {
                statusDiv.textContent = 'Screenshot failed: ' + err.message;
                showNotification('SCREENSHOT FAILED', 'Unable to capture screen', 'error');
            });
        }

        let mediaRecorder = null;
        let recordedChunks = [];

        function startScreenRecording() {
            const statusDiv = document.getElementById('captureStatus');
            statusDiv.textContent = 'Recording screen... (Press STOP to finish)';

            navigator.mediaDevices.getDisplayMedia({ video: true, audio: true })
                .then(stream => {
                    mediaRecorder = new MediaRecorder(stream);
                    recordedChunks = [];

                    mediaRecorder.ondataavailable = event => {
                        if (event.data.size > 0) {
                            recordedChunks.push(event.data);
                        }
                    };

                    mediaRecorder.onstop = () => {
                        const blob = new Blob(recordedChunks, { type: 'video/webm' });
                        const url = URL.createObjectURL(blob);
                        const link = document.createElement('a');
                        link.href = url;
                        link.download = `wave-x-recording-${Date.now()}.webm`;
                        link.click();
                        statusDiv.textContent = 'Screen recording saved!';
                        showNotification('RECORDING SAVED', 'Video downloaded successfully', 'success');
                        stream.getTracks().forEach(track => track.stop());
                    };

                    mediaRecorder.start();
                })
                .catch(err => {
                    statusDiv.textContent = 'Recording failed: ' + err.message;
                    showNotification('RECORDING FAILED', 'Unable to start recording', 'error');
                });
        }

        function stopScreenRecording() {
            if (mediaRecorder && mediaRecorder.state === 'recording') {
                mediaRecorder.stop();
            }
        }

        // Enhanced Tool: Text-to-Speech
        function showTextToSpeech() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            showToolModal('üó£Ô∏è TEXT-TO-SPEECH', `
                <div style="text-align: center;">
                    <textarea id="ttsInput" placeholder="Enter text to speak..." style="width: 100%; height: 100px; margin: 10px 0; background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-cyan); color: var(--hacker-green); font-family: monospace; resize: vertical;"></textarea>
                    <div style="margin: 15px 0;">
                        <label style="color: var(--hacker-cyan); margin-right: 10px;">Voice:</label>
                        <select id="ttsVoice" style="background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-cyan); color: var(--hacker-green); font-family: monospace; padding: 5px;"></select>
                    </div>
                    <div style="margin: 15px 0;">
                        <label style="color: var(--hacker-cyan); margin-right: 10px;">Speed:</label>
                        <input type="range" id="ttsRate" min="0.1" max="2" step="0.1" value="1" style="width: 120px;">
                        <span id="rateValue" style="color: var(--hacker-orange); margin-left: 10px;">1.0x</span>
                    </div>
                    <div style="margin: 15px 0;">
                        <label style="color: var(--hacker-cyan); margin-right: 10px;">Pitch:</label>
                        <input type="range" id="ttsPitch" min="0" max="2" step="0.1" value="1" style="width: 120px;">
                        <span id="pitchValue" style="color: var(--hacker-orange); margin-left: 10px;">1.0</span>
                    </div>
                    <button onclick="speakText()" style="background: var(--hacker-green); color: #000; border: none; padding: 15px 30px; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 16px; margin: 10px;">SPEAK TEXT</button>
                    <button onclick="stopSpeech()" style="background: var(--hacker-red); color: #fff; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 10px;">STOP</button>
                </div>
            `);

            // Populate voices
            setTimeout(() => {
                populateVoices();
                document.getElementById('ttsRate').oninput = updateRateValue;
                document.getElementById('ttsPitch').oninput = updatePitchValue;
            }, 100);
        }

        function populateVoices() {
            const voiceSelect = document.getElementById('ttsVoice');
            const voices = speechSynthesis.getVoices();

            voices.forEach(voice => {
                const option = document.createElement('option');
                option.value = voice.name;
                option.textContent = `${voice.name} (${voice.lang})`;
                voiceSelect.appendChild(option);
            });
        }

        function updateRateValue() {
            document.getElementById('rateValue').textContent = this.value + 'x';
        }

        function updatePitchValue() {
            document.getElementById('pitchValue').textContent = this.value;
        }

        function speakText() {
            const text = document.getElementById('ttsInput').value;
            const voiceName = document.getElementById('ttsVoice').value;
            const rate = parseFloat(document.getElementById('ttsRate').value);
            const pitch = parseFloat(document.getElementById('ttsPitch').value);

            if (!text.trim()) {
                showNotification('ERROR', 'Please enter text to speak', 'error');
                return;
            }

            const utterance = new SpeechSynthesisUtterance(text);
            const voices = speechSynthesis.getVoices();
            const selectedVoice = voices.find(voice => voice.name === voiceName);

            if (selectedVoice) utterance.voice = selectedVoice;
            utterance.rate = rate;
            utterance.pitch = pitch;

            speechSynthesis.speak(utterance);
            showNotification('SPEAKING', 'Text-to-speech started', 'success');
        }

        function stopSpeech() {
            speechSynthesis.cancel();
            showNotification('STOPPED', 'Speech cancelled', 'info');
        }

        // Enhanced Tool: Code Editor
        function showCodeEditor() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            showToolModal('üíª CODE EDITOR', `
                <div style="text-align: center;">
                    <div style="margin: 10px 0; font-size: 12px; color: var(--hacker-cyan);">
                        Simple code editor with syntax highlighting (JavaScript/HTML/CSS)
                    </div>
                    <select id="languageSelect" style="background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-cyan); color: var(--hacker-green); font-family: monospace; padding: 5px; margin: 10px 0;">
                        <option value="javascript">JavaScript</option>
                        <option value="html">HTML</option>
                        <option value="css">CSS</option>
                    </select>
                    <textarea id="codeInput" placeholder="Enter your code here..." style="width: 100%; height: 300px; margin: 10px 0; background: rgba(0,0,0,0.9); border: 2px solid var(--hacker-cyan); color: var(--hacker-green); font-family: 'Courier New', monospace; resize: vertical; font-size: 14px; line-height: 1.4;"></textarea>
                    <div style="display: flex; gap: 10px; justify-content: center; margin: 15px 0;">
                        <button onclick="runCode()" style="background: var(--hacker-green); color: #000; border: none; padding: 12px 25px; border-radius: 6px; cursor: pointer; font-weight: bold;">RUN CODE</button>
                        <button onclick="clearCode()" style="background: var(--hacker-orange); color: #000; border: none; padding: 12px 25px; border-radius: 6px; cursor: pointer; font-weight: bold;">CLEAR</button>
                        <button onclick="saveCode()" style="background: var(--hacker-cyan); color: #000; border: none; padding: 12px 25px; border-radius: 6px; cursor: pointer; font-weight: bold;">SAVE</button>
                    </div>
                    <div id="codeOutput" style="margin-top: 15px; padding: 15px; background: rgba(0,0,0,0.8); border: 1px solid var(--hacker-orange); font-family: monospace; font-size: 12px; text-align: left; max-height: 200px; overflow-y: auto; white-space: pre-wrap;"></div>
                </div>
            `);
        }

        function runCode() {
            const code = document.getElementById('codeInput').value;
            const language = document.getElementById('languageSelect').value;
            const outputDiv = document.getElementById('codeOutput');

            outputDiv.textContent = 'Running code...\n';

            try {
                if (language === 'javascript') {
                    // Capture console.log
                    let originalLog = console.log;
                    let logs = [];
                    console.log = (...args) => {
                        logs.push(args.join(' '));
                    };

                    // Run the code in a new function scope
                    let result = new Function(code)();
                    console.log = originalLog;

                    outputDiv.textContent = (logs.length > 0 ? logs.join('\n') + '\n' : '') +
                                          (result !== undefined ? 'Return: ' + result : 'Code executed successfully');
                } else {
                    outputDiv.textContent = `Language "${language}" support coming soon!\n\nPreview:\n${code}`;
                }

                showNotification('CODE RUN', 'Successfully executed', 'success');
            } catch (error) {
                outputDiv.textContent = `Error: ${error.message}\n\n${error.stack}`;
                showNotification('CODE ERROR', 'Execution failed', 'error');
            }
        }

        function clearCode() {
            document.getElementById('codeInput').value = '';
            document.getElementById('codeOutput').textContent = '';
            showNotification('CLEARED', 'Code editor cleared', 'info');
        }

        function saveCode() {
            const code = document.getElementById('codeInput').value;
            const blob = new Blob([code], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `wave-x-code-${Date.now()}.txt`;
            link.click();
            URL.revokeObjectURL(url);
            showNotification('SAVED', 'Code file downloaded', 'success');
        }

        // Enhanced Anti-Close Tab with more features
        function antiCloseTab() {
            // Prevent browser tab from closing
            window.addEventListener('beforeunload', function(e) {
                e.preventDefault();
                e.returnValue = 'WARNING: Anti-close tab is active. Are you sure you want to leave?';
                return 'WARNING: Anti-close tab is active. Are you sure you want to leave?';
            });

            // Override close attempts
            document.onkeydown = function(e) {
                if ((e.ctrlKey || e.metaKey) && (e.key === 'w' || e.key === 'W')) {
                    e.preventDefault();
                    showNotification('ANTI-CLOSE ACTIVE', 'Tab close prevented - hold Shift+Ctrl+W to force close', 'warning');
                    return false;
                }
            };

            showNotification('ANTI CLOSE TAB', 'Enhanced tab protection enabled', 'success');
        }

        // Enhanced Chromebook Crasher with more options
        function chromebookCrasher() {
            showToolModal('üí• CHROMEBOOK CRASHER', `
                <div style="text-align: center;">
                    <div style="margin: 20px 0; color: var(--hacker-red); font-weight: bold; font-size: 18px;">
                        ‚ö†Ô∏è HIGH RISK SYSTEM CRASHER ‚ö†Ô∏è
                    </div>
                    <div style="margin: 20px 0; color: var(--hacker-cyan); border: 2px solid var(--hacker-cyan); border-radius: 10px; padding: 15px; background: rgba(0,0,0,0.7);">
                        <div style="font-size: 14px; margin-bottom: 8px;">WHITE OUT VIRUS - CHROMEBOOK MANAGEMENT SUITE</div>
                        <div style="font-size: 12px; opacity: 0.8;">Click any button below to initiate crash sequence</div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin: 20px 0;">
                        <button onclick="chromebookCrasher()" style="background: linear-gradient(135deg, var(--hacker-red), var(--hacker-orange)); color: #fff; border: 2px solid var(--hacker-red); padding: 25px 20px; border-radius: 15px; cursor: pointer; font-weight: bold; font-size: 20px; text-transform: uppercase; transition: all 0.3s; box-shadow: 0 0 25px rgba(255, 0, 0, 0.6);" onmouseover="this.style.boxShadow='0 0 40px rgba(255, 0, 0, 0.9), inset 0 0 20px rgba(255, 0, 0, 0.3)'" onmouseout="this.style.boxShadow='0 0 25px rgba(255, 0, 0, 0.6)'">üí• CHROMEBOOK CRASHER üí•</button>
                    </div>
                    <div id="crashStatus" style="margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-orange); border-radius: 8px; font-family: monospace; font-size: 13px; color: var(--hacker-cyan);"></div>
                </div>
            `, false);  // false = no close button
        }

        let crashWorkers = [];
        let crashInterval = null;

        function basicCrash() {
            // Original method
            for (let i = 0; i < navigator.hardwareConcurrency || 4; i++) {
                let worker = new Worker('data:application/javascript,' + encodeURIComponent(`
                    while (true) {
                        let sum = 0;
                        for (let j = 0; j < 1e8; j++) sum += Math.sin(j);
                    }
                `));
                crashWorkers.push(worker);
            }
            updateCrashStatus('Basic crash initiated - High CPU loads created');
            document.body.style.animation = 'shudder 0.1s infinite';
        }

        function memoryBomb() {
            // Memory bomb - create massive arrays
            setTimeout(() => {
                for (let i = 0; i < 1000; i++) {
                    let hugeArray = new Array(1000000).fill(Math.random());
                    crashWorkers.push({ array: hugeArray }); // Keep reference to prevent GC
                }
            }, 1000);

            updateCrashStatus('Memory bomb deployed - RAM will fill rapidly');
            document.body.style.animation = 'shudder 0.05s infinite';
        }

        function cpuOverload() {
            crashInterval = setInterval(() => {
                // Create many heavy calculations
                for (let i = 0; i < 100; i++) {
                    setTimeout(() => {
                        let result = 0;
                        for (let j = 0; j < 10000000; j++) result += Math.sin(j);
                    }, Math.random() * 100);
                }
            }, 100);

            updateCrashStatus('CPU overload started - Continuous calculations running');
        }

        function stopCrash() {
            // Stop all workers
            crashWorkers.forEach(worker => {
                if (worker.terminate) worker.terminate();
            });
            crashWorkers = [];

            // Stop intervals
            if (crashInterval) {
                clearInterval(crashInterval);
                crashInterval = null;
            }

            // Stop animations
            document.body.style.animation = '';

            updateCrashStatus('All crash functions stopped - System stabilizing');
            showNotification('STOPPED', 'Crash functions terminated', 'success');
        }

        function updateCrashStatus(message) {
            const statusDiv = document.getElementById('crashStatus');
            if (statusDiv) {
                statusDiv.textContent = message;
            }
        }

        // Additional Tool Functions
        function showCookieManager() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            const cookies = document.cookie.split(';').filter(c => c.trim());
            let cookieHTML = '<div style="text-align: center; margin: 20px 0;"><h3 style="color: var(--hacker-cyan); margin-bottom: 15px;">BROWSER COOKIES</h3>';

            if (cookies.length === 0) {
                cookieHTML += '<div style="color: var(--hacker-orange); margin: 20px 0;">No cookies found</div>';
            } else {
                cookies.forEach(cookie => {
                    const [name, value] = cookie.trim().split('=');
                    cookieHTML += `
                        <div style="margin: 15px 0; padding: 15px; background: rgba(0,0,0,0.6); border: 1px solid var(--hacker-green); border-radius: 8px;">
                            <div style="color: var(--hacker-cyan); font-weight: bold; margin-bottom: 5px;">${name || 'Unnamed'}</div>
                            <div style="color: var(--hacker-green); font-family: monospace; word-break: break-all; margin-bottom: 10px;">${value || 'No value'}</div>
                            <button onclick="deleteCookie('${name}')" style="background: var(--hacker-red); color: #fff; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer;">DELETE</button>
                            <button onclick="navigator.clipboard.writeText('${cookie.trim()}')" style="background: var(--hacker-cyan); color: #000; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; margin-left: 10px;">COPY</button>
                        </div>
                    `;
                });
            }

            cookieHTML += `
                <div style="margin: 20px; display: flex; justify-content: center; gap: 10px;">
                    <button onclick="document.cookie.split(';').forEach(c => { const name = c.split('=')[0].trim(); document.cookie = name + '=; expires=Thu, 01 Jan 1970 00:00:00 GMT'; }); showCookieManager()" style="background: var(--hacker-red); color: #fff; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold;">DELETE ALL COOKIES</button>
                    <button onclick="document.cookie = 'test_cookie=test_value; max-age=3600'; showCookieManager()" style="background: var(--hacker-green); color: #000; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold;">ADD TEST COOKIE</button>
                </div>
            `;

            showToolModal('üç™ COOKIE MANAGER', cookieHTML);
        }

        function deleteCookie(name) {
            document.cookie = name + '=; expires=Thu, 01 Jan 1970 00:00:00 GMT';
            showCookieManager();
            showNotification('COOKIE DELETED', `Removed cookie: ${name}`, 'success');
        }

        function showSystemInfo() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            const canvas = document.createElement('canvas');
            const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
            const debInfo = gl ? gl.getExtension('WEBGL_debug_renderer_info') : null;

            const sysInfo = {
                'User Agent': navigator.userAgent,
                'Platform': navigator.platform,
                'Language': navigator.language,
                'Languages': navigator.languages ? navigator.languages.join(', ') : 'N/A',
                'Cookie Enabled': navigator.cookieEnabled ? 'Yes' : 'No',
                'On Line': navigator.onLine ? 'Yes' : 'No',
                'Screen Resolution': `${screen.width}x${screen.height}`,
                'Window Size': `${window.innerWidth}x${window.innerHeight}`,
                'Color Depth': `${screen.colorDepth}-bit`,
                'Pixel Ratio': window.devicePixelRatio || 1,
                'CPU Cores': navigator.hardwareConcurrency || 'Unknown',
                'Memory': navigator.deviceMemory ? `${navigator.deviceMemory}GB` : 'Unknown',
                'Battery': navigator.getBattery ? 'Supported' : 'Not supported',
                'Geolocation': navigator.geolocation ? 'Available' : 'Blocked',
                'WebGL Vendor': debInfo ? gl.getParameter(debInfo.UNMASKED_VENDOR_WEBGL) : 'Not available',
                'WebGL Renderer': debInfo ? gl.getParameter(debInfo.UNMASKED_RENDERER_WEBGL) : 'Not available',
                'Local Storage': 'localStorage' in window ? 'Available' : 'Blocked',
                'Session Storage': 'sessionStorage' in window ? 'Available' : 'Blocked',
                'IndexedDB': 'indexedDB' in window ? 'Available' : 'Not supported',
                'Web Workers': 'Worker' in window ? 'Supported' : 'Not supported',
                'Service Workers': 'serviceWorker' in navigator ? 'Supported' : 'Not supported',
                'Touch Events': 'ontouchstart' in window ? 'Supported' : 'Not supported',
                'Orientation': typeof DeviceOrientationEvent !== 'undefined' ? 'Supported' : 'Not supported'
            };

            let infoHTML = '<div style="text-align: center;"><h3 style="color: var(--hacker-cyan); margin-bottom: 20px;">SYSTEM INFORMATION</h3>';
            infoHTML += '<div style="max-height: 400px; overflow-y: auto; margin: 0 auto; max-width: 600px;">';

            Object.entries(sysInfo).forEach(([key, value]) => {
                infoHTML += `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px; margin: 4px 0; background: rgba(0,0,0,0.6); border: 1px solid var(--hacker-green); border-radius: 4px;">
                        <span style="color: var(--hacker-cyan); font-weight: bold;">${key}:</span>
                        <span id="${key.replace(/\s+/g, '_').replace(/[^a-zA-Z0-9_]/g, '')}" style="color: var(--hacker-green); font-family: monospace; text-align: right; max-width: 300px; overflow: hidden; text-overflow: ellipsis;" title="${value}">${value}</span>
                    </div>
                `;
            });

            infoHTML += `
                </div>
                <div style="margin: 20px; display: flex; justify-content: center; gap: 10px;">
                    <button onclick="refreshSystemInfo()" style="background: var(--hacker-cyan); color: #000; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold;">REFRESH</button>
                    <button onclick="exportSystemInfo()" style="background: var(--hacker-green); color: #000; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold;">EXPORT</button>
                </div>
            `;

            showToolModal('üìä SYSTEM INFO', infoHTML);
        }

        function refreshSystemInfo() {
            showSystemInfo();
            showNotification('REFRESHED', 'System information updated', 'info');
        }

        function exportSystemInfo() {
            // Gather current system info
            const sysData = {
                timestamp: new Date().toISOString(),
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                screen: `${screen.width}x${screen.height}`,
                window: `${window.innerWidth}x${window.innerHeight}`,
                cores: navigator.hardwareConcurrency,
                language: navigator.language,
                online: navigator.onLine,
                cookieEnabled: navigator.cookieEnabled
            };

            const jsonStr = JSON.stringify(sysData, null, 2);
            const blob = new Blob([jsonStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `wave-x-sysinfo-${Date.now()}.json`;
            link.click();
            URL.revokeObjectURL(url);
            showNotification('EXPORTED', 'System info saved as JSON', 'success');
        }

        function showFileDownloader() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            showToolModal('üìÅ FILE DOWNLOADER', `
                <div style="text-align: center;">
                    <div style="margin: 15px 0; color: var(--hacker-green); font-size: 14px;">
                        Download any file from a URL
                    </div>
                    <input type="url" id="fileUrl" placeholder="https://example.com/file.zip" style="width: 100%; margin: 15px 0; padding: 15px; background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-cyan); color: var(--hacker-green); font-family: monospace; border-radius: 8px; box-sizing: border-box;">
                    <div style="display: flex; justify-content: center; gap: 10px; margin: 20px 0;">
                        <button onclick="downloadFile()" style="background: var(--hacker-green); color: #000; border: none; padding: 15px 30px; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 16px;">DOWNLOAD</button>
                        <button onclick="downloadImage()" style="background: var(--hacker-cyan); color: #000; border: none; padding: 15px 30px; border-radius: 8px; cursor: pointer; font-weight: bold;">DOWNLOAD IMAGE</button>
                    </div>
                    <div id="downloadStatus" style="margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.6); border: 1px solid var(--hacker-orange); border-radius: 8px; font-family: monospace; text-align: left;"></div>

                    <div style="margin-top: 30px; text-align: left; color: var(--hacker-green);">
                        <h4 style="color: var(--hacker-cyan); margin-bottom: 10px;">Recent Downloads:</h4>
                        <div id="downloadHistory" style="max-height: 150px; overflow-y: auto; background: rgba(0,0,0,0.4); padding: 10px; border-radius: 4px;">
                            No downloads yet
                        </div>
                    </div>
                </div>
            `);
        }

        function downloadFile() {
            const url = document.getElementById('fileUrl').value.trim();
            const statusDiv = document.getElementById('downloadStatus');

            if (!url) {
                statusDiv.textContent = '‚ùå Please enter a valid URL';
                showNotification('ERROR', 'URL is required', 'error');
                return;
            }

            statusDiv.textContent = '‚è≥ Starting download...\nURL: ' + url;

            try {
                const link = document.createElement('a');
                link.href = url;
                link.download = url.split('/').pop() || `download-${Date.now()}`;
                link.target = '_blank';

                // Add to download history
                const historyDiv = document.getElementById('downloadHistory');
                const historyEntry = document.createElement('div');
                historyEntry.style.margin = '5px 0';
                historyEntry.style.padding = '5px';
                historyEntry.style.background = 'rgba(0,0,0,0.3)';
                historyEntry.style.borderRadius = '3px';
                historyEntry.innerHTML = `
                    <div style="color: var(--hacker-green); font-size: 12px;">${new Date().toLocaleTimeString()}</div>
                    <div style="color: var(--hacker-cyan); font-size: 11px;">${url.split('/').pop()}</div>
                `;

                if (historyDiv.textContent === 'No downloads yet') {
                    historyDiv.innerHTML = '';
                }
                historyDiv.appendChild(historyEntry);

                link.click();
                statusDiv.textContent = '‚úÖ Download initiated!\nFile: ' + link.download;
                showNotification('DOWNLOADING', 'File download started', 'success');

            } catch (error) {
                statusDiv.textContent = '‚ùå Download failed: ' + error.message;
                showNotification('DOWNLOAD FAILED', error.message, 'error');
            }
        }

        function downloadImage() {
            const url = document.getElementById('fileUrl').value.trim();
            const statusDiv = document.getElementById('downloadStatus');

            if (!url) {
                statusDiv.textContent = '‚ùå Please enter an image URL';
                showNotification('ERROR', 'Image URL is required', 'error');
                return;
            }

            statusDiv.textContent = '‚è≥ Loading image...\nURL: ' + url;

            fetch(url, { mode: 'cors' })
                .then(response => {
                    if (!response.ok) throw new Error('Failed to load image');
                    return response.blob();
                })
                .then(blob => {
                    const objectUrl = URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.href = objectUrl;
                    link.download = `wave-x-image-${Date.now()}.${blob.type.split('/')[1] || 'png'}`;
                    link.click();

                    URL.revokeObjectURL(objectUrl);

                    // Add to history
                    const historyDiv = document.getElementById('downloadHistory');
                    const historyEntry = document.createElement('div');
                    historyEntry.style.margin = '5px 0';
                    historyEntry.style.padding = '5px';
                    historyEntry.style.background = 'rgba(0,0,0,0.3)';
                    historyEntry.style.borderRadius = '3px';
                    historyEntry.innerHTML = `
                        <div style="color: var(--hacker-green); font-size: 12px;">${new Date().toLocaleTimeString()}</div>
                        <div style="color: var(--hacker-cyan); font-size: 11px;">Image: ${link.download}</div>
                    `;

                    if (historyDiv.textContent === 'No downloads yet') {
                        historyDiv.innerHTML = '';
                    }
                    historyDiv.appendChild(historyEntry);

                    statusDiv.textContent = '‚úÖ Image downloaded!\nFile: ' + link.download;
                    showNotification('IMAGE DOWNLOADED', 'Successfully saved image', 'success');
                })
                .catch(error => {
                    statusDiv.textContent = '‚ùå Image download failed: ' + error.message;
                    showNotification('DOWNLOAD FAILED', error.message, 'error');
                });
        }

        // Extension Killer Tool - Advanced extension management
        function showExtensionKiller() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            showToolModal('üóø EXTENSION KILLER', `
                <div style="text-align: center;">
                    <div style="margin: 15px 0; color: var(--hacker-orange); font-weight: bold;">
                        ‚ö†Ô∏è ADVANCED EXTENSION MANAGEMENT SYSTEM ‚ö†Ô∏è
                    </div>
                    <div style="margin: 20px 0;">
                        <button onclick="disableAllExtensions()" style="background: linear-gradient(135deg, var(--hacker-red), var(--hacker-orange)); color: #fff; border: 2px solid var(--hacker-red); padding: 20px 40px; border-radius: 15px; cursor: pointer; font-weight: bold; font-size: 18px; margin: 10px;">
                            DISABLE ALL EXTENSIONS
                        </button>
                    </div>
                    <div style="margin: 20px 0;">
                        <button onclick="scanExtensions()" style="background: linear-gradient(135deg, var(--hacker-cyan), var(--hacker-blue)); color: #000; border: 2px solid var(--hacker-cyan); padding: 15px 30px; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 14px; margin: 10px;">
                            SCAN EXTENSIONS
                        </button>
                    </div>
                    <div style="margin: 20px 0;">
                        <button onclick="forceExtensionRefresh()" style="background: linear-gradient(135deg, var(--hacker-green), var(--hacker-cyan)); color: #000; border: 2px solid var(--hacker-green); padding: 15px 30px; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 14px; margin: 10px;">
                            FORCE REFRESH
                        </button>
                    </div>
                    <div id="extensionStatus" style="margin-top: 25px; padding: 15px; background: rgba(0,0,0,0.8); border: 1px solid var(--hacker-orange); border-radius: 8px; font-family: monospace; text-align: left; max-height: 300px; overflow-y: auto;">
                        <div style="color: var(--hacker-cyan); font-weight: bold; margin-bottom: 10px;">üêõ EXTENSION KILLER STATUS:</div>
                        <div style="color: var(--hacker-green);">‚Ä¢ Waiting for command...</div>
                        <div style="color: var(--hacker-orange); margin-top: 10px; font-size: 12px;">WARNING: This tool manipulates browser extensions. Use with caution!</div>
                    </div>
                </div>
            `);
        }

        function disableAllExtensions() {
            const statusDiv = document.getElementById('extensionStatus');

            if (!chrome || !chrome.management) {
                statusDiv.innerHTML = `
                    <div style="color: var(--hacker-red); font-weight: bold;">‚ùå BROWSER COMPATIBILITY ERROR</div>
                    <div style="color: var(--hacker-orange); margin: 10px 0;">This tool requires Chrome-based browsers with extension management permissions.</div>
                    <div style="color: var(--hacker-green); font-size: 12px;">Manual alternative: chrome://extensions/</div>
                `;
                return;
            }

            statusDiv.innerHTML = `
                <div style="color: var(--hacker-cyan); font-weight: bold;">‚ö° INITIATING EXTENSION DISABLE PROTOCOL...</div>
                <div style="color: var(--hacker-green); margin: 10px 0;">‚Ä¢ Scanning installed extensions...</div>
            `;

            // Disable all extensions
            chrome.management.getAll(function(extensions) {
                let disabledCount = 0;
                let totalCount = 0;

                extensions.forEach(function(extension) {
                    if (extension.type === 'extension' && !extension.isApp) {
                        totalCount++;
                        chrome.management.setEnabled(extension.id, false, function() {
                            disabledCount++;
                            if (disabledCount === totalCount) {
                                statusDiv.innerHTML = `
                                    <div style="color: var(--hacker-red); font-weight: bold;">üíÄ EXTENSIONS DISABLED</div>
                                    <div style="color: var(--hacker-orange); margin: 10px 0;">${disabledCount} extensions successfully disabled!</div>
                                    <div style="color: var(--hacker-green); font-size: 12px; margin-top: 10px;">
                                        üîÑ To re-enable: Visit chrome://extensions/<br>
                                        ‚ö° Some extensions may require page refresh
                                    </div>
                                `;
                                showNotification('EXTENSIONS DISABLED', `${disabledCount} extensions killed`, 'error');
                            }
                        });
                    }
                });

                if (totalCount === 0) {
                    statusDiv.innerHTML = `
                        <div style="color: var(--hacker-green); font-weight: bold;">‚úÖ NO EXTENSIONS FOUND</div>
                        <div style="color: var(--hacker-orange); margin: 10px 0;">No extensions available to disable.</div>
                    `;
                }
            });
        }

        function scanExtensions() {
            const statusDiv = document.getElementById('extensionStatus');

            if (!chrome || !chrome.management) {
                statusDiv.innerHTML = `
                    <div style="color: var(--hacker-red); font-weight: bold;">‚ùå COMPATIBILITY ISSUE</div>
                    <div style="color: var(--hacker-orange); margin: 10px 0;">Extension scanning requires Chrome with management permissions.</div>
                `;
                return;
            }

            statusDiv.innerHTML = `
                <div style="color: var(--hacker-cyan); font-weight: bold;">üîç SCANNING EXTENSIONS...</div>
                <div style="color: var(--hacker-green); margin: 10px 0;">‚Ä¢ Querying extension database...</div>
            `;

            chrome.management.getAll(function(extensions) {
                let extList = '';
                let enabledCount = 0;
                let totalCount = 0;

                extensions.forEach(function(extension) {
                    if (extension.type === 'extension' && !extension.isApp) {
                        totalCount++;
                        if (extension.enabled) enabledCount++;

                        const statusIcon = extension.enabled ? 'üîµ' : 'üî¥';
                        extList += `<div style="margin: 5px 0; padding: 5px; background: rgba(0,0,0,0.4); border-radius: 4px;">
                            <div style="color: var(--hacker-cyan); font-size: 11px;">${statusIcon} ${extension.name}</div>
                            <div style="color: var(--hacker-orange); font-size: 10px;">${extension.id.substring(0, 16)}...</div>
                        </div>`;
                    }
                });

                statusDiv.innerHTML = `
                    <div style="color: var(--hacker-cyan); font-weight: bold;">üìä EXTENSION SCAN COMPLETE</div>
                    <div style="color: var(--hacker-green); margin: 10px 0;">
                        Total: ${totalCount} | Enabled: ${enabledCount} | Disabled: ${totalCount - enabledCount}
                    </div>
                    <div style="max-height: 200px; overflow-y: auto; margin-top: 10px;">
                        ${extList || '<div style="color: var(--hacker-orange);">No extensions found</div>'}
                    </div>
                `;

                showNotification('SCAN COMPLETE', `Found ${totalCount} extensions`, 'info');
            });
        }

        function forceExtensionRefresh() {
            const statusDiv = document.getElementById('extensionStatus');

            // Attempt to reload the background page and refresh extensions
            statusDiv.innerHTML = `
                <div style="color: var(--hacker-orange); font-weight: bold;">üåÄ FORCING EXTENSION REFRESH...</div>
                <div style="color: var(--hacker-green); margin: 10px 0;">‚Ä¢ Reloading extension contexts...</div>
                <div style="color: var(--hacker-cyan); margin-top: 15px; font-size: 12px;">
                    This will attempt to force a refresh of extension contexts.<br>
                    Some features may be temporarily unavailable.
                </div>
            `;

            // Try to reload the page without triggering beforeunload
            setTimeout(() => {
                try {
                    // Force a page refresh through extension messaging if available
                    if (chrome && chrome.runtime) {
                        chrome.runtime.reload();
                    } else {
                        // Fallback: gentle page reload hint
                        statusDiv.innerHTML += `
                            <div style="color: var(--hacker-green); margin-top: 10px; font-size: 12px;">
                                üí° Consider manually refreshing the page for full extension reload
                            </div>
                        `;
                    }
                } catch (e) {
                    statusDiv.innerHTML = `
                        <div style="color: var(--hacker-red); font-weight: bold;">‚ùå REFRESH FAILED</div>
                        <div style="color: var(--hacker-orange); margin: 10px 0;">Refresh operation not supported.</div>
                        <div style="color: var(--hacker-green); font-size: 12px;">Try manual page refresh (F5)</div>
                    `;
                }
            }, 1500);
        }

        // Securely Bypass Tool - Advanced proxy circumvention
        function showSecurelyBypass() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            showToolModal('üîì SECURELY BYPASS', `
                <div style="text-align: center;">
                    <div style="margin: 15px 0; color: var(--hacker-orange); font-weight: bold;">
                        üåê ADVANCED PROXY CIRCUMVENTION SYSTEM
                    </div>
                    <div style="margin: 20px 0;">
                        <button onclick="circumventNetworkBlocks()" style="background: linear-gradient(135deg, var(--hacker-red), var(--hacker-orange)); color: #fff; border: 2px solid var(--hacker-red); padding: 20px 40px; border-radius: 15px; cursor: pointer; font-weight: bold; font-size: 18px; margin: 10px;">
                            CIRCUMVENT NETWORK
                        </button>
                    </div>
                    <div style="margin: 20px 0;">
                        <button onclick="injectProxyHeaders()" style="background: linear-gradient(135deg, var(--hacker-purple), var(--hacker-cyan)); color: #000; border: 2px solid var(--hacker-purple); padding: 15px 30px; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 14px; margin: 10px;">
                            INJECT PROXY HEADERS
                        </button>
                    </div>
                    <div style="margin: 20px 0;">
                        <button onclick="spoofUserAgent()" style="background: linear-gradient(135deg, var(--hacker-green), var(--hacker-blue)); color: #000; border: 2px solid var(--hacker-green); padding: 15px 30px; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 14px; margin: 10px;">
                            SPOOF USER AGENT
                        </button>
                    </div>
                    <div style="margin: 20px 0;">
                        <button onclick="bypassDPIInspection()" style="background: linear-gradient(135deg, var(--hacker-cyan), var(--hacker-red)); color: #000; border: 2px solid var(--hacker-cyan); padding: 15px 30px; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 14px; margin: 10px;">
                            DPI BYPASS
                        </button>
                    </div>
                    <div id="bypassStatus" style="margin-top: 25px; padding: 15px; background: rgba(0,0,0,0.8); border: 1px solid var(--hacker-orange); border-radius: 8px; font-family: monospace; text-align: left; max-height: 300px; overflow-y: auto;">
                        <div style="color: var(--hacker-cyan); font-weight: bold; margin-bottom: 10px;">üõ°Ô∏è BYPASS SYSTEM STATUS:</div>
                        <div style="color: var(--hacker-green);">‚Ä¢ System ready for advanced circumvention...</div>
                        <div style="color: var(--hacker-orange); margin-top: 10px; font-size: 12px;">
                            ‚ö†Ô∏è ADVANCED FEATURES: Requires specific network conditions<br>
                            üîí Encrypted communication protocols detected
                        </div>
                    </div>
                </div>
            `);
        }

        function circumventNetworkBlocks() {
            const statusDiv = document.getElementById('bypassStatus');
            statusDiv.innerHTML = `
                <div style="color: var(--hacker-cyan); font-weight: bold;">üöÄ INITIATING CIRCUMVENTION PROTOCOL...</div>
                <div style="color: var(--hacker-green); margin: 10px 0;">
                    ‚Ä¢ Analyzing network traffic patterns...<br>
                    ‚Ä¢ Scanning for DPI filters...<br>
                    ‚Ä¢ Identifying proxy endpoints...<br>
                    ‚Ä¢ Establishing secure tunnel...
                </div>
            `;

            // Simulate advanced proxy circumvention
            setTimeout(() => {
                statusDiv.innerHTML += `
                    <div style="color: var(--hacker-orange); margin: 10px 0;">
                        Protocol Complexity: HIGH<br>
                        Tunnel Status: ESTABLISHED<br>
                        Encryption: AES-256
                    </div>
                    <div style="color: var(--hacker-green); margin-top: 15px; font-size: 12px;">
                        üîÑ Attempting to bypass network restrictions...<br>
                        üí° If proxy fails, try alternative protocols</div>
                `;

                showNotification('CIRCUMVENTION ACTIVE', 'Advanced proxy protocols activated', 'warning');
            }, 2000);
        }

        function injectProxyHeaders() {
            const statusDiv = document.getElementById('bypassStatus');
            statusDiv.innerHTML = `
                <div style="color: var(--hacker-purple); font-weight: bold;">üåê INJECTING PROXY HEADERS...</div>
                <div style="color: var(--hacker-green); margin: 10px 0;">
                    ‚Ä¢ Modifying HTTP headers...<br>
                    ‚Ä¢ Adding X-Forwarded-For bypass...<br>
                    ‚Ä¢ Spoofing origin headers...<br>
                    ‚Ä¢ Injecting proxy authentication...
                </div>
            `;

            // Attempt to inject proxy headers (limited by CORS)
            try {
                // Create a test request with modified headers
                fetch(window.location.href, {
                    headers: {
                        'X-Forwarded-For': '127.0.0.1',
                        'X-Real-IP': '192.168.1.1',
                        'X-Proxy-Authorization': 'Bypass-Protocol-v3'
                    },
                    method: 'HEAD' // Use HEAD to avoid full download
                }).then(() => {
                    statusDiv.innerHTML = `
                        <div style="color: var(--hacker-green); font-weight: bold;">‚úÖ PROXY HEADERS INJECTED</div>
                        <div style="color: var(--hacker-orange); margin: 10px 0;">
                            Header Injection: SUCCESS<br>
                            CORS Limitations: DETECTED
                        </div>
                        <div style="color: var(--hacker-cyan); font-size: 12px; margin-top: 10px;">
                            Headers spoofed successfully. Full bypass may require server-side scripts.
                        </div>
                    `;
                }).catch(() => {
                    statusDiv.innerHTML = `
                        <div style="color: var(--hacker-orange); font-weight: bold;">‚ö†Ô∏è LIMITED PROXY INJECTION</div>
                        <div style="color: var(--hacker-orange); margin: 10px 0;">
                            Headers injected within CORS limits<br>
                            Full proxy bypass requires external server
                        </div>
                    `;
                });
            } catch (e) {
                statusDiv.innerHTML = `
                    <div style="color: var(--hacker-red); font-weight: bold;">‚ùå HEADER INJECTION FAILED</div>
                    <div style="color: var(--hacker-orange); margin: 10px 0;">
                        Browser restrictions prevent full header injection.
                    </div>
                `;
            }
        }

        function spoofUserAgent() {
            const statusDiv = document.getElementById('bypassStatus');
            statusDiv.innerHTML = `
                <div style="color: var(--hacker-blue); font-weight: bold;">üé≠ SPOOFING USER AGENT...</div>
                <div style="color: var(--hacker-green); margin: 10px 0;">
                    ‚Ä¢ Current UA: ${navigator.userAgent.substring(0, 50)}...<br>
                    ‚Ä¢ Generating new signature...<br>
                    ‚Ä¢ Applying spoofing rules...
                </div>
            `;

            // Simulate user agent spoofing (won't actually work due to browser restrictions)
            setTimeout(() => {
                const userAgents = [
                    'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36',
                    'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36',
                    'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36',
                    'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:121.0) Gecko/20100101 Firefox/121.0',
                    'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.1 Safari/605.1.15'
                ];

                const newUA = userAgents[Math.floor(Math.random() * userAgents.length)];

                statusDiv.innerHTML = `
                    <div style="color: var(--hacker-blue); font-weight: bold;">üé≠ USER AGENT SPOOFED</div>
                    <div style="color: var(--hacker-green); margin: 10px 0;">
                        Spoofed UA: ${newUA.substring(0, 40)}...
                    </div>
                    <div style="color: var(--hacker-orange); font-size: 12px; margin-top: 10px;">
                        ‚ö†Ô∏è Spoofing simulation complete<br>
                        Actual browser UA unchanged for security reasons
                    </div>
                `;

                showNotification('USER AGENT SPOOFED', 'Browser signature changed', 'info');
            }, 1500);
        }

        function bypassDPIInspection() {
            const statusDiv = document.getElementById('bypassStatus');
            statusDiv.innerHTML = `
                <div style="color: var(--hacker-red); font-weight: bold;">üîç DPI INSPECTION BYPASS...</div>
                <div style="color: var(--hacker-green); margin: 10px 0;">
                    ‚Ä¢ Analyzing DPI patterns...<br>
                    ‚Ä¢ Constructing obfuscation filters...<br>
                    ‚Ä¢ Injecting fragmentation protocols...<br>
                    ‚Ä¢ Establishing encrypted channels...
                </div>
            `;

            setTimeout(() => {
                statusDiv.innerHTML += `
                    <div style="color: var(--hacker-orange); margin: 10px 0;">
                        DPI Bypass Level: ADVANCED<br>
                        Packet Fragmentation: ENABLED<br>
                        Obfuscation Protocols: ACTIVE
                    </div>
                    <div style="color: var(--hacker-cy); font-size: 12px; margin-top: 15px;">
                        üí° Deep Packet Inspection bypass protocols activated<br>
                        üîê Encrypted communication channels established
                    </div>
                `;

                showNotification('DPI BYPASS ACTIVE', 'Deep packet inspection circumvented', 'warning');
            }, 2500);
        }

        // Dark Mode Toggle Functionality
        let darkModeEnabled = false;

        function toggleDarkMode() {
            const darkModeBtn = document.getElementById('darkModeToggle');
            const body = document.body;
            const gamesPage = document.getElementById('gamesPage');

            darkModeEnabled = !darkModeEnabled;

            if (darkModeEnabled) {
                // Enable dark mode - lighter theme
                body.style.background = 'linear-gradient(135deg, #1a1a1a, #2a2a2a, #1a1a1a)';
                gamesPage.style.background = 'linear-gradient(135deg, #1a1a1a, #2a2a2a, #1a1a1a)';
                body.style.color = '#ffffff';

                // Update terminal colors to light theme
                const terminal = document.getElementById('mainTerminal');
                terminal.style.background = '#f0f0f0';
                terminal.style.borderColor = '#333';

                // Update terminal content
                const terminalContent = terminal.querySelector('.terminal-content');
                terminalContent.style.background = '#f0f0f0';
                terminalContent.style.color = '#000000';

                // Update matrix rain to be more subtle in light mode
                const matrixRain = document.getElementById('matrixRain');
                matrixRain.style.opacity = '0.05';

                // Update button styling
                darkModeBtn.style.background = 'linear-gradient(135deg, #ffffff, #f0f0f0)';
                darkModeBtn.style.color = '#000000';
                darkModeBtn.style.borderColor = '#333';
                darkModeBtn.innerHTML = '‚òÄÔ∏è LIGHT MODE';

                showNotification('LIGHT MODE ENABLED', 'Interface switched to light theme', 'info');
            } else {
                // Disable dark mode - back to original hacker theme
                body.style.background = '#000000';
                body.style.backgroundImage = 'linear-gradient(135deg, #000000, #0a0a0a, #000000), radial-gradient(circle at 20% 80%, rgba(0, 255, 0, 0.1) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(0, 255, 255, 0.1) 0%, transparent 50%), radial-gradient(circle at 40% 40%, rgba(255, 0, 255, 0.05) 0%, transparent 50%)';
                gamesPage.style.background = '#000000';
                body.style.color = '#00ff00';

                // Reset terminal
                const terminal = document.getElementById('mainTerminal');
                terminal.style.background = 'var(--terminal-black)';
                terminal.style.borderColor = '#333';

                const terminalContent = terminal.querySelector('.terminal-content');
                terminalContent.style.background = 'var(--terminal-black)';
                terminalContent.style.color = 'var(--terminal-green)';

                // Reset matrix rain opacity
                const matrixRain = document.getElementById('matrixRain');
                matrixRain.style.opacity = '0.15';

                // Reset button styling
                darkModeBtn.style.background = 'linear-gradient(135deg, #0a0a0a, #1a1a1a)';
                darkModeBtn.style.color = '#00ff00';
                darkModeBtn.style.borderColor = '#00ff00';
                darkModeBtn.innerHTML = 'üåô DARK MODE';

                showNotification('DARK MODE ENABLED', 'Interface switched to hacker theme', 'info');
            }

            // Update card styles - game cards should be visible in both modes
            const gameCards = document.querySelectorAll('.game-card');
            gameCards.forEach(card => {
                if (darkModeEnabled) {
                    card.style.background = 'linear-gradient(135deg, #f0f0f0, #ffffff)';
                    card.style.borderColor = '#333';
                    card.style.color = '#000000';

                    // Update card children
                    const caption = card.querySelector('.game-caption');
                    if (caption) {
                        caption.style.color = '#000000';
                        caption.style.background = 'linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(0, 0, 0, 0.1))';
                    }
                } else {
                    // Reset to original styles
                    card.style.background = 'linear-gradient(135deg, #0a0a0a, #1a1a1a)';
                    card.style.borderColor = '#00ff00';
                    card.style.color = '#00ff00';

                    const caption = card.querySelector('.game-caption');
                    if (caption) {
                        caption.style.color = 'var(--hacker-green)';
                        caption.style.background = 'linear-gradient(135deg, rgba(0, 0, 0, 0.9), rgba(0, 255, 65, 0.1))';
                    }
                }
            });
        }

        // Talking Dude Tool - Interactive character iframe
        function showTalkingDude() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            showToolModal('üé≠ TALKING DUDE', `
                <div style="text-align: center;">
                    <div style="margin: 15px 0; color: var(--hacker-orange); font-weight: bold;">
                        ü§ñ INTERACTIVE CHARACTER INTERFACE
                    </div>
                    <div style="margin: 20px 0;">
                        <button onclick="launchTalkingDude()" style="background: linear-gradient(135deg, var(--hacker-green), var(--hacker-cyan)); color: #000; border: 2px solid var(--hacker-green); padding: 25px 50px; border-radius: 20px; cursor: pointer; font-weight: bold; font-size: 20px; margin: 15px;">
                            üöÄ LAUNCH TALKING DUDE
                        </button>
                    </div>
                    <div style="margin: 15px 0; color: var(--hacker-cyan);">
                        <div style="font-weight: bold; margin-bottom: 10px;">FEATURES:</div>
                        <div style="font-size: 14px; line-height: 1.6;">
                            üé§ Voice interaction system<br>
                            ü§ñ AI-powered conversations<br>
                            üéÆ Interactive character interface<br>
                            üåü Dynamic personality modes
                        </div>
                    </div>
                    <div id="talkingDudeStatus" style="margin-top: 25px; padding: 15px; background: rgba(0,0,0,0.8); border: 1px solid var(--hacker-orange); border-radius: 8px; font-family: monospace; text-align: left;">
                        <div style="color: var(--hacker-cyan); font-weight: bold; margin-bottom: 10px;">üé≠ TALKING DUDE INTERFACE:</div>
                        <div style="color: var(--hacker-green;">‚Ä¢ Interactive character system ready...</div>
                        <div style="color: var(--hacker-orange); margin-top: 10px; font-size: 12px;">
                            Click LAUNCH to open the Talking Dude interface<br>
                            External iframe: talking-dude.vercel.app
                        </div>
                    </div>
                </div>
            `);
        }

        function launchTalkingDude() {
            const statusDiv = document.getElementById('talkingDudeStatus');
            statusDiv.innerHTML = `
                <div style="color: var(--hacker-green); font-weight: bold; margin-bottom: 10px;">üé≠ LAUNCHING TALKING DUDE...</div>
                <div style="color: var(--hacker-cyan); margin: 10px 0;">
                    ‚Ä¢ Initializing voice synthesis...<br>
                    ‚Ä¢ Loading character personality...<br>
                    ‚Ä¢ Establishing communication channel...<br>
                    ‚Ä¢ Opening interactive interface...
                </div>
            `;

            try {
                // Launch the talking dude iframe
                const iframeUrl = 'https://talking-dude.vercel.app';

                setTimeout(() => {
                    showGameIframe(iframeUrl, 'üé≠ Talking Dude - Interactive Character');

                    statusDiv.innerHTML = `
                        <div style="color: var(--hacker-green); font-weight: bold;">‚úÖ TALKING DUDE LAUNCHED</div>
                        <div style="color: var(--hacker-cyan); margin: 10px 0;">
                            Interactive character interface opened<br>
                            Voice commands and AI conversations available
                        </div>
                        <div style="color: var(--hacker-orange); margin-top: 10px; font-size: 12px;">
                            üé§ Try voice commands or text chat<br>
                            ü§ñ AI-powered personality system active
                        </div>
                    `;

                    showNotification('TALKING DUDE LAUNCHED', 'Interactive character activated', 'success');
                }, 1500);

            } catch (error) {
                statusDiv.innerHTML = `
                    <div style="color: var(--hacker-red); font-weight: bold;">‚ùå LAUNCH FAILED</div>
                    <div style="color: var(--hacker-orange); margin: 10px 0;">
                        Error loading Talking Dude interface:<br>
                        ${error.message}
                    </div>
                    <div style="color: var(--hacker-green); font-size: 12px; margin-top: 10px;">
                        Try refreshing or check network connection
                    </div>
                `;

                showNotification('LAUNCH FAILED', 'Could not load Talking Dude', 'error');
            }
        }

        // Initialize tabs when page loads
        document.addEventListener('DOMContentLoaded', () => {
            new HackerTerminal();
            initializeTabs();

            // Start tips cycler
            new TipsCycler();

            // Start threat injector after short delay
            setTimeout(() => {
                new ThreatInjector();
            }, 5000);
        });
    </script>
</body>
</html>
